(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(c){if(c.ep)return;c.ep=!0;const h=a(c);fetch(c.href,h)}})();function ch(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function $m(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var s=u.default;if(typeof s=="function"){var a=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var c=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(a,o,c.get?c:{enumerable:!0,get:function(){return u[o]}})}),a}var Ko={exports:{}},ps={},Qo={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function Um(){if(wd)return pe;wd=1;var u=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function O(N,b,q){this.props=N,this.context=b,this.refs=R,this.updater=q||C}O.prototype.isReactComponent={},O.prototype.setState=function(N,b){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,b,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=O.prototype;function ne(N,b,q){this.props=N,this.context=b,this.refs=R,this.updater=q||C}var L=ne.prototype=new B;L.constructor=ne,A(L,O.prototype),L.isPureReactComponent=!0;var F=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function je(N,b,q){var ee,X={},oe=null,P=null;if(b!=null)for(ee in b.ref!==void 0&&(P=b.ref),b.key!==void 0&&(oe=""+b.key),b)ie.call(b,ee)&&!ae.hasOwnProperty(ee)&&(X[ee]=b[ee]);var W=arguments.length-2;if(W===1)X.children=q;else if(1<W){for(var te=Array(W),we=0;we<W;we++)te[we]=arguments[we+2];X.children=te}if(N&&N.defaultProps)for(ee in W=N.defaultProps,W)X[ee]===void 0&&(X[ee]=W[ee]);return{$$typeof:u,type:N,key:oe,ref:P,props:X,_owner:ue.current}}function Pe(N,b){return{$$typeof:u,type:N.type,key:b,ref:N.ref,props:N.props,_owner:N._owner}}function Le(N){return typeof N=="object"&&N!==null&&N.$$typeof===u}function De(N){var b={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(q){return b[q]})}var K=/\/+/g;function de(N,b){return typeof N=="object"&&N!==null&&N.key!=null?De(""+N.key):b.toString(36)}function xe(N,b,q,ee,X){var oe=typeof N;(oe==="undefined"||oe==="boolean")&&(N=null);var P=!1;if(N===null)P=!0;else switch(oe){case"string":case"number":P=!0;break;case"object":switch(N.$$typeof){case u:case s:P=!0}}if(P)return P=N,X=X(P),N=ee===""?"."+de(P,0):ee,F(X)?(q="",N!=null&&(q=N.replace(K,"$&/")+"/"),xe(X,b,q,"",function(we){return we})):X!=null&&(Le(X)&&(X=Pe(X,q+(!X.key||P&&P.key===X.key?"":(""+X.key).replace(K,"$&/")+"/")+N)),b.push(X)),1;if(P=0,ee=ee===""?".":ee+":",F(N))for(var W=0;W<N.length;W++){oe=N[W];var te=ee+de(oe,W);P+=xe(oe,b,q,te,X)}else if(te=k(N),typeof te=="function")for(N=te.call(N),W=0;!(oe=N.next()).done;)oe=oe.value,te=ee+de(oe,W++),P+=xe(oe,b,q,te,X);else if(oe==="object")throw b=String(N),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return P}function Re(N,b,q){if(N==null)return N;var ee=[],X=0;return xe(N,ee,"","",function(oe){return b.call(q,oe,X++)}),ee}function ye(N){if(N._status===-1){var b=N._result;b=b(),b.then(function(q){(N._status===0||N._status===-1)&&(N._status=1,N._result=q)},function(q){(N._status===0||N._status===-1)&&(N._status=2,N._result=q)}),N._status===-1&&(N._status=0,N._result=b)}if(N._status===1)return N._result.default;throw N._result}var be={current:null},V={transition:null},se={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:V,ReactCurrentOwner:ue};function H(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:Re,forEach:function(N,b,q){Re(N,function(){b.apply(this,arguments)},q)},count:function(N){var b=0;return Re(N,function(){b++}),b},toArray:function(N){return Re(N,function(b){return b})||[]},only:function(N){if(!Le(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},pe.Component=O,pe.Fragment=a,pe.Profiler=c,pe.PureComponent=ne,pe.StrictMode=o,pe.Suspense=p,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,pe.act=H,pe.cloneElement=function(N,b,q){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ee=A({},N.props),X=N.key,oe=N.ref,P=N._owner;if(b!=null){if(b.ref!==void 0&&(oe=b.ref,P=ue.current),b.key!==void 0&&(X=""+b.key),N.type&&N.type.defaultProps)var W=N.type.defaultProps;for(te in b)ie.call(b,te)&&!ae.hasOwnProperty(te)&&(ee[te]=b[te]===void 0&&W!==void 0?W[te]:b[te])}var te=arguments.length-2;if(te===1)ee.children=q;else if(1<te){W=Array(te);for(var we=0;we<te;we++)W[we]=arguments[we+2];ee.children=W}return{$$typeof:u,type:N.type,key:X,ref:oe,props:ee,_owner:P}},pe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:h,_context:N},N.Consumer=N},pe.createElement=je,pe.createFactory=function(N){var b=je.bind(null,N);return b.type=N,b},pe.createRef=function(){return{current:null}},pe.forwardRef=function(N){return{$$typeof:g,render:N}},pe.isValidElement=Le,pe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ye}},pe.memo=function(N,b){return{$$typeof:x,type:N,compare:b===void 0?null:b}},pe.startTransition=function(N){var b=V.transition;V.transition={};try{N()}finally{V.transition=b}},pe.unstable_act=H,pe.useCallback=function(N,b){return be.current.useCallback(N,b)},pe.useContext=function(N){return be.current.useContext(N)},pe.useDebugValue=function(){},pe.useDeferredValue=function(N){return be.current.useDeferredValue(N)},pe.useEffect=function(N,b){return be.current.useEffect(N,b)},pe.useId=function(){return be.current.useId()},pe.useImperativeHandle=function(N,b,q){return be.current.useImperativeHandle(N,b,q)},pe.useInsertionEffect=function(N,b){return be.current.useInsertionEffect(N,b)},pe.useLayoutEffect=function(N,b){return be.current.useLayoutEffect(N,b)},pe.useMemo=function(N,b){return be.current.useMemo(N,b)},pe.useReducer=function(N,b,q){return be.current.useReducer(N,b,q)},pe.useRef=function(N){return be.current.useRef(N)},pe.useState=function(N){return be.current.useState(N)},pe.useSyncExternalStore=function(N,b,q){return be.current.useSyncExternalStore(N,b,q)},pe.useTransition=function(){return be.current.useTransition()},pe.version="18.3.1",pe}var _d;function gl(){return _d||(_d=1,Qo.exports=Um()),Qo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function zm(){if(jd)return ps;jd=1;var u=gl(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(g,p,x){var y,w={},k=null,C=null;x!==void 0&&(k=""+x),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(C=p.ref);for(y in p)o.call(p,y)&&!h.hasOwnProperty(y)&&(w[y]=p[y]);if(g&&g.defaultProps)for(y in p=g.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:s,type:g,key:k,ref:C,props:w,_owner:c.current}}return ps.Fragment=a,ps.jsx=f,ps.jsxs=f,ps}var bd;function Fm(){return bd||(bd=1,Ko.exports=zm()),Ko.exports}var n=Fm(),I=gl();const Qi=ch(I);var $i={},Go={exports:{}},ht={},Jo={exports:{}},Yo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Bm(){return Nd||(Nd=1,function(u){function s(V,se){var H=V.length;V.push(se);e:for(;0<H;){var N=H-1>>>1,b=V[N];if(0<c(b,se))V[N]=se,V[H]=b,H=N;else break e}}function a(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var se=V[0],H=V.pop();if(H!==se){V[0]=H;e:for(var N=0,b=V.length,q=b>>>1;N<q;){var ee=2*(N+1)-1,X=V[ee],oe=ee+1,P=V[oe];if(0>c(X,H))oe<b&&0>c(P,X)?(V[N]=P,V[oe]=H,N=oe):(V[N]=X,V[ee]=H,N=ee);else if(oe<b&&0>c(P,H))V[N]=P,V[oe]=H,N=oe;else break e}}return se}function c(V,se){var H=V.sortIndex-se.sortIndex;return H!==0?H:V.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;u.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();u.unstable_now=function(){return f.now()-g}}var p=[],x=[],y=1,w=null,k=3,C=!1,A=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(V){for(var se=a(x);se!==null;){if(se.callback===null)o(x);else if(se.startTime<=V)o(x),se.sortIndex=se.expirationTime,s(p,se);else break;se=a(x)}}function F(V){if(R=!1,L(V),!A)if(a(p)!==null)A=!0,ye(ie);else{var se=a(x);se!==null&&be(F,se.startTime-V)}}function ie(V,se){A=!1,R&&(R=!1,B(je),je=-1),C=!0;var H=k;try{for(L(se),w=a(p);w!==null&&(!(w.expirationTime>se)||V&&!De());){var N=w.callback;if(typeof N=="function"){w.callback=null,k=w.priorityLevel;var b=N(w.expirationTime<=se);se=u.unstable_now(),typeof b=="function"?w.callback=b:w===a(p)&&o(p),L(se)}else o(p);w=a(p)}if(w!==null)var q=!0;else{var ee=a(x);ee!==null&&be(F,ee.startTime-se),q=!1}return q}finally{w=null,k=H,C=!1}}var ue=!1,ae=null,je=-1,Pe=5,Le=-1;function De(){return!(u.unstable_now()-Le<Pe)}function K(){if(ae!==null){var V=u.unstable_now();Le=V;var se=!0;try{se=ae(!0,V)}finally{se?de():(ue=!1,ae=null)}}else ue=!1}var de;if(typeof ne=="function")de=function(){ne(K)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Re=xe.port2;xe.port1.onmessage=K,de=function(){Re.postMessage(null)}}else de=function(){O(K,0)};function ye(V){ae=V,ue||(ue=!0,de())}function be(V,se){je=O(function(){V(u.unstable_now())},se)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(V){V.callback=null},u.unstable_continueExecution=function(){A||C||(A=!0,ye(ie))},u.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<V?Math.floor(1e3/V):5},u.unstable_getCurrentPriorityLevel=function(){return k},u.unstable_getFirstCallbackNode=function(){return a(p)},u.unstable_next=function(V){switch(k){case 1:case 2:case 3:var se=3;break;default:se=k}var H=k;k=se;try{return V()}finally{k=H}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(V,se){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=k;k=V;try{return se()}finally{k=H}},u.unstable_scheduleCallback=function(V,se,H){var N=u.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?N+H:N):H=N,V){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=H+b,V={id:y++,callback:se,priorityLevel:V,startTime:H,expirationTime:b,sortIndex:-1},H>N?(V.sortIndex=H,s(x,V),a(p)===null&&V===a(x)&&(R?(B(je),je=-1):R=!0,be(F,H-N))):(V.sortIndex=b,s(p,V),A||C||(A=!0,ye(ie))),V},u.unstable_shouldYield=De,u.unstable_wrapCallback=function(V){var se=k;return function(){var H=k;k=se;try{return V.apply(this,arguments)}finally{k=H}}}}(Yo)),Yo}var kd;function Vm(){return kd||(kd=1,Jo.exports=Bm()),Jo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function qm(){if(Sd)return ht;Sd=1;var u=gl(),s=Vm();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function h(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)o.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function k(e){return p.call(w,e)?!0:p.call(y,e)?!1:x.test(e)?w[e]=!0:(y[e]=!0,!1)}function C(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,r,i){if(t===null||typeof t>"u"||C(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,r,i,l,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function ne(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B,ne);O[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B,ne);O[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B,ne);O[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,r,i){var l=O.hasOwnProperty(t)?O[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,r,l,i)&&(r=null),i||l===null?k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var F=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),Le=Symbol.for("react.provider"),De=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),V=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,N;function b(e){if(N===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var q=!1;function ee(e,t){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var i=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){i=T}e.call(t.prototype)}else{try{throw Error()}catch(T){i=T}e()}}catch(T){if(T&&i&&typeof T.stack=="string"){for(var l=T.stack.split(`
`),d=i.stack.split(`
`),m=l.length-1,v=d.length-1;1<=m&&0<=v&&l[m]!==d[v];)v--;for(;1<=m&&0<=v;m--,v--)if(l[m]!==d[v]){if(m!==1||v!==1)do if(m--,v--,0>v||l[m]!==d[v]){var _=`
`+l[m].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=m&&0<=v);break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?b(e):""}function X(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case ue:return"Portal";case Pe:return"Profiler";case je:return"StrictMode";case de:return"Suspense";case xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case De:return(e.displayName||"Context")+".Consumer";case Le:return(e._context.displayName||"Context")+".Provider";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function P(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===je?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function we(e){var t=te(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(m){i=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function D(e){e._valueTracker||(e._valueTracker=we(e))}function me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=te(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qe(e,t){var r=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mt(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=W(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ts(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function $t(e,t){Ts(e,t);var r=W(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tn(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tn(e,t.type,W(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function En(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tn(e,t,r){(t!=="number"||ke(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pn=Array.isArray;function Vr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(a(92));if(Pn(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function Al(e,t){var r=W(t.value),i=W(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Dl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Ol=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function An(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fh=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){Fh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function Il(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Ll(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=Il(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var Bh=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(Bh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,qr=null,Hr=null;function Ml(e){if(e=es(e)){if(typeof la!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Xs(t),la(e.stateNode,e.type,t))}}function $l(e){qr?Hr?Hr.push(e):Hr=[e]:qr=e}function Ul(){if(qr){var e=qr,t=Hr;if(Hr=qr=null,Ml(e),t)for(e=0;e<t.length;e++)Ml(t[e])}}function zl(e,t){return e(t)}function Fl(){}var ca=!1;function Bl(e,t,r){if(ca)return e(t,r);ca=!0;try{return zl(e,t,r)}finally{ca=!1,(qr!==null||Hr!==null)&&(Fl(),Ul())}}function Rn(e,t){var r=e.stateNode;if(r===null)return null;var i=Xs(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var ua=!1;if(g)try{var On={};Object.defineProperty(On,"passive",{get:function(){ua=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{ua=!1}function Vh(e,t,r,i,l,d,m,v,_){var T=Array.prototype.slice.call(arguments,3);try{t.apply(r,T)}catch($){this.onError($)}}var In=!1,As=null,Ds=!1,da=null,qh={onError:function(e){In=!0,As=e}};function Hh(e,t,r,i,l,d,m,v,_){In=!1,As=null,Vh.apply(qh,arguments)}function Wh(e,t,r,i,l,d,m,v,_){if(Hh.apply(this,arguments),In){if(In){var T=As;In=!1,As=null}else throw Error(a(198));Ds||(Ds=!0,da=T)}}function Sr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ql(e){if(Sr(e)!==e)throw Error(a(188))}function Kh(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return ql(l),e;if(d===i)return ql(l),t;d=d.sibling}throw Error(a(188))}if(r.return!==i.return)r=l,i=d;else{for(var m=!1,v=l.child;v;){if(v===r){m=!0,r=l,i=d;break}if(v===i){m=!0,i=l,r=d;break}v=v.sibling}if(!m){for(v=d.child;v;){if(v===r){m=!0,r=d,i=l;break}if(v===i){m=!0,i=d,r=l;break}v=v.sibling}if(!m)throw Error(a(189))}}if(r.alternate!==i)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function Hl(e){return e=Kh(e),e!==null?Wl(e):null}function Wl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wl(e);if(t!==null)return t;e=e.sibling}return null}var Kl=s.unstable_scheduleCallback,Ql=s.unstable_cancelCallback,Qh=s.unstable_shouldYield,Gh=s.unstable_requestPaint,$e=s.unstable_now,Jh=s.unstable_getCurrentPriorityLevel,ha=s.unstable_ImmediatePriority,Gl=s.unstable_UserBlockingPriority,Rs=s.unstable_NormalPriority,Yh=s.unstable_LowPriority,Jl=s.unstable_IdlePriority,Os=null,Ut=null;function Zh(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Os,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:tf,Xh=Math.log,ef=Math.LN2;function tf(e){return e>>>=0,e===0?32:31-(Xh(e)/ef|0)|0}var Is=64,Ls=4194304;function Ln(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes,m=r&268435455;if(m!==0){var v=m&~l;v!==0?i=Ln(v):(d&=m,d!==0&&(i=Ln(d)))}else m=r&~l,m!==0?i=Ln(m):d!==0&&(i=Ln(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Et(t),l=1<<r,i|=e[r],t&=~l;return i}function rf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-Et(d),v=1<<m,_=l[m];_===-1?((v&r)===0||(v&i)!==0)&&(l[m]=rf(v,t)):_<=t&&(e.expiredLanes|=v),d&=~v}}function fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yl(){var e=Is;return Is<<=1,(Is&4194240)===0&&(Is=64),e}function ma(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=r}function sf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Et(r),d=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~d}}function pa(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Et(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var Ne=0;function Zl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Xl,ga,ec,tc,rc,ya=!1,$s=[],er=null,tr=null,rr=null,$n=new Map,Un=new Map,nr=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function zn(e,t,r,i,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[l]},t!==null&&(t=es(t),t!==null&&ga(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function of(e,t,r,i,l){switch(t){case"focusin":return er=zn(er,e,t,r,i,l),!0;case"dragenter":return tr=zn(tr,e,t,r,i,l),!0;case"mouseover":return rr=zn(rr,e,t,r,i,l),!0;case"pointerover":var d=l.pointerId;return $n.set(d,zn($n.get(d)||null,e,t,r,i,l)),!0;case"gotpointercapture":return d=l.pointerId,Un.set(d,zn(Un.get(d)||null,e,t,r,i,l)),!0}return!1}function sc(e){var t=Cr(e.target);if(t!==null){var r=Sr(t);if(r!==null){if(t=r.tag,t===13){if(t=Vl(r),t!==null){e.blockedOn=t,rc(e.priority,function(){ec(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=va(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);aa=i,r.target.dispatchEvent(i),aa=null}else return t=es(r),t!==null&&ga(t),e.blockedOn=r,!1;t.shift()}return!0}function ic(e,t,r){Us(e)&&r.delete(t)}function lf(){ya=!1,er!==null&&Us(er)&&(er=null),tr!==null&&Us(tr)&&(tr=null),rr!==null&&Us(rr)&&(rr=null),$n.forEach(ic),Un.forEach(ic)}function Fn(e,t){e.blockedOn===t&&(e.blockedOn=null,ya||(ya=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lf)))}function Bn(e){function t(l){return Fn(l,e)}if(0<$s.length){Fn($s[0],e);for(var r=1;r<$s.length;r++){var i=$s[r];i.blockedOn===e&&(i.blockedOn=null)}}for(er!==null&&Fn(er,e),tr!==null&&Fn(tr,e),rr!==null&&Fn(rr,e),$n.forEach(t),Un.forEach(t),r=0;r<nr.length;r++)i=nr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)sc(r),r.blockedOn===null&&nr.shift()}var Wr=F.ReactCurrentBatchConfig,zs=!0;function cf(e,t,r,i){var l=Ne,d=Wr.transition;Wr.transition=null;try{Ne=1,xa(e,t,r,i)}finally{Ne=l,Wr.transition=d}}function uf(e,t,r,i){var l=Ne,d=Wr.transition;Wr.transition=null;try{Ne=4,xa(e,t,r,i)}finally{Ne=l,Wr.transition=d}}function xa(e,t,r,i){if(zs){var l=va(e,t,r,i);if(l===null)La(e,t,i,Fs,r),nc(e,i);else if(of(l,e,t,r,i))i.stopPropagation();else if(nc(e,i),t&4&&-1<af.indexOf(e)){for(;l!==null;){var d=es(l);if(d!==null&&Xl(d),d=va(e,t,r,i),d===null&&La(e,t,i,Fs,r),d===l)break;l=d}l!==null&&i.stopPropagation()}else La(e,t,i,null,r)}}var Fs=null;function va(e,t,r,i){if(Fs=null,e=oa(i),e=Cr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vl(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fs=e,null}function ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jh()){case ha:return 1;case Gl:return 4;case Rs:case Yh:return 16;case Jl:return 536870912;default:return 16}default:return 16}}var sr=null,wa=null,Bs=null;function oc(){if(Bs)return Bs;var e,t=wa,r=t.length,i,l="value"in sr?sr.value:sr.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var m=r-e;for(i=1;i<=m&&t[r-i]===l[d-i];i++);return Bs=l.slice(e,1<i?1-i:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function lc(){return!1}function pt(e){function t(r,i,l,d,m){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qs:lc,this.isPropagationStopped=lc,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=pt(Kr),Vn=H({},Kr,{view:0,detail:0}),df=pt(Vn),ja,ba,qn,Hs=H({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(ja=e.screenX-qn.screenX,ba=e.screenY-qn.screenY):ba=ja=0,qn=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),cc=pt(Hs),hf=H({},Hs,{dataTransfer:0}),ff=pt(hf),mf=H({},Vn,{relatedTarget:0}),Na=pt(mf),pf=H({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),gf=pt(pf),yf=H({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xf=pt(yf),vf=H({},Kr,{data:0}),uc=pt(vf),wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jf[e])?!!t[e]:!1}function ka(){return bf}var Nf=H({},Vn,{key:function(e){if(e.key){var t=wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_f[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kf=pt(Nf),Sf=H({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=pt(Sf),Cf=H({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Ef=pt(Cf),Tf=H({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=pt(Tf),Af=H({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=pt(Af),Rf=[9,13,27,32],Sa=g&&"CompositionEvent"in window,Hn=null;g&&"documentMode"in document&&(Hn=document.documentMode);var Of=g&&"TextEvent"in window&&!Hn,hc=g&&(!Sa||Hn&&8<Hn&&11>=Hn),fc=" ",mc=!1;function pc(e,t){switch(e){case"keyup":return Rf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function If(e,t){switch(e){case"compositionend":return gc(t);case"keypress":return t.which!==32?null:(mc=!0,fc);case"textInput":return e=t.data,e===fc&&mc?null:e;default:return null}}function Lf(e,t){if(Qr)return e==="compositionend"||!Sa&&pc(e,t)?(e=oc(),Bs=wa=sr=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hc&&t.locale!=="ko"?null:t.data;default:return null}}var Mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mf[e.type]:t==="textarea"}function xc(e,t,r,i){$l(i),t=Js(t,"onChange"),0<t.length&&(r=new _a("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Wn=null,Kn=null;function $f(e){Lc(e,0)}function Ws(e){var t=Xr(e);if(me(t))return e}function Uf(e,t){if(e==="change")return t}var vc=!1;if(g){var Ca;if(g){var Ea="oninput"in document;if(!Ea){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),Ea=typeof wc.oninput=="function"}Ca=Ea}else Ca=!1;vc=Ca&&(!document.documentMode||9<document.documentMode)}function _c(){Wn&&(Wn.detachEvent("onpropertychange",jc),Kn=Wn=null)}function jc(e){if(e.propertyName==="value"&&Ws(Kn)){var t=[];xc(t,Kn,e,oa(e)),Bl($f,t)}}function zf(e,t,r){e==="focusin"?(_c(),Wn=t,Kn=r,Wn.attachEvent("onpropertychange",jc)):e==="focusout"&&_c()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Kn)}function Bf(e,t){if(e==="click")return Ws(t)}function Vf(e,t){if(e==="input"||e==="change")return Ws(t)}function qf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:qf;function Qn(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!p.call(t,l)||!Tt(e[l],t[l]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nc(e,t){var r=bc(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bc(r)}}function kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sc(){for(var e=window,t=ke();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ke(e.document)}return t}function Ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hf(e){var t=Sc(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kc(r.ownerDocument.documentElement,r)){if(i!==null&&Ta(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(i.start,l);i=i.end===void 0?d:Math.min(i.end,l),!e.extend&&d>i&&(l=i,i=d,d=l),l=Nc(r,d);var m=Nc(r,i);l&&m&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wf=g&&"documentMode"in document&&11>=document.documentMode,Gr=null,Pa=null,Gn=null,Aa=!1;function Cc(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Aa||Gr==null||Gr!==ke(i)||(i=Gr,"selectionStart"in i&&Ta(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gn&&Qn(Gn,i)||(Gn=i,i=Js(Pa,"onSelect"),0<i.length&&(t=new _a("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Gr)))}function Ks(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Da={},Ec={};g&&(Ec=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function Qs(e){if(Da[e])return Da[e];if(!Jr[e])return e;var t=Jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ec)return Da[e]=t[r];return e}var Tc=Qs("animationend"),Pc=Qs("animationiteration"),Ac=Qs("animationstart"),Dc=Qs("transitionend"),Rc=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Rc.set(e,t),h(t,[e])}for(var Ra=0;Ra<Oc.length;Ra++){var Oa=Oc[Ra],Kf=Oa.toLowerCase(),Qf=Oa[0].toUpperCase()+Oa.slice(1);ir(Kf,"on"+Qf)}ir(Tc,"onAnimationEnd"),ir(Pc,"onAnimationIteration"),ir(Ac,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Dc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function Ic(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Wh(i,t,void 0,e),e.currentTarget=null}function Lc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var v=i[m],_=v.instance,T=v.currentTarget;if(v=v.listener,_!==d&&l.isPropagationStopped())break e;Ic(l,v,T),d=_}else for(m=0;m<i.length;m++){if(v=i[m],_=v.instance,T=v.currentTarget,v=v.listener,_!==d&&l.isPropagationStopped())break e;Ic(l,v,T),d=_}}}if(Ds)throw e=da,Ds=!1,da=null,e}function Ee(e,t){var r=t[Ba];r===void 0&&(r=t[Ba]=new Set);var i=e+"__bubble";r.has(i)||(Mc(t,e,2,!1),r.add(i))}function Ia(e,t,r){var i=0;t&&(i|=4),Mc(r,e,i,t)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[Gs]){e[Gs]=!0,o.forEach(function(r){r!=="selectionchange"&&(Gf.has(r)||Ia(r,!1,e),Ia(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gs]||(t[Gs]=!0,Ia("selectionchange",!1,t))}}function Mc(e,t,r,i){switch(ac(t)){case 1:var l=cf;break;case 4:l=uf;break;default:l=xa}r=l.bind(null,t,r,e),l=void 0,!ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function La(e,t,r,i,l){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var v=i.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(m===4)for(m=i.return;m!==null;){var _=m.tag;if((_===3||_===4)&&(_=m.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;m=m.return}for(;v!==null;){if(m=Cr(v),m===null)return;if(_=m.tag,_===5||_===6){i=d=m;continue e}v=v.parentNode}}i=i.return}Bl(function(){var T=d,$=oa(r),U=[];e:{var M=Rc.get(e);if(M!==void 0){var Q=_a,J=e;switch(e){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":Q=kf;break;case"focusin":J="focus",Q=Na;break;case"focusout":J="blur",Q=Na;break;case"beforeblur":case"afterblur":Q=Na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ef;break;case Tc:case Pc:case Ac:Q=gf;break;case Dc:Q=Pf;break;case"scroll":Q=df;break;case"wheel":Q=Df;break;case"copy":case"cut":case"paste":Q=xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=dc}var Y=(t&4)!==0,Ue=!Y&&e==="scroll",S=Y?M!==null?M+"Capture":null:M;Y=[];for(var j=T,E;j!==null;){E=j;var z=E.stateNode;if(E.tag===5&&z!==null&&(E=z,S!==null&&(z=Rn(j,S),z!=null&&Y.push(Zn(j,z,E)))),Ue)break;j=j.return}0<Y.length&&(M=new Q(M,J,null,r,$),U.push({event:M,listeners:Y}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",M&&r!==aa&&(J=r.relatedTarget||r.fromElement)&&(Cr(J)||J[qt]))break e;if((Q||M)&&(M=$.window===$?$:(M=$.ownerDocument)?M.defaultView||M.parentWindow:window,Q?(J=r.relatedTarget||r.toElement,Q=T,J=J?Cr(J):null,J!==null&&(Ue=Sr(J),J!==Ue||J.tag!==5&&J.tag!==6)&&(J=null)):(Q=null,J=T),Q!==J)){if(Y=cc,z="onMouseLeave",S="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Y=dc,z="onPointerLeave",S="onPointerEnter",j="pointer"),Ue=Q==null?M:Xr(Q),E=J==null?M:Xr(J),M=new Y(z,j+"leave",Q,r,$),M.target=Ue,M.relatedTarget=E,z=null,Cr($)===T&&(Y=new Y(S,j+"enter",J,r,$),Y.target=E,Y.relatedTarget=Ue,z=Y),Ue=z,Q&&J)t:{for(Y=Q,S=J,j=0,E=Y;E;E=Yr(E))j++;for(E=0,z=S;z;z=Yr(z))E++;for(;0<j-E;)Y=Yr(Y),j--;for(;0<E-j;)S=Yr(S),E--;for(;j--;){if(Y===S||S!==null&&Y===S.alternate)break t;Y=Yr(Y),S=Yr(S)}Y=null}else Y=null;Q!==null&&$c(U,M,Q,Y,!1),J!==null&&Ue!==null&&$c(U,Ue,J,Y,!0)}}e:{if(M=T?Xr(T):window,Q=M.nodeName&&M.nodeName.toLowerCase(),Q==="select"||Q==="input"&&M.type==="file")var Z=Uf;else if(yc(M))if(vc)Z=Vf;else{Z=Ff;var le=zf}else(Q=M.nodeName)&&Q.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(Z=Bf);if(Z&&(Z=Z(e,T))){xc(U,Z,r,$);break e}le&&le(e,M,T),e==="focusout"&&(le=M._wrapperState)&&le.controlled&&M.type==="number"&&Tn(M,"number",M.value)}switch(le=T?Xr(T):window,e){case"focusin":(yc(le)||le.contentEditable==="true")&&(Gr=le,Pa=T,Gn=null);break;case"focusout":Gn=Pa=Gr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,Cc(U,r,$);break;case"selectionchange":if(Wf)break;case"keydown":case"keyup":Cc(U,r,$)}var ce;if(Sa)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Qr?pc(e,r)&&(he="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(he="onCompositionStart");he&&(hc&&r.locale!=="ko"&&(Qr||he!=="onCompositionStart"?he==="onCompositionEnd"&&Qr&&(ce=oc()):(sr=$,wa="value"in sr?sr.value:sr.textContent,Qr=!0)),le=Js(T,he),0<le.length&&(he=new uc(he,e,null,r,$),U.push({event:he,listeners:le}),ce?he.data=ce:(ce=gc(r),ce!==null&&(he.data=ce)))),(ce=Of?If(e,r):Lf(e,r))&&(T=Js(T,"onBeforeInput"),0<T.length&&($=new uc("onBeforeInput","beforeinput",null,r,$),U.push({event:$,listeners:T}),$.data=ce))}Lc(U,t)})}function Zn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Js(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=Rn(e,r),d!=null&&i.unshift(Zn(e,d,l)),d=Rn(e,t),d!=null&&i.push(Zn(e,d,l))),e=e.return}return i}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,r,i,l){for(var d=t._reactName,m=[];r!==null&&r!==i;){var v=r,_=v.alternate,T=v.stateNode;if(_!==null&&_===i)break;v.tag===5&&T!==null&&(v=T,l?(_=Rn(r,d),_!=null&&m.unshift(Zn(r,_,v))):l||(_=Rn(r,d),_!=null&&m.push(Zn(r,_,v)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var Jf=/\r\n?/g,Yf=/\u0000|\uFFFD/g;function Uc(e){return(typeof e=="string"?e:""+e).replace(Jf,`
`).replace(Yf,"")}function Ys(e,t,r){if(t=Uc(t),Uc(e)!==t&&r)throw Error(a(425))}function Zs(){}var Ma=null,$a=null;function Ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Zf=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Xf=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(em)}:za;function em(e){setTimeout(function(){throw e})}function Fa(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),Bn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);Bn(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),zt="__reactFiber$"+Zr,Xn="__reactProps$"+Zr,qt="__reactContainer$"+Zr,Ba="__reactEvents$"+Zr,tm="__reactListeners$"+Zr,rm="__reactHandles$"+Zr;function Cr(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qt]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fc(e);e!==null;){if(r=e[zt])return r;e=Fc(e)}return t}e=r,r=e.parentNode}return null}function es(e){return e=e[zt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Xs(e){return e[Xn]||null}var Va=[],en=-1;function or(e){return{current:e}}function Te(e){0>en||(e.current=Va[en],Va[en]=null,en--)}function Se(e,t){en++,Va[en]=e.current,e.current=t}var lr={},Xe=or(lr),ot=or(!1),Er=lr;function tn(e,t){var r=e.type.contextTypes;if(!r)return lr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function lt(e){return e=e.childContextTypes,e!=null}function ei(){Te(ot),Te(Xe)}function Bc(e,t,r){if(Xe.current!==lr)throw Error(a(168));Se(Xe,t),Se(ot,r)}function Vc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(a(108,P(e)||"Unknown",l));return H({},r,i)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Er=Xe.current,Se(Xe,e),Se(ot,ot.current),!0}function qc(e,t,r){var i=e.stateNode;if(!i)throw Error(a(169));r?(e=Vc(e,t,Er),i.__reactInternalMemoizedMergedChildContext=e,Te(ot),Te(Xe),Se(Xe,e)):Te(ot),Se(ot,r)}var Ht=null,ri=!1,qa=!1;function Hc(e){Ht===null?Ht=[e]:Ht.push(e)}function nm(e){ri=!0,Hc(e)}function cr(){if(!qa&&Ht!==null){qa=!0;var e=0,t=Ne;try{var r=Ht;for(Ne=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Ht=null,ri=!1}catch(l){throw Ht!==null&&(Ht=Ht.slice(e+1)),Kl(ha,cr),l}finally{Ne=t,qa=!1}}return null}var rn=[],nn=0,ni=null,si=0,wt=[],_t=0,Tr=null,Wt=1,Kt="";function Pr(e,t){rn[nn++]=si,rn[nn++]=ni,ni=e,si=t}function Wc(e,t,r){wt[_t++]=Wt,wt[_t++]=Kt,wt[_t++]=Tr,Tr=e;var i=Wt;e=Kt;var l=32-Et(i)-1;i&=~(1<<l),r+=1;var d=32-Et(t)+l;if(30<d){var m=l-l%5;d=(i&(1<<m)-1).toString(32),i>>=m,l-=m,Wt=1<<32-Et(t)+l|r<<l|i,Kt=d+e}else Wt=1<<d|r<<l|i,Kt=e}function Ha(e){e.return!==null&&(Pr(e,1),Wc(e,1,0))}function Wa(e){for(;e===ni;)ni=rn[--nn],rn[nn]=null,si=rn[--nn],rn[nn]=null;for(;e===Tr;)Tr=wt[--_t],wt[_t]=null,Kt=wt[--_t],wt[_t]=null,Wt=wt[--_t],wt[_t]=null}var gt=null,yt=null,Ae=!1,Pt=null;function Kc(e,t){var r=kt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,yt=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tr!==null?{id:Wt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=kt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,yt=null,!0):!1;default:return!1}}function Ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qa(e){if(Ae){var t=yt;if(t){var r=t;if(!Qc(e,t)){if(Ka(e))throw Error(a(418));t=ar(r.nextSibling);var i=gt;t&&Qc(e,t)?Kc(i,r):(e.flags=e.flags&-4097|2,Ae=!1,gt=e)}}else{if(Ka(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ae=!1,gt=e}}}function Gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function ii(e){if(e!==gt)return!1;if(!Ae)return Gc(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ua(e.type,e.memoizedProps)),t&&(t=yt)){if(Ka(e))throw Jc(),Error(a(418));for(;t;)Kc(e,t),t=ar(t.nextSibling)}if(Gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=gt?ar(e.stateNode.nextSibling):null;return!0}function Jc(){for(var e=yt;e;)e=ar(e.nextSibling)}function sn(){yt=gt=null,Ae=!1}function Ga(e){Pt===null?Pt=[e]:Pt.push(e)}var sm=F.ReactCurrentBatchConfig;function ts(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(a(309));var i=r.stateNode}if(!i)throw Error(a(147,e));var l=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var v=l.refs;m===null?delete v[d]:v[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function ai(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yc(e){var t=e._init;return t(e._payload)}function Zc(e){function t(S,j){if(e){var E=S.deletions;E===null?(S.deletions=[j],S.flags|=16):E.push(j)}}function r(S,j){if(!e)return null;for(;j!==null;)t(S,j),j=j.sibling;return null}function i(S,j){for(S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function l(S,j){return S=yr(S,j),S.index=0,S.sibling=null,S}function d(S,j,E){return S.index=E,e?(E=S.alternate,E!==null?(E=E.index,E<j?(S.flags|=2,j):E):(S.flags|=2,j)):(S.flags|=1048576,j)}function m(S){return e&&S.alternate===null&&(S.flags|=2),S}function v(S,j,E,z){return j===null||j.tag!==6?(j=Fo(E,S.mode,z),j.return=S,j):(j=l(j,E),j.return=S,j)}function _(S,j,E,z){var Z=E.type;return Z===ae?$(S,j,E.props.children,z,E.key):j!==null&&(j.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ye&&Yc(Z)===j.type)?(z=l(j,E.props),z.ref=ts(S,j,E),z.return=S,z):(z=Pi(E.type,E.key,E.props,null,S.mode,z),z.ref=ts(S,j,E),z.return=S,z)}function T(S,j,E,z){return j===null||j.tag!==4||j.stateNode.containerInfo!==E.containerInfo||j.stateNode.implementation!==E.implementation?(j=Bo(E,S.mode,z),j.return=S,j):(j=l(j,E.children||[]),j.return=S,j)}function $(S,j,E,z,Z){return j===null||j.tag!==7?(j=$r(E,S.mode,z,Z),j.return=S,j):(j=l(j,E),j.return=S,j)}function U(S,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Fo(""+j,S.mode,E),j.return=S,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ie:return E=Pi(j.type,j.key,j.props,null,S.mode,E),E.ref=ts(S,null,j),E.return=S,E;case ue:return j=Bo(j,S.mode,E),j.return=S,j;case ye:var z=j._init;return U(S,z(j._payload),E)}if(Pn(j)||se(j))return j=$r(j,S.mode,E,null),j.return=S,j;ai(S,j)}return null}function M(S,j,E,z){var Z=j!==null?j.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return Z!==null?null:v(S,j,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ie:return E.key===Z?_(S,j,E,z):null;case ue:return E.key===Z?T(S,j,E,z):null;case ye:return Z=E._init,M(S,j,Z(E._payload),z)}if(Pn(E)||se(E))return Z!==null?null:$(S,j,E,z,null);ai(S,E)}return null}function Q(S,j,E,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number")return S=S.get(E)||null,v(j,S,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:return S=S.get(z.key===null?E:z.key)||null,_(j,S,z,Z);case ue:return S=S.get(z.key===null?E:z.key)||null,T(j,S,z,Z);case ye:var le=z._init;return Q(S,j,E,le(z._payload),Z)}if(Pn(z)||se(z))return S=S.get(E)||null,$(j,S,z,Z,null);ai(j,z)}return null}function J(S,j,E,z){for(var Z=null,le=null,ce=j,he=j=0,Ke=null;ce!==null&&he<E.length;he++){ce.index>he?(Ke=ce,ce=null):Ke=ce.sibling;var _e=M(S,ce,E[he],z);if(_e===null){ce===null&&(ce=Ke);break}e&&ce&&_e.alternate===null&&t(S,ce),j=d(_e,j,he),le===null?Z=_e:le.sibling=_e,le=_e,ce=Ke}if(he===E.length)return r(S,ce),Ae&&Pr(S,he),Z;if(ce===null){for(;he<E.length;he++)ce=U(S,E[he],z),ce!==null&&(j=d(ce,j,he),le===null?Z=ce:le.sibling=ce,le=ce);return Ae&&Pr(S,he),Z}for(ce=i(S,ce);he<E.length;he++)Ke=Q(ce,S,he,E[he],z),Ke!==null&&(e&&Ke.alternate!==null&&ce.delete(Ke.key===null?he:Ke.key),j=d(Ke,j,he),le===null?Z=Ke:le.sibling=Ke,le=Ke);return e&&ce.forEach(function(xr){return t(S,xr)}),Ae&&Pr(S,he),Z}function Y(S,j,E,z){var Z=se(E);if(typeof Z!="function")throw Error(a(150));if(E=Z.call(E),E==null)throw Error(a(151));for(var le=Z=null,ce=j,he=j=0,Ke=null,_e=E.next();ce!==null&&!_e.done;he++,_e=E.next()){ce.index>he?(Ke=ce,ce=null):Ke=ce.sibling;var xr=M(S,ce,_e.value,z);if(xr===null){ce===null&&(ce=Ke);break}e&&ce&&xr.alternate===null&&t(S,ce),j=d(xr,j,he),le===null?Z=xr:le.sibling=xr,le=xr,ce=Ke}if(_e.done)return r(S,ce),Ae&&Pr(S,he),Z;if(ce===null){for(;!_e.done;he++,_e=E.next())_e=U(S,_e.value,z),_e!==null&&(j=d(_e,j,he),le===null?Z=_e:le.sibling=_e,le=_e);return Ae&&Pr(S,he),Z}for(ce=i(S,ce);!_e.done;he++,_e=E.next())_e=Q(ce,S,he,_e.value,z),_e!==null&&(e&&_e.alternate!==null&&ce.delete(_e.key===null?he:_e.key),j=d(_e,j,he),le===null?Z=_e:le.sibling=_e,le=_e);return e&&ce.forEach(function(Mm){return t(S,Mm)}),Ae&&Pr(S,he),Z}function Ue(S,j,E,z){if(typeof E=="object"&&E!==null&&E.type===ae&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ie:e:{for(var Z=E.key,le=j;le!==null;){if(le.key===Z){if(Z=E.type,Z===ae){if(le.tag===7){r(S,le.sibling),j=l(le,E.props.children),j.return=S,S=j;break e}}else if(le.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ye&&Yc(Z)===le.type){r(S,le.sibling),j=l(le,E.props),j.ref=ts(S,le,E),j.return=S,S=j;break e}r(S,le);break}else t(S,le);le=le.sibling}E.type===ae?(j=$r(E.props.children,S.mode,z,E.key),j.return=S,S=j):(z=Pi(E.type,E.key,E.props,null,S.mode,z),z.ref=ts(S,j,E),z.return=S,S=z)}return m(S);case ue:e:{for(le=E.key;j!==null;){if(j.key===le)if(j.tag===4&&j.stateNode.containerInfo===E.containerInfo&&j.stateNode.implementation===E.implementation){r(S,j.sibling),j=l(j,E.children||[]),j.return=S,S=j;break e}else{r(S,j);break}else t(S,j);j=j.sibling}j=Bo(E,S.mode,z),j.return=S,S=j}return m(S);case ye:return le=E._init,Ue(S,j,le(E._payload),z)}if(Pn(E))return J(S,j,E,z);if(se(E))return Y(S,j,E,z);ai(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,j!==null&&j.tag===6?(r(S,j.sibling),j=l(j,E),j.return=S,S=j):(r(S,j),j=Fo(E,S.mode,z),j.return=S,S=j),m(S)):r(S,j)}return Ue}var an=Zc(!0),Xc=Zc(!1),oi=or(null),li=null,on=null,Ja=null;function Ya(){Ja=on=li=null}function Za(e){var t=oi.current;Te(oi),e._currentValue=t}function Xa(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function ln(e,t){li=e,Ja=on=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ct=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Ja!==e)if(e={context:e,memoizedValue:t,next:null},on===null){if(li===null)throw Error(a(308));on=e,li.dependencies={lanes:0,firstContext:e}}else on=on.next=e;return t}var Ar=null;function eo(e){Ar===null?Ar=[e]:Ar.push(e)}function eu(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,eo(t)):(r.next=l.next,l.next=r),t.interleaved=r,Qt(e,i)}function Qt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ur=!1;function to(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ve&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,Qt(e,r)}return l=i.interleaved,l===null?(t.next=t,eo(i)):(t.next=l.next,l.next=t),i.interleaved=t,Qt(e,r)}function ci(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,pa(e,r)}}function ru(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=m:d=d.next=m,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ui(e,t,r,i){var l=e.updateQueue;ur=!1;var d=l.firstBaseUpdate,m=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var _=v,T=_.next;_.next=null,m===null?d=T:m.next=T,m=_;var $=e.alternate;$!==null&&($=$.updateQueue,v=$.lastBaseUpdate,v!==m&&(v===null?$.firstBaseUpdate=T:v.next=T,$.lastBaseUpdate=_))}if(d!==null){var U=l.baseState;m=0,$=T=_=null,v=d;do{var M=v.lane,Q=v.eventTime;if((i&M)===M){$!==null&&($=$.next={eventTime:Q,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var J=e,Y=v;switch(M=t,Q=r,Y.tag){case 1:if(J=Y.payload,typeof J=="function"){U=J.call(Q,U,M);break e}U=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Y.payload,M=typeof J=="function"?J.call(Q,U,M):J,M==null)break e;U=H({},U,M);break e;case 2:ur=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[v]:M.push(v))}else Q={eventTime:Q,lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},$===null?(T=$=Q,_=U):$=$.next=Q,m|=M;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;M=v,v=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(!0);if($===null&&(_=U),l.baseState=_,l.firstBaseUpdate=T,l.lastBaseUpdate=$,t=l.shared.interleaved,t!==null){l=t;do m|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);Or|=m,e.lanes=m,e.memoizedState=U}}function nu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(a(191,l));l.call(i)}}}var rs={},Ft=or(rs),ns=or(rs),ss=or(rs);function Dr(e){if(e===rs)throw Error(a(174));return e}function ro(e,t){switch(Se(ss,t),Se(ns,e),Se(Ft,rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}Te(Ft),Se(Ft,t)}function cn(){Te(Ft),Te(ns),Te(ss)}function su(e){Dr(ss.current);var t=Dr(Ft.current),r=na(t,e.type);t!==r&&(Se(ns,e),Se(Ft,r))}function no(e){ns.current===e&&(Te(Ft),Te(ns))}var Oe=or(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function io(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var hi=F.ReactCurrentDispatcher,ao=F.ReactCurrentBatchConfig,Rr=0,Ie=null,Be=null,He=null,fi=!1,is=!1,as=0,im=0;function et(){throw Error(a(321))}function oo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tt(e[r],t[r]))return!1;return!0}function lo(e,t,r,i,l,d){if(Rr=d,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?cm:um,e=r(i,l),is){d=0;do{if(is=!1,as=0,25<=d)throw Error(a(301));d+=1,He=Be=null,t.updateQueue=null,hi.current=dm,e=r(i,l)}while(is)}if(hi.current=gi,t=Be!==null&&Be.next!==null,Rr=0,He=Be=Ie=null,fi=!1,t)throw Error(a(300));return e}function co(){var e=as!==0;return as=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ie.memoizedState=He=e:He=He.next=e,He}function bt(){if(Be===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?Ie.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(a(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Ie.memoizedState=He=e:He=He.next=e}return He}function os(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=bt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var i=Be,l=i.baseQueue,d=r.pending;if(d!==null){if(l!==null){var m=l.next;l.next=d.next,d.next=m}i.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,i=i.baseState;var v=m=null,_=null,T=d;do{var $=T.lane;if((Rr&$)===$)_!==null&&(_=_.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),i=T.hasEagerState?T.eagerState:e(i,T.action);else{var U={lane:$,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};_===null?(v=_=U,m=i):_=_.next=U,Ie.lanes|=$,Or|=$}T=T.next}while(T!==null&&T!==d);_===null?m=i:_.next=v,Tt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=_,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do d=l.lane,Ie.lanes|=d,Or|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ho(e){var t=bt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var m=l=l.next;do d=e(d,m.action),m=m.next;while(m!==l);Tt(d,t.memoizedState)||(ct=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function iu(){}function au(e,t){var r=Ie,i=bt(),l=t(),d=!Tt(i.memoizedState,l);if(d&&(i.memoizedState=l,ct=!0),i=i.queue,fo(cu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,ls(9,lu.bind(null,r,i,l,t),void 0,null),We===null)throw Error(a(349));(Rr&30)!==0||ou(r,t,l)}return l}function ou(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lu(e,t,r,i){t.value=r,t.getSnapshot=i,uu(t)&&du(e)}function cu(e,t,r){return r(function(){uu(t)&&du(e)})}function uu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tt(e,r)}catch{return!0}}function du(e){var t=Qt(e,1);t!==null&&Ot(t,e,1,-1)}function hu(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},t.queue=e,e=e.dispatch=lm.bind(null,Ie,e),[t.memoizedState,e]}function ls(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function fu(){return bt().memoizedState}function mi(e,t,r,i){var l=Bt();Ie.flags|=e,l.memoizedState=ls(1|t,r,void 0,i===void 0?null:i)}function pi(e,t,r,i){var l=bt();i=i===void 0?null:i;var d=void 0;if(Be!==null){var m=Be.memoizedState;if(d=m.destroy,i!==null&&oo(i,m.deps)){l.memoizedState=ls(t,r,d,i);return}}Ie.flags|=e,l.memoizedState=ls(1|t,r,d,i)}function mu(e,t){return mi(8390656,8,e,t)}function fo(e,t){return pi(2048,8,e,t)}function pu(e,t){return pi(4,2,e,t)}function gu(e,t){return pi(4,4,e,t)}function yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xu(e,t,r){return r=r!=null?r.concat([e]):null,pi(4,4,yu.bind(null,t,e),r)}function mo(){}function vu(e,t){var r=bt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&oo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function wu(e,t){var r=bt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&oo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function _u(e,t,r){return(Rr&21)===0?(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=r):(Tt(r,t)||(r=Yl(),Ie.lanes|=r,Or|=r,e.baseState=!0),t)}function am(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var i=ao.transition;ao.transition={};try{e(!1),t()}finally{Ne=r,ao.transition=i}}function ju(){return bt().memoizedState}function om(e,t,r){var i=pr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},bu(e))Nu(t,r);else if(r=eu(e,t,r,i),r!==null){var l=it();Ot(r,e,i,l),ku(r,t,i)}}function lm(e,t,r){var i=pr(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(bu(e))Nu(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,v=d(m,r);if(l.hasEagerState=!0,l.eagerState=v,Tt(v,m)){var _=t.interleaved;_===null?(l.next=l,eo(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}r=eu(e,t,l,i),r!==null&&(l=it(),Ot(r,e,i,l),ku(r,t,i))}}function bu(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Nu(e,t){is=fi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ku(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,pa(e,r)}}var gi={readContext:jt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},cm={readContext:jt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:mu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mi(4194308,4,yu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Bt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=om.bind(null,Ie,e),[i.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:hu,useDebugValue:mo,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=hu(!1),t=e[0];return e=am.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Ie,l=Bt();if(Ae){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),We===null)throw Error(a(349));(Rr&30)!==0||ou(i,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,mu(cu.bind(null,i,d,e),[e]),i.flags|=2048,ls(9,lu.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Bt(),t=We.identifierPrefix;if(Ae){var r=Kt,i=Wt;r=(i&~(1<<32-Et(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=as++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=im++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},um={readContext:jt,useCallback:vu,useContext:jt,useEffect:fo,useImperativeHandle:xu,useInsertionEffect:pu,useLayoutEffect:gu,useMemo:wu,useReducer:uo,useRef:fu,useState:function(){return uo(os)},useDebugValue:mo,useDeferredValue:function(e){var t=bt();return _u(t,Be.memoizedState,e)},useTransition:function(){var e=uo(os)[0],t=bt().memoizedState;return[e,t]},useMutableSource:iu,useSyncExternalStore:au,useId:ju,unstable_isNewReconciler:!1},dm={readContext:jt,useCallback:vu,useContext:jt,useEffect:fo,useImperativeHandle:xu,useInsertionEffect:pu,useLayoutEffect:gu,useMemo:wu,useReducer:ho,useRef:fu,useState:function(){return ho(os)},useDebugValue:mo,useDeferredValue:function(e){var t=bt();return Be===null?t.memoizedState=e:_u(t,Be.memoizedState,e)},useTransition:function(){var e=ho(os)[0],t=bt().memoizedState;return[e,t]},useMutableSource:iu,useSyncExternalStore:au,useId:ju,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function po(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:H({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yi={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=it(),l=pr(e),d=Gt(i,l);d.payload=t,r!=null&&(d.callback=r),t=dr(e,d,l),t!==null&&(Ot(t,e,l,i),ci(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=it(),l=pr(e),d=Gt(i,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=dr(e,d,l),t!==null&&(Ot(t,e,l,i),ci(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),i=pr(e),l=Gt(r,i);l.tag=2,t!=null&&(l.callback=t),t=dr(e,l,i),t!==null&&(Ot(t,e,i,r),ci(t,e,i))}};function Su(e,t,r,i,l,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!Qn(r,i)||!Qn(l,d):!0}function Cu(e,t,r){var i=!1,l=lr,d=t.contextType;return typeof d=="object"&&d!==null?d=jt(d):(l=lt(t)?Er:Xe.current,i=t.contextTypes,d=(i=i!=null)?tn(e,l):lr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function Eu(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function go(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},to(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=jt(d):(d=lt(t)?Er:Xe.current,l.context=tn(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(po(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&yi.enqueueReplaceState(l,l.state,null),ui(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var r="",i=t;do r+=X(i),i=i.return;while(i);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function yo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hm=typeof WeakMap=="function"?WeakMap:Map;function Tu(e,t,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Ni||(Ni=!0,Ro=i),xo(e,t)},r}function Pu(e,t,r){r=Gt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){xo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){xo(e,t),typeof i!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function Au(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new hm;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=Sm.bind(null,e,t,r),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ru(e,t,r,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gt(-1,1),t.tag=2,dr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var fm=F.ReactCurrentOwner,ct=!1;function st(e,t,r,i){t.child=e===null?Xc(t,null,r,i):an(t,e.child,r,i)}function Ou(e,t,r,i,l){r=r.render;var d=t.ref;return ln(t,l),i=lo(e,t,r,i,d,l),r=co(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Jt(e,t,l)):(Ae&&r&&Ha(t),t.flags|=1,st(e,t,i,l),t.child)}function Iu(e,t,r,i,l){if(e===null){var d=r.type;return typeof d=="function"&&!zo(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Lu(e,t,d,i,l)):(e=Pi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var m=d.memoizedProps;if(r=r.compare,r=r!==null?r:Qn,r(m,i)&&e.ref===t.ref)return Jt(e,t,l)}return t.flags|=1,e=yr(d,i),e.ref=t.ref,e.return=t,t.child=e}function Lu(e,t,r,i,l){if(e!==null){var d=e.memoizedProps;if(Qn(d,i)&&e.ref===t.ref)if(ct=!1,t.pendingProps=i=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Jt(e,t,l)}return vo(e,t,r,i,l)}function Mu(e,t,r){var i=t.pendingProps,l=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(hn,xt),xt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(hn,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,Se(hn,xt),xt|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,Se(hn,xt),xt|=i;return st(e,t,l,r),t.child}function $u(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vo(e,t,r,i,l){var d=lt(r)?Er:Xe.current;return d=tn(t,d),ln(t,l),r=lo(e,t,r,i,d,l),i=co(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Jt(e,t,l)):(Ae&&i&&Ha(t),t.flags|=1,st(e,t,r,l),t.child)}function Uu(e,t,r,i,l){if(lt(r)){var d=!0;ti(t)}else d=!1;if(ln(t,l),t.stateNode===null)vi(e,t),Cu(t,r,i),go(t,r,i,l),i=!0;else if(e===null){var m=t.stateNode,v=t.memoizedProps;m.props=v;var _=m.context,T=r.contextType;typeof T=="object"&&T!==null?T=jt(T):(T=lt(r)?Er:Xe.current,T=tn(t,T));var $=r.getDerivedStateFromProps,U=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function";U||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==i||_!==T)&&Eu(t,m,i,T),ur=!1;var M=t.memoizedState;m.state=M,ui(t,i,m,l),_=t.memoizedState,v!==i||M!==_||ot.current||ur?(typeof $=="function"&&(po(t,r,$,i),_=t.memoizedState),(v=ur||Su(t,r,v,i,M,_,T))?(U||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),m.props=i,m.state=_,m.context=T,i=v):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,tu(e,t),v=t.memoizedProps,T=t.type===t.elementType?v:At(t.type,v),m.props=T,U=t.pendingProps,M=m.context,_=r.contextType,typeof _=="object"&&_!==null?_=jt(_):(_=lt(r)?Er:Xe.current,_=tn(t,_));var Q=r.getDerivedStateFromProps;($=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==U||M!==_)&&Eu(t,m,i,_),ur=!1,M=t.memoizedState,m.state=M,ui(t,i,m,l);var J=t.memoizedState;v!==U||M!==J||ot.current||ur?(typeof Q=="function"&&(po(t,r,Q,i),J=t.memoizedState),(T=ur||Su(t,r,T,i,M,J,_)||!1)?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,J,_),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,J,_)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=J),m.props=i,m.state=J,m.context=_,i=T):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),i=!1)}return wo(e,t,r,i,d,l)}function wo(e,t,r,i,l,d){$u(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return l&&qc(t,r,!1),Jt(e,t,d);i=t.stateNode,fm.current=t;var v=m&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=an(t,e.child,null,d),t.child=an(t,null,v,d)):st(e,t,v,d),t.memoizedState=i.state,l&&qc(t,r,!0),t.child}function zu(e){var t=e.stateNode;t.pendingContext?Bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bc(e,t.context,!1),ro(e,t.containerInfo)}function Fu(e,t,r,i,l){return sn(),Ga(l),t.flags|=256,st(e,t,r,i),t.child}var _o={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bu(e,t,r){var i=t.pendingProps,l=Oe.current,d=!1,m=(t.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Oe,l&1),e===null)return Qa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=i.children,e=i.fallback,d?(i=t.mode,d=t.child,m={mode:"hidden",children:m},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=m):d=Ai(m,i,0,null),e=$r(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=jo(r),t.memoizedState=_o,e):bo(t,m));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return mm(e,t,m,i,v,l,r);if(d){d=i.fallback,m=t.mode,l=e.child,v=l.sibling;var _={mode:"hidden",children:i.children};return(m&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=yr(l,_),i.subtreeFlags=l.subtreeFlags&14680064),v!==null?d=yr(v,d):(d=$r(d,m,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,m=e.child.memoizedState,m=m===null?jo(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~r,t.memoizedState=_o,i}return d=e.child,e=d.sibling,i=yr(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function bo(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xi(e,t,r,i){return i!==null&&Ga(i),an(t,e.child,null,r),e=bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mm(e,t,r,i,l,d,m){if(r)return t.flags&256?(t.flags&=-257,i=yo(Error(a(422))),xi(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,l=t.mode,i=Ai({mode:"visible",children:i.children},l,0,null),d=$r(d,l,m,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&an(t,e.child,null,m),t.child.memoizedState=jo(m),t.memoizedState=_o,d);if((t.mode&1)===0)return xi(e,t,m,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var v=i.dgst;return i=v,d=Error(a(419)),i=yo(d,i,void 0),xi(e,t,m,i)}if(v=(m&e.childLanes)!==0,ct||v){if(i=We,i!==null){switch(m&-m){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|m))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Qt(e,l),Ot(i,e,l,-1))}return Uo(),i=yo(Error(a(421))),xi(e,t,m,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Cm.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,yt=ar(l.nextSibling),gt=t,Ae=!0,Pt=null,e!==null&&(wt[_t++]=Wt,wt[_t++]=Kt,wt[_t++]=Tr,Wt=e.id,Kt=e.overflow,Tr=t),t=bo(t,i.children),t.flags|=4096,t)}function Vu(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Xa(e.return,t,r)}function No(e,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=l)}function qu(e,t,r){var i=t.pendingProps,l=i.revealOrder,d=i.tail;if(st(e,t,i.children,r),i=Oe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vu(e,r,t);else if(e.tag===19)Vu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(Oe,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&di(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),No(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&di(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}No(t,!0,r,null,d);break;case"together":No(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pm(e,t,r){switch(t.tag){case 3:zu(t),sn();break;case 5:su(t);break;case 1:lt(t.type)&&ti(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Se(oi,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(Oe,Oe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Bu(e,t,r):(Se(Oe,Oe.current&1),e=Jt(e,t,r),e!==null?e.sibling:null);Se(Oe,Oe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return qu(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Oe,Oe.current),i)break;return null;case 22:case 23:return t.lanes=0,Mu(e,t,r)}return Jt(e,t,r)}var Hu,ko,Wu,Ku;Hu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ko=function(){},Wu=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,Dr(Ft.current);var d=null;switch(r){case"input":l=qe(e,l),i=qe(e,i),d=[];break;case"select":l=H({},l,{value:void 0}),i=H({},i,{value:void 0}),d=[];break;case"textarea":l=ra(e,l),i=ra(e,i),d=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Zs)}sa(r,i);var m;r=null;for(T in l)if(!i.hasOwnProperty(T)&&l.hasOwnProperty(T)&&l[T]!=null)if(T==="style"){var v=l[T];for(m in v)v.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(c.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in i){var _=i[T];if(v=l?.[T],i.hasOwnProperty(T)&&_!==v&&(_!=null||v!=null))if(T==="style")if(v){for(m in v)!v.hasOwnProperty(m)||_&&_.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in _)_.hasOwnProperty(m)&&v[m]!==_[m]&&(r||(r={}),r[m]=_[m])}else r||(d||(d=[]),d.push(T,r)),r=_;else T==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(d=d||[]).push(T,_)):T==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(T,""+_):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(c.hasOwnProperty(T)?(_!=null&&T==="onScroll"&&Ee("scroll",e),d||v===_||(d=[])):(d=d||[]).push(T,_))}r&&(d=d||[]).push("style",r);var T=d;(t.updateQueue=T)&&(t.flags|=4)}},Ku=function(e,t,r,i){r!==i&&(t.flags|=4)};function cs(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function gm(e,t,r){var i=t.pendingProps;switch(Wa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return lt(t.type)&&ei(),tt(t),null;case 3:return i=t.stateNode,cn(),Te(ot),Te(Xe),io(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Pt!==null&&(Lo(Pt),Pt=null))),ko(e,t),tt(t),null;case 5:no(t);var l=Dr(ss.current);if(r=t.type,e!==null&&t.stateNode!=null)Wu(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(a(166));return tt(t),null}if(e=Dr(Ft.current),ii(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[zt]=t,i[Xn]=d,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(l=0;l<Jn.length;l++)Ee(Jn[l],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Mt(i,d),Ee("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},Ee("invalid",i);break;case"textarea":Pl(i,d),Ee("invalid",i)}sa(r,d),l=null;for(var m in d)if(d.hasOwnProperty(m)){var v=d[m];m==="children"?typeof v=="string"?i.textContent!==v&&(d.suppressHydrationWarning!==!0&&Ys(i.textContent,v,e),l=["children",v]):typeof v=="number"&&i.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Ys(i.textContent,v,e),l=["children",""+v]):c.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&Ee("scroll",i)}switch(r){case"input":D(i),En(i,d,!0);break;case"textarea":D(i),Dl(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Zs)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rl(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(r,{is:i.is}):(e=m.createElement(r),r==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,r),e[zt]=t,e[Xn]=i,Hu(e,t,!1,!1),t.stateNode=e;e:{switch(m=ia(r,i),r){case"dialog":Ee("cancel",e),Ee("close",e),l=i;break;case"iframe":case"object":case"embed":Ee("load",e),l=i;break;case"video":case"audio":for(l=0;l<Jn.length;l++)Ee(Jn[l],e);l=i;break;case"source":Ee("error",e),l=i;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),l=i;break;case"details":Ee("toggle",e),l=i;break;case"input":Mt(e,i),l=qe(e,i),Ee("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=H({},i,{value:void 0}),Ee("invalid",e);break;case"textarea":Pl(e,i),l=ra(e,i),Ee("invalid",e);break;default:l=i}sa(r,l),v=l;for(d in v)if(v.hasOwnProperty(d)){var _=v[d];d==="style"?Ll(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Ol(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&An(e,_):typeof _=="number"&&An(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(c.hasOwnProperty(d)?_!=null&&d==="onScroll"&&Ee("scroll",e):_!=null&&L(e,d,_,m))}switch(r){case"input":D(e),En(e,i,!1);break;case"textarea":D(e),Dl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Vr(e,!!i.multiple,d,!1):i.defaultValue!=null&&Vr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Zs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Ku(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(a(166));if(r=Dr(ss.current),Dr(Ft.current),ii(t)){if(i=t.stateNode,r=t.memoizedProps,i[zt]=t,(d=i.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:Ys(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[zt]=t,t.stateNode=i}return tt(t),null;case 13:if(Te(Oe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&yt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Jc(),sn(),t.flags|=98560,d=!1;else if(d=ii(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[zt]=t}else sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),d=!1}else Pt!==null&&(Lo(Pt),Pt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Ve===0&&(Ve=3):Uo())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return cn(),ko(e,t),e===null&&Yn(t.stateNode.containerInfo),tt(t),null;case 10:return Za(t.type._context),tt(t),null;case 17:return lt(t.type)&&ei(),tt(t),null;case 19:if(Te(Oe),d=t.memoizedState,d===null)return tt(t),null;if(i=(t.flags&128)!==0,m=d.rendering,m===null)if(i)cs(d,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=di(e),m!==null){for(t.flags|=128,cs(d,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(Oe,Oe.current&1|2),t.child}e=e.sibling}d.tail!==null&&$e()>fn&&(t.flags|=128,i=!0,cs(d,!1),t.lanes=4194304)}else{if(!i)if(e=di(m),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ae)return tt(t),null}else 2*$e()-d.renderingStartTime>fn&&r!==1073741824&&(t.flags|=128,i=!0,cs(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(r=d.last,r!==null?r.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=$e(),t.sibling=null,r=Oe.current,Se(Oe,i?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return $o(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(xt&1073741824)!==0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function ym(e,t){switch(Wa(t),t.tag){case 1:return lt(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(),Te(ot),Te(Xe),io(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return no(t),null;case 13:if(Te(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Oe),null;case 4:return cn(),null;case 10:return Za(t.type._context),null;case 22:case 23:return $o(),null;case 24:return null;default:return null}}var wi=!1,rt=!1,xm=typeof WeakSet=="function"?WeakSet:Set,G=null;function dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Me(e,t,i)}else r.current=null}function So(e,t,r){try{r()}catch(i){Me(e,t,i)}}var Qu=!1;function vm(e,t){if(Ma=zs,e=Sc(),Ta(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var m=0,v=-1,_=-1,T=0,$=0,U=e,M=null;t:for(;;){for(var Q;U!==r||l!==0&&U.nodeType!==3||(v=m+l),U!==d||i!==0&&U.nodeType!==3||(_=m+i),U.nodeType===3&&(m+=U.nodeValue.length),(Q=U.firstChild)!==null;)M=U,U=Q;for(;;){if(U===e)break t;if(M===r&&++T===l&&(v=m),M===d&&++$===i&&(_=m),(Q=U.nextSibling)!==null)break;U=M,M=U.parentNode}U=Q}r=v===-1||_===-1?null:{start:v,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for($a={focusedElem:e,selectionRange:r},zs=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Y=J.memoizedProps,Ue=J.memoizedState,S=t.stateNode,j=S.getSnapshotBeforeUpdate(t.elementType===t.type?Y:At(t.type,Y),Ue);S.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(z){Me(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return J=Qu,Qu=!1,J}function us(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&So(t,r,d)}l=l.next}while(l!==i)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Co(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gu(e){var t=e.alternate;t!==null&&(e.alternate=null,Gu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Xn],delete t[Ba],delete t[tm],delete t[rm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return e.tag===5||e.tag===3||e.tag===4}function Yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zs));else if(i!==4&&(e=e.child,e!==null))for(Eo(e,t,r),e=e.sibling;e!==null;)Eo(e,t,r),e=e.sibling}function To(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(To(e,t,r),e=e.sibling;e!==null;)To(e,t,r),e=e.sibling}var Ye=null,Dt=!1;function hr(e,t,r){for(r=r.child;r!==null;)Zu(e,t,r),r=r.sibling}function Zu(e,t,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Os,r)}catch{}switch(r.tag){case 5:rt||dn(r,t);case 6:var i=Ye,l=Dt;Ye=null,hr(e,t,r),Ye=i,Dt=l,Ye!==null&&(Dt?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&(Dt?(e=Ye,r=r.stateNode,e.nodeType===8?Fa(e.parentNode,r):e.nodeType===1&&Fa(e,r),Bn(e)):Fa(Ye,r.stateNode));break;case 4:i=Ye,l=Dt,Ye=r.stateNode.containerInfo,Dt=!0,hr(e,t,r),Ye=i,Dt=l;break;case 0:case 11:case 14:case 15:if(!rt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var d=l,m=d.destroy;d=d.tag,m!==void 0&&((d&2)!==0||(d&4)!==0)&&So(r,t,m),l=l.next}while(l!==i)}hr(e,t,r);break;case 1:if(!rt&&(dn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(v){Me(r,t,v)}hr(e,t,r);break;case 21:hr(e,t,r);break;case 22:r.mode&1?(rt=(i=rt)||r.memoizedState!==null,hr(e,t,r),rt=i):hr(e,t,r);break;default:hr(e,t,r)}}function Xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xm),t.forEach(function(i){var l=Em.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function Rt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var d=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 5:Ye=v.stateNode,Dt=!1;break e;case 3:Ye=v.stateNode.containerInfo,Dt=!0;break e;case 4:Ye=v.stateNode.containerInfo,Dt=!0;break e}v=v.return}if(Ye===null)throw Error(a(160));Zu(d,m,l),Ye=null,Dt=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(T){Me(l,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ed(t,e),t=t.sibling}function ed(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Vt(e),i&4){try{us(3,e,e.return),_i(3,e)}catch(Y){Me(e,e.return,Y)}try{us(5,e,e.return)}catch(Y){Me(e,e.return,Y)}}break;case 1:Rt(t,e),Vt(e),i&512&&r!==null&&dn(r,r.return);break;case 5:if(Rt(t,e),Vt(e),i&512&&r!==null&&dn(r,r.return),e.flags&32){var l=e.stateNode;try{An(l,"")}catch(Y){Me(e,e.return,Y)}}if(i&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,m=r!==null?r.memoizedProps:d,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&Ts(l,d),ia(v,m);var T=ia(v,d);for(m=0;m<_.length;m+=2){var $=_[m],U=_[m+1];$==="style"?Ll(l,U):$==="dangerouslySetInnerHTML"?Ol(l,U):$==="children"?An(l,U):L(l,$,U,T)}switch(v){case"input":$t(l,d);break;case"textarea":Al(l,d);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var Q=d.value;Q!=null?Vr(l,!!d.multiple,Q,!1):M!==!!d.multiple&&(d.defaultValue!=null?Vr(l,!!d.multiple,d.defaultValue,!0):Vr(l,!!d.multiple,d.multiple?[]:"",!1))}l[Xn]=d}catch(Y){Me(e,e.return,Y)}}break;case 6:if(Rt(t,e),Vt(e),i&4){if(e.stateNode===null)throw Error(a(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(Y){Me(e,e.return,Y)}}break;case 3:if(Rt(t,e),Vt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(Y){Me(e,e.return,Y)}break;case 4:Rt(t,e),Vt(e);break;case 13:Rt(t,e),Vt(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(Do=$e())),i&4&&Xu(e);break;case 22:if($=r!==null&&r.memoizedState!==null,e.mode&1?(rt=(T=rt)||$,Rt(t,e),rt=T):Rt(t,e),Vt(e),i&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!$&&(e.mode&1)!==0)for(G=e,$=e.child;$!==null;){for(U=G=$;G!==null;){switch(M=G,Q=M.child,M.tag){case 0:case 11:case 14:case 15:us(4,M,M.return);break;case 1:dn(M,M.return);var J=M.stateNode;if(typeof J.componentWillUnmount=="function"){i=M,r=M.return;try{t=i,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(Y){Me(i,r,Y)}}break;case 5:dn(M,M.return);break;case 22:if(M.memoizedState!==null){nd(U);continue}}Q!==null?(Q.return=M,G=Q):nd(U)}$=$.sibling}e:for($=null,U=e;;){if(U.tag===5){if($===null){$=U;try{l=U.stateNode,T?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=U.stateNode,_=U.memoizedProps.style,m=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=Il("display",m))}catch(Y){Me(e,e.return,Y)}}}else if(U.tag===6){if($===null)try{U.stateNode.nodeValue=T?"":U.memoizedProps}catch(Y){Me(e,e.return,Y)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;$===U&&($=null),U=U.return}$===U&&($=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Rt(t,e),Vt(e),i&4&&Xu(e);break;case 21:break;default:Rt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ju(r)){var i=r;break e}r=r.return}throw Error(a(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(An(l,""),i.flags&=-33);var d=Yu(e);To(e,d,l);break;case 3:case 4:var m=i.stateNode.containerInfo,v=Yu(e);Eo(e,v,m);break;default:throw Error(a(161))}}catch(_){Me(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e,t,r){G=e,td(e)}function td(e,t,r){for(var i=(e.mode&1)!==0;G!==null;){var l=G,d=l.child;if(l.tag===22&&i){var m=l.memoizedState!==null||wi;if(!m){var v=l.alternate,_=v!==null&&v.memoizedState!==null||rt;v=wi;var T=rt;if(wi=m,(rt=_)&&!T)for(G=l;G!==null;)m=G,_=m.child,m.tag===22&&m.memoizedState!==null?sd(l):_!==null?(_.return=m,G=_):sd(l);for(;d!==null;)G=d,td(d),d=d.sibling;G=l,wi=v,rt=T}rd(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,G=d):rd(e)}}function rd(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||_i(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!rt)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&nu(t,d,i);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nu(t,m,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var $=T.memoizedState;if($!==null){var U=$.dehydrated;U!==null&&Bn(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}rt||t.flags&512&&Co(t)}catch(M){Me(t,t.return,M)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function nd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function sd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_i(4,t)}catch(_){Me(t,r,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(_){Me(t,l,_)}}var d=t.return;try{Co(t)}catch(_){Me(t,d,_)}break;case 5:var m=t.return;try{Co(t)}catch(_){Me(t,m,_)}}}catch(_){Me(t,t.return,_)}if(t===e){G=null;break}var v=t.sibling;if(v!==null){v.return=t.return,G=v;break}G=t.return}}var _m=Math.ceil,ji=F.ReactCurrentDispatcher,Po=F.ReactCurrentOwner,Nt=F.ReactCurrentBatchConfig,ve=0,We=null,ze=null,Ze=0,xt=0,hn=or(0),Ve=0,ds=null,Or=0,bi=0,Ao=0,hs=null,ut=null,Do=0,fn=1/0,Yt=null,Ni=!1,Ro=null,fr=null,ki=!1,mr=null,Si=0,fs=0,Oo=null,Ci=-1,Ei=0;function it(){return(ve&6)!==0?$e():Ci!==-1?Ci:Ci=$e()}function pr(e){return(e.mode&1)===0?1:(ve&2)!==0&&Ze!==0?Ze&-Ze:sm.transition!==null?(Ei===0&&(Ei=Yl()),Ei):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:ac(e.type)),e)}function Ot(e,t,r,i){if(50<fs)throw fs=0,Oo=null,Error(a(185));Mn(e,r,i),((ve&2)===0||e!==We)&&(e===We&&((ve&2)===0&&(bi|=r),Ve===4&&gr(e,Ze)),dt(e,i),r===1&&ve===0&&(t.mode&1)===0&&(fn=$e()+500,ri&&cr()))}function dt(e,t){var r=e.callbackNode;nf(e,t);var i=Ms(e,e===We?Ze:0);if(i===0)r!==null&&Ql(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ql(r),t===1)e.tag===0?nm(ad.bind(null,e)):Hc(ad.bind(null,e)),Xf(function(){(ve&6)===0&&cr()}),r=null;else{switch(Zl(i)){case 1:r=ha;break;case 4:r=Gl;break;case 16:r=Rs;break;case 536870912:r=Jl;break;default:r=Rs}r=md(r,id.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function id(e,t){if(Ci=-1,Ei=0,(ve&6)!==0)throw Error(a(327));var r=e.callbackNode;if(mn()&&e.callbackNode!==r)return null;var i=Ms(e,e===We?Ze:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ti(e,i);else{t=i;var l=ve;ve|=2;var d=ld();(We!==e||Ze!==t)&&(Yt=null,fn=$e()+500,Lr(e,t));do try{Nm();break}catch(v){od(e,v)}while(!0);Ya(),ji.current=d,ve=l,ze!==null?t=0:(We=null,Ze=0,t=Ve)}if(t!==0){if(t===2&&(l=fa(e),l!==0&&(i=l,t=Io(e,l))),t===1)throw r=ds,Lr(e,0),gr(e,i),dt(e,$e()),r;if(t===6)gr(e,i);else{if(l=e.current.alternate,(i&30)===0&&!jm(l)&&(t=Ti(e,i),t===2&&(d=fa(e),d!==0&&(i=d,t=Io(e,d))),t===1))throw r=ds,Lr(e,0),gr(e,i),dt(e,$e()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:Mr(e,ut,Yt);break;case 3:if(gr(e,i),(i&130023424)===i&&(t=Do+500-$e(),10<t)){if(Ms(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){it(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=za(Mr.bind(null,e,ut,Yt),t);break}Mr(e,ut,Yt);break;case 4:if(gr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var m=31-Et(i);d=1<<m,m=t[m],m>l&&(l=m),i&=~d}if(i=l,i=$e()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_m(i/1960))-i,10<i){e.timeoutHandle=za(Mr.bind(null,e,ut,Yt),i);break}Mr(e,ut,Yt);break;case 5:Mr(e,ut,Yt);break;default:throw Error(a(329))}}}return dt(e,$e()),e.callbackNode===r?id.bind(null,e):null}function Io(e,t){var r=hs;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=ut,ut=r,t!==null&&Lo(t)),e}function Lo(e){ut===null?ut=e:ut.push.apply(ut,e)}function jm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],d=l.getSnapshot;l=l.value;try{if(!Tt(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~Ao,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Et(t),i=1<<r;e[r]=-1,t&=~i}}function ad(e){if((ve&6)!==0)throw Error(a(327));mn();var t=Ms(e,0);if((t&1)===0)return dt(e,$e()),null;var r=Ti(e,t);if(e.tag!==0&&r===2){var i=fa(e);i!==0&&(t=i,r=Io(e,i))}if(r===1)throw r=ds,Lr(e,0),gr(e,t),dt(e,$e()),r;if(r===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,ut,Yt),dt(e,$e()),null}function Mo(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(fn=$e()+500,ri&&cr())}}function Ir(e){mr!==null&&mr.tag===0&&(ve&6)===0&&mn();var t=ve;ve|=1;var r=Nt.transition,i=Ne;try{if(Nt.transition=null,Ne=1,e)return e()}finally{Ne=i,Nt.transition=r,ve=t,(ve&6)===0&&cr()}}function $o(){xt=hn.current,Te(hn)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zf(r)),ze!==null)for(r=ze.return;r!==null;){var i=r;switch(Wa(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ei();break;case 3:cn(),Te(ot),Te(Xe),io();break;case 5:no(i);break;case 4:cn();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Za(i.type._context);break;case 22:case 23:$o()}r=r.return}if(We=e,ze=e=yr(e.current,null),Ze=xt=t,Ve=0,ds=null,Ao=bi=Or=0,ut=hs=null,Ar!==null){for(t=0;t<Ar.length;t++)if(r=Ar[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,d=r.pending;if(d!==null){var m=d.next;d.next=l,i.next=m}r.pending=i}Ar=null}return e}function od(e,t){do{var r=ze;try{if(Ya(),hi.current=gi,fi){for(var i=Ie.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}fi=!1}if(Rr=0,He=Be=Ie=null,is=!1,as=0,Po.current=null,r===null||r.return===null){Ve=1,ds=t,ze=null;break}e:{var d=e,m=r.return,v=r,_=t;if(t=Ze,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var T=_,$=v,U=$.tag;if(($.mode&1)===0&&(U===0||U===11||U===15)){var M=$.alternate;M?($.updateQueue=M.updateQueue,$.memoizedState=M.memoizedState,$.lanes=M.lanes):($.updateQueue=null,$.memoizedState=null)}var Q=Du(m);if(Q!==null){Q.flags&=-257,Ru(Q,m,v,d,t),Q.mode&1&&Au(d,T,t),t=Q,_=T;var J=t.updateQueue;if(J===null){var Y=new Set;Y.add(_),t.updateQueue=Y}else J.add(_);break e}else{if((t&1)===0){Au(d,T,t),Uo();break e}_=Error(a(426))}}else if(Ae&&v.mode&1){var Ue=Du(m);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Ru(Ue,m,v,d,t),Ga(un(_,v));break e}}d=_=un(_,v),Ve!==4&&(Ve=2),hs===null?hs=[d]:hs.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var S=Tu(d,_,t);ru(d,S);break e;case 1:v=_;var j=d.type,E=d.stateNode;if((d.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(fr===null||!fr.has(E)))){d.flags|=65536,t&=-t,d.lanes|=t;var z=Pu(d,v,t);ru(d,z);break e}}d=d.return}while(d!==null)}ud(r)}catch(Z){t=Z,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function ld(){var e=ji.current;return ji.current=gi,e===null?gi:e}function Uo(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),We===null||(Or&268435455)===0&&(bi&268435455)===0||gr(We,Ze)}function Ti(e,t){var r=ve;ve|=2;var i=ld();(We!==e||Ze!==t)&&(Yt=null,Lr(e,t));do try{bm();break}catch(l){od(e,l)}while(!0);if(Ya(),ve=r,ji.current=i,ze!==null)throw Error(a(261));return We=null,Ze=0,Ve}function bm(){for(;ze!==null;)cd(ze)}function Nm(){for(;ze!==null&&!Qh();)cd(ze)}function cd(e){var t=fd(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?ud(e):ze=t,Po.current=null}function ud(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=gm(r,t,xt),r!==null){ze=r;return}}else{if(r=ym(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,ze=null;return}}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ve===0&&(Ve=5)}function Mr(e,t,r){var i=Ne,l=Nt.transition;try{Nt.transition=null,Ne=1,km(e,t,r,i)}finally{Nt.transition=l,Ne=i}return null}function km(e,t,r,i){do mn();while(mr!==null);if((ve&6)!==0)throw Error(a(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(sf(e,d),e===We&&(ze=We=null,Ze=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ki||(ki=!0,md(Rs,function(){return mn(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=Nt.transition,Nt.transition=null;var m=Ne;Ne=1;var v=ve;ve|=4,Po.current=null,vm(e,r),ed(r,e),Hf($a),zs=!!Ma,$a=Ma=null,e.current=r,wm(r),Gh(),ve=v,Ne=m,Nt.transition=d}else e.current=r;if(ki&&(ki=!1,mr=e,Si=l),d=e.pendingLanes,d===0&&(fr=null),Zh(r.stateNode),dt(e,$e()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(Ni)throw Ni=!1,e=Ro,Ro=null,e;return(Si&1)!==0&&e.tag!==0&&mn(),d=e.pendingLanes,(d&1)!==0?e===Oo?fs++:(fs=0,Oo=e):fs=0,cr(),null}function mn(){if(mr!==null){var e=Zl(Si),t=Nt.transition,r=Ne;try{if(Nt.transition=null,Ne=16>e?16:e,mr===null)var i=!1;else{if(e=mr,mr=null,Si=0,(ve&6)!==0)throw Error(a(331));var l=ve;for(ve|=4,G=e.current;G!==null;){var d=G,m=d.child;if((G.flags&16)!==0){var v=d.deletions;if(v!==null){for(var _=0;_<v.length;_++){var T=v[_];for(G=T;G!==null;){var $=G;switch($.tag){case 0:case 11:case 15:us(8,$,d)}var U=$.child;if(U!==null)U.return=$,G=U;else for(;G!==null;){$=G;var M=$.sibling,Q=$.return;if(Gu($),$===T){G=null;break}if(M!==null){M.return=Q,G=M;break}G=Q}}}var J=d.alternate;if(J!==null){var Y=J.child;if(Y!==null){J.child=null;do{var Ue=Y.sibling;Y.sibling=null,Y=Ue}while(Y!==null)}}G=d}}if((d.subtreeFlags&2064)!==0&&m!==null)m.return=d,G=m;else e:for(;G!==null;){if(d=G,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:us(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,G=S;break e}G=d.return}}var j=e.current;for(G=j;G!==null;){m=G;var E=m.child;if((m.subtreeFlags&2064)!==0&&E!==null)E.return=m,G=E;else e:for(m=j;G!==null;){if(v=G,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:_i(9,v)}}catch(Z){Me(v,v.return,Z)}if(v===m){G=null;break e}var z=v.sibling;if(z!==null){z.return=v.return,G=z;break e}G=v.return}}if(ve=l,cr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Os,e)}catch{}i=!0}return i}finally{Ne=r,Nt.transition=t}}return!1}function dd(e,t,r){t=un(r,t),t=Tu(e,t,1),e=dr(e,t,1),t=it(),e!==null&&(Mn(e,1,t),dt(e,t))}function Me(e,t,r){if(e.tag===3)dd(e,e,r);else for(;t!==null;){if(t.tag===3){dd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(fr===null||!fr.has(i))){e=un(r,e),e=Pu(t,e,1),t=dr(t,e,1),e=it(),t!==null&&(Mn(t,1,e),dt(t,e));break}}t=t.return}}function Sm(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,We===e&&(Ze&r)===r&&(Ve===4||Ve===3&&(Ze&130023424)===Ze&&500>$e()-Do?Lr(e,0):Ao|=r),dt(e,t)}function hd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ls,Ls<<=1,(Ls&130023424)===0&&(Ls=4194304)));var r=it();e=Qt(e,t),e!==null&&(Mn(e,t,r),dt(e,r))}function Cm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hd(e,r)}function Em(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}i!==null&&i.delete(t),hd(e,r)}var fd;fd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)ct=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ct=!1,pm(e,t,r);ct=(e.flags&131072)!==0}else ct=!1,Ae&&(t.flags&1048576)!==0&&Wc(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;vi(e,t),e=t.pendingProps;var l=tn(t,Xe.current);ln(t,r),l=lo(null,t,i,e,l,r);var d=co();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(i)?(d=!0,ti(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,to(t),l.updater=yi,t.stateNode=l,l._reactInternals=t,go(t,i,e,r),t=wo(null,t,i,!0,d,r)):(t.tag=0,Ae&&d&&Ha(t),st(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Pm(i),e=At(i,e),l){case 0:t=vo(null,t,i,e,r);break e;case 1:t=Uu(null,t,i,e,r);break e;case 11:t=Ou(null,t,i,e,r);break e;case 14:t=Iu(null,t,i,At(i.type,e),r);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:At(i,l),vo(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:At(i,l),Uu(e,t,i,l,r);case 3:e:{if(zu(t),e===null)throw Error(a(387));i=t.pendingProps,d=t.memoizedState,l=d.element,tu(e,t),ui(t,i,null,r);var m=t.memoizedState;if(i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=un(Error(a(423)),t),t=Fu(e,t,i,r,l);break e}else if(i!==l){l=un(Error(a(424)),t),t=Fu(e,t,i,r,l);break e}else for(yt=ar(t.stateNode.containerInfo.firstChild),gt=t,Ae=!0,Pt=null,r=Xc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),i===l){t=Jt(e,t,r);break e}st(e,t,i,r)}t=t.child}return t;case 5:return su(t),e===null&&Qa(t),i=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,m=l.children,Ua(i,l)?m=null:d!==null&&Ua(i,d)&&(t.flags|=32),$u(e,t),st(e,t,m,r),t.child;case 6:return e===null&&Qa(t),null;case 13:return Bu(e,t,r);case 4:return ro(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=an(t,null,i,r):st(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:At(i,l),Ou(e,t,i,l,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,d=t.memoizedProps,m=l.value,Se(oi,i._currentValue),i._currentValue=m,d!==null)if(Tt(d.value,m)){if(d.children===l.children&&!ot.current){t=Jt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){m=d.child;for(var _=v.firstContext;_!==null;){if(_.context===i){if(d.tag===1){_=Gt(-1,r&-r),_.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var $=T.pending;$===null?_.next=_:(_.next=$.next,$.next=_),T.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Xa(d.return,r,t),v.lanes|=r;break}_=_.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(a(341));m.lanes|=r,v=m.alternate,v!==null&&(v.lanes|=r),Xa(m,r,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}st(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,ln(t,r),l=jt(l),i=i(l),t.flags|=1,st(e,t,i,r),t.child;case 14:return i=t.type,l=At(i,t.pendingProps),l=At(i.type,l),Iu(e,t,i,l,r);case 15:return Lu(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:At(i,l),vi(e,t),t.tag=1,lt(i)?(e=!0,ti(t)):e=!1,ln(t,r),Cu(t,i,l),go(t,i,l,r),wo(null,t,i,!0,e,r);case 19:return qu(e,t,r);case 22:return Mu(e,t,r)}throw Error(a(156,t.tag))};function md(e,t){return Kl(e,t)}function Tm(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,r,i){return new Tm(e,t,r,i)}function zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pm(e){if(typeof e=="function")return zo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===Re)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=kt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pi(e,t,r,i,l,d){var m=2;if(i=e,typeof e=="function")zo(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ae:return $r(r.children,l,d,t);case je:m=8,l|=8;break;case Pe:return e=kt(12,r,t,l|2),e.elementType=Pe,e.lanes=d,e;case de:return e=kt(13,r,t,l),e.elementType=de,e.lanes=d,e;case xe:return e=kt(19,r,t,l),e.elementType=xe,e.lanes=d,e;case be:return Ai(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Le:m=10;break e;case De:m=9;break e;case K:m=11;break e;case Re:m=14;break e;case ye:m=16,i=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=kt(m,r,t,l),t.elementType=e,t.type=i,t.lanes=d,t}function $r(e,t,r,i){return e=kt(7,e,i,t),e.lanes=r,e}function Ai(e,t,r,i){return e=kt(22,e,i,t),e.elementType=be,e.lanes=r,e.stateNode={isHidden:!1},e}function Fo(e,t,r){return e=kt(6,e,null,t),e.lanes=r,e}function Bo(e,t,r){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Am(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Vo(e,t,r,i,l,d,m,v,_){return e=new Am(e,t,r,v,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=kt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},to(d),e}function Dm(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function pd(e){if(!e)return lr;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var r=e.type;if(lt(r))return Vc(e,r,t)}return t}function gd(e,t,r,i,l,d,m,v,_){return e=Vo(r,i,!0,e,l,d,m,v,_),e.context=pd(null),r=e.current,i=it(),l=pr(r),d=Gt(i,l),d.callback=t??null,dr(r,d,l),e.current.lanes=l,Mn(e,l,i),dt(e,i),e}function Di(e,t,r,i){var l=t.current,d=it(),m=pr(l);return r=pd(r),t.context===null?t.context=r:t.pendingContext=r,t=Gt(d,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=dr(l,t,m),e!==null&&(Ot(e,l,m,d),ci(e,l,m)),m}function Ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qo(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function Rm(){return null}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}Oi.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Di(e,t,null,null)},Oi.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){Di(null,e,null,null)}),t[qt]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=tc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nr.length&&t!==0&&t<nr[r].priority;r++);nr.splice(r,0,e),r===0&&sc(e)}};function Wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Om(e,t,r,i,l){if(l){if(typeof i=="function"){var d=i;i=function(){var T=Ri(m);d.call(T)}}var m=gd(t,i,e,0,null,!1,!1,"",vd);return e._reactRootContainer=m,e[qt]=m.current,Yn(e.nodeType===8?e.parentNode:e),Ir(),m}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var v=i;i=function(){var T=Ri(_);v.call(T)}}var _=Vo(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=_,e[qt]=_.current,Yn(e.nodeType===8?e.parentNode:e),Ir(function(){Di(t,_,r,i)}),_}function Li(e,t,r,i,l){var d=r._reactRootContainer;if(d){var m=d;if(typeof l=="function"){var v=l;l=function(){var _=Ri(m);v.call(_)}}Di(t,m,e,l)}else m=Om(r,t,e,l,i);return Ri(m)}Xl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ln(t.pendingLanes);r!==0&&(pa(t,r|1),dt(t,$e()),(ve&6)===0&&(fn=$e()+500,cr()))}break;case 13:Ir(function(){var i=Qt(e,1);if(i!==null){var l=it();Ot(i,e,1,l)}}),qo(e,1)}},ga=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var r=it();Ot(t,e,134217728,r)}qo(e,134217728)}},ec=function(e){if(e.tag===13){var t=pr(e),r=Qt(e,t);if(r!==null){var i=it();Ot(r,e,t,i)}qo(e,t)}},tc=function(){return Ne},rc=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}},la=function(e,t,r){switch(t){case"input":if($t(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Xs(i);if(!l)throw Error(a(90));me(i),$t(i,l)}}}break;case"textarea":Al(e,r);break;case"select":t=r.value,t!=null&&Vr(e,!!r.multiple,t,!1)}},zl=Mo,Fl=Ir;var Im={usingClientEntryPoint:!1,Events:[es,Xr,Xs,$l,Ul,Mo]},ms={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lm={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hl(e),e===null?null:e.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||Rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{Os=Mi.inject(Lm),Ut=Mi}catch{}}return ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Im,ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wo(t))throw Error(a(200));return Dm(e,t,null,r)},ht.createRoot=function(e,t){if(!Wo(e))throw Error(a(299));var r=!1,i="",l=xd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Vo(e,1,!1,null,null,r,!1,i,l),e[qt]=t.current,Yn(e.nodeType===8?e.parentNode:e),new Ho(t)},ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Hl(t),e=e===null?null:e.stateNode,e},ht.flushSync=function(e){return Ir(e)},ht.hydrate=function(e,t,r){if(!Ii(t))throw Error(a(200));return Li(null,e,t,!0,r)},ht.hydrateRoot=function(e,t,r){if(!Wo(e))throw Error(a(405));var i=r!=null&&r.hydratedSources||null,l=!1,d="",m=xd;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=gd(t,null,e,1,r??null,l,!1,d,m),e[qt]=t.current,Yn(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Oi(t)},ht.render=function(e,t,r){if(!Ii(t))throw Error(a(200));return Li(null,e,t,!1,r)},ht.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(a(40));return e._reactRootContainer?(Ir(function(){Li(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1},ht.unstable_batchedUpdates=Mo,ht.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Ii(r))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Li(e,t,r,!1,i)},ht.version="18.3.1-next-f1338f8080-20240426",ht}var Cd;function Hm(){if(Cd)return Go.exports;Cd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),Go.exports=qm(),Go.exports}var Ed;function Wm(){if(Ed)return $i;Ed=1;var u=Hm();return $i.createRoot=u.createRoot,$i.hydrateRoot=u.hydrateRoot,$i}var Km=Wm();async function yl(u){const a=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(o)).map(h=>h.toString(16).padStart(2,"0")).join("")}const Qm="modulepreload",Gm=function(u){return"/"+u},Td={},Cs=function(s,a,o){let c=Promise.resolve();if(a&&a.length>0){let x=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var f=x;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=g?.nonce||g?.getAttribute("nonce");c=x(a.map(y=>{if(y=Gm(y),y in Td)return;Td[y]=!0;const w=y.endsWith(".css"),k=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${k}`))return;const C=document.createElement("link");if(C.rel=w?"stylesheet":Qm,w||(C.as="script"),C.crossOrigin="",C.href=y,p&&C.setAttribute("nonce",p),document.head.appendChild(C),w)return new Promise((A,R)=>{C.addEventListener("load",A),C.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function h(g){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=g,window.dispatchEvent(p),!p.defaultPrevented)throw g}return c.then(g=>{for(const p of g||[])p.status==="rejected"&&h(p.reason);return s().catch(h)})},Jm=u=>{let s;return u?s=u:typeof fetch>"u"?s=(...a)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...a)):s=fetch,(...a)=>s(...a)};class xl extends Error{constructor(s,a="FunctionsError",o){super(s),this.name=a,this.context=o}}class Ym extends xl{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Zm extends xl{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Xm extends xl{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var ol;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(ol||(ol={}));var ep=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};class tp{constructor(s,{headers:a={},customFetch:o,region:c=ol.Any}={}){this.url=s,this.headers=a,this.region=c,this.fetch=Jm(o)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,a={}){var o;return ep(this,void 0,void 0,function*(){try{const{headers:c,method:h,body:f}=a;let g={},{region:p}=a;p||(p=this.region),p&&p!=="any"&&(g["x-region"]=p);let x;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(g["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(g["Content-Type"]="application/json",x=JSON.stringify(f)));const y=yield this.fetch(`${this.url}/${s}`,{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:x}).catch(A=>{throw new Ym(A)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new Zm(y);if(!y.ok)throw new Xm(y);let k=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return k==="application/json"?C=yield y.json():k==="application/octet-stream"?C=yield y.blob():k==="text/event-stream"?C=y:k==="multipart/form-data"?C=yield y.formData():C=yield y.text(),{data:C,error:null}}catch(c){return{data:null,error:c}}})}}var Qe={},pn={},gn={},yn={},xn={},vn={},rp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kn=rp();const np=kn.fetch,uh=kn.fetch.bind(kn),dh=kn.Headers,sp=kn.Request,ip=kn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:dh,Request:sp,Response:ip,default:uh,fetch:np},Symbol.toStringTag,{value:"Module"})),ap=$m(Sn);var Ui={},Pd;function hh(){if(Pd)return Ui;Pd=1,Object.defineProperty(Ui,"__esModule",{value:!0});class u extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Ui.default=u,Ui}var Ad;function fh(){if(Ad)return vn;Ad=1;var u=vn&&vn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(vn,"__esModule",{value:!0});const s=u(ap),a=u(hh());class o{constructor(h){this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=h.headers,this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=h.shouldThrowOnError,this.signal=h.signal,this.isMaybeSingle=h.isMaybeSingle,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=Object.assign({},this.headers),this.headers[h]=f,this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const g=this.fetch;let p=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var y,w,k;let C=null,A=null,R=null,O=x.status,B=x.statusText;if(x.ok){if(this.method!=="HEAD"){const ie=await x.text();ie===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=ie:A=JSON.parse(ie))}const L=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(w=x.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");L&&F&&F.length>1&&(R=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(C={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,R=null,O=406,B="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const L=await x.text();try{C=JSON.parse(L),Array.isArray(C)&&x.status===404&&(A=[],C=null,O=200,B="OK")}catch{x.status===404&&L===""?(O=204,B="No Content"):C={message:L}}if(C&&this.isMaybeSingle&&(!((k=C?.details)===null||k===void 0)&&k.includes("0 rows"))&&(C=null,O=200,B="OK"),C&&this.shouldThrowOnError)throw new a.default(C)}return{error:C,data:A,count:R,status:O,statusText:B}});return this.shouldThrowOnError||(p=p.catch(x=>{var y,w,k;return{error:{message:`${(y=x?.name)!==null&&y!==void 0?y:"FetchError"}: ${x?.message}`,details:`${(w=x?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(k=x?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),p.then(h,f)}returns(){return this}overrideTypes(){return this}}return vn.default=o,vn}var Dd;function mh(){if(Dd)return xn;Dd=1;var u=xn&&xn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xn,"__esModule",{value:!0});const s=u(fh());class a extends s.default{select(c){let h=!1;const f=(c??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:h=!0,nullsFirst:f,foreignTable:g,referencedTable:p=g}={}){const x=p?`${p}.order`:"order",y=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${y?`${y},`:""}${c}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:h,referencedTable:f=h}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${c}`),this}range(c,h,{foreignTable:f,referencedTable:g=f}={}){const p=typeof g>"u"?"offset":`${g}.offset`,x=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(x,`${h-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:h=!1,settings:f=!1,buffers:g=!1,wal:p=!1,format:x="text"}={}){var y;const w=[c?"analyze":null,h?"verbose":null,f?"settings":null,g?"buffers":null,p?"wal":null].filter(Boolean).join("|"),k=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${k}"; options=${w};`,x==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return xn.default=a,xn}var Rd;function vl(){if(Rd)return yn;Rd=1;var u=yn&&yn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(yn,"__esModule",{value:!0});const s=u(mh());class a extends s.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}in(c,h){const f=Array.from(new Set(h)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${f})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:f,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(c,`${p}fts${x}.${h}`),this}match(c){return Object.entries(c).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(c,h,f){return this.url.searchParams.append(c,`not.${h}.${f}`),this}or(c,{foreignTable:h,referencedTable:f=h}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,h,f){return this.url.searchParams.append(c,`${h}.${f}`),this}}return yn.default=a,yn}var Od;function ph(){if(Od)return gn;Od=1;var u=gn&&gn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(gn,"__esModule",{value:!0});const s=u(vl());class a{constructor(c,{headers:h={},schema:f,fetch:g}){this.url=c,this.headers=h,this.schema=f,this.fetch=g}select(c,{head:h=!1,count:f}={}){const g=h?"HEAD":"GET";let p=!1;const x=(c??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",x),f&&(this.headers.Prefer=`count=${f}`),new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:h,defaultToNull:f=!0}={}){const g="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),h&&p.push(`count=${h}`),f||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(c)){const x=c.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(x.length>0){const y=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new s.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:h,ignoreDuplicates:f=!1,count:g,defaultToNull:p=!0}={}){const x="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(h!==void 0&&this.url.searchParams.set("on_conflict",h),this.headers.Prefer&&y.push(this.headers.Prefer),g&&y.push(`count=${g}`),p||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(c)){const w=c.reduce((k,C)=>k.concat(Object.keys(C)),[]);if(w.length>0){const k=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",k.join(","))}}return new s.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:h}={}){const f="PATCH",g=[];return this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),this.headers.Prefer=g.join(","),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const h="DELETE",f=[];return c&&f.push(`count=${c}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new s.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return gn.default=a,gn}var gs={},ys={},Id;function op(){return Id||(Id=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.version=void 0,ys.version="0.0.0-automated"),ys}var Ld;function lp(){if(Ld)return gs;Ld=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.DEFAULT_HEADERS=void 0;const u=op();return gs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},gs}var Md;function cp(){if(Md)return pn;Md=1;var u=pn&&pn.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(pn,"__esModule",{value:!0});const s=u(ph()),a=u(vl()),o=lp();class c{constructor(f,{headers:g={},schema:p,fetch:x}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),g),this.schemaName=p,this.fetch=x}from(f){const g=new URL(`${this.url}/${f}`);return new s.default(g,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new c(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,g={},{head:p=!1,get:x=!1,count:y}={}){let w;const k=new URL(`${this.url}/rpc/${f}`);let C;p||x?(w=p?"HEAD":"GET",Object.entries(g).filter(([R,O])=>O!==void 0).map(([R,O])=>[R,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([R,O])=>{k.searchParams.append(R,O)})):(w="POST",C=g);const A=Object.assign({},this.headers);return y&&(A.Prefer=`count=${y}`),new a.default({method:w,url:k,headers:A,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return pn.default=c,pn}var $d;function up(){if($d)return Qe;$d=1;var u=Qe&&Qe.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const s=u(cp());Qe.PostgrestClient=s.default;const a=u(ph());Qe.PostgrestQueryBuilder=a.default;const o=u(vl());Qe.PostgrestFilterBuilder=o.default;const c=u(mh());Qe.PostgrestTransformBuilder=c.default;const h=u(fh());Qe.PostgrestBuilder=h.default;const f=u(hh());return Qe.PostgrestError=f.default,Qe.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:h.default,PostgrestError:f.default},Qe}var dp=up();const hp=ch(dp),{PostgrestClient:fp,PostgrestQueryBuilder:qg,PostgrestFilterBuilder:Hg,PostgrestTransformBuilder:Wg,PostgrestBuilder:Kg,PostgrestError:Qg}=hp;function mp(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const pp=mp(),gp="2.11.15",yp=`realtime-js/${gp}`,xp="1.0.0",gh=1e4,vp=1e3;var vs;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(vs||(vs={}));var nt;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(nt||(nt={}));var Lt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Lt||(Lt={}));var ll;(function(u){u.websocket="websocket"})(ll||(ll={}));var Fr;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Fr||(Fr={}));class wp{constructor(){this.HEADER_LENGTH=1}decode(s,a){return s.constructor===ArrayBuffer?a(this._binaryDecode(s)):a(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const a=new DataView(s),o=new TextDecoder;return this._decodeBroadcast(s,a,o)}_decodeBroadcast(s,a,o){const c=a.getUint8(1),h=a.getUint8(2);let f=this.HEADER_LENGTH+2;const g=o.decode(s.slice(f,f+c));f=f+c;const p=o.decode(s.slice(f,f+h));f=f+h;const x=JSON.parse(o.decode(s.slice(f,s.byteLength)));return{ref:null,topic:g,event:p,payload:x}}}class yh{constructor(s,a){this.callback=s,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(Ce||(Ce={}));const Ud=(u,s,a={})=>{var o;const c=(o=a.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(s).reduce((h,f)=>(h[f]=_p(f,u,s,c),h),{})},_p=(u,s,a,o)=>{const c=s.find(g=>g.name===u),h=c?.type,f=a[u];return h&&!o.includes(h)?xh(h,f):cl(f)},xh=(u,s)=>{if(u.charAt(0)==="_"){const a=u.slice(1,u.length);return kp(s,a)}switch(u){case Ce.bool:return jp(s);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return bp(s);case Ce.json:case Ce.jsonb:return Np(s);case Ce.timestamp:return Sp(s);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return cl(s);default:return cl(s)}},cl=u=>u,jp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},bp=u=>{if(typeof u=="string"){const s=parseFloat(u);if(!Number.isNaN(s))return s}return u},Np=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(s){return console.log(`JSON parse error: ${s}`),u}return u},kp=(u,s)=>{if(typeof u!="string")return u;const a=u.length-1,o=u[a];if(u[0]==="{"&&o==="}"){let h;const f=u.slice(1,a);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>xh(s,g))}return u},Sp=u=>typeof u=="string"?u.replace(" ","T"):u,vh=u=>{let s=u;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Zo{constructor(s,a,o={},c=gh){this.channel=s,this.event=a,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,a){var o;return this._hasReceived(s)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:s,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:a}){this.recHooks.filter(o=>o.status===s).forEach(o=>o.callback(a))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var zd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(zd||(zd={}));class ws{constructor(s,a){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ws.syncState(this.state,c,h,f),this.pendingDiffs.forEach(p=>{this.state=ws.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ws.syncDiff(this.state,c,h,f),g())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,a,o,c){const h=this.cloneDeep(s),f=this.transformState(a),g={},p={};return this.map(h,(x,y)=>{f[x]||(p[x]=y)}),this.map(f,(x,y)=>{const w=h[x];if(w){const k=y.map(O=>O.presence_ref),C=w.map(O=>O.presence_ref),A=y.filter(O=>C.indexOf(O.presence_ref)<0),R=w.filter(O=>k.indexOf(O.presence_ref)<0);A.length>0&&(g[x]=A),R.length>0&&(p[x]=R)}else g[x]=y}),this.syncDiff(h,{joins:g,leaves:p},o,c)}static syncDiff(s,a,o,c){const{joins:h,leaves:f}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(h,(g,p)=>{var x;const y=(x=s[g])!==null&&x!==void 0?x:[];if(s[g]=this.cloneDeep(p),y.length>0){const w=s[g].map(C=>C.presence_ref),k=y.filter(C=>w.indexOf(C.presence_ref)<0);s[g].unshift(...k)}o(g,y,p)}),this.map(f,(g,p)=>{let x=s[g];if(!x)return;const y=p.map(w=>w.presence_ref);x=x.filter(w=>y.indexOf(w.presence_ref)<0),s[g]=x,c(g,x,p),x.length===0&&delete s[g]}),s}static map(s,a){return Object.getOwnPropertyNames(s).map(o=>a(o,s[o]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((a,o)=>{const c=s[o];return"metas"in c?a[o]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):a[o]=c,a},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Fd||(Fd={}));var Bd;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Bd||(Bd={}));var Xt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class wl{constructor(s,a={config:{}},o){this.topic=s,this.params=a,this.socket=o,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Zo(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new yh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new ws(this),this.broadcastEndpointURL=vh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,a=this.timeout){var o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:h,presence:f,private:g}}=this.params;this._onError(y=>s?.(Xt.CHANNEL_ERROR,y)),this._onClose(()=>s?.(Xt.CLOSED));const p={},x={broadcast:h,presence:f,postgres_changes:(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(y=>y.filter))!==null&&c!==void 0?c:[],private:g};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){s?.(Xt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,C=(w=k?.length)!==null&&w!==void 0?w:0,A=[];for(let R=0;R<C;R++){const O=k[R],{filter:{event:B,schema:ne,table:L,filter:F}}=O,ie=y&&y[R];if(ie&&ie.event===B&&ie.schema===ne&&ie.table===L&&ie.filter===F)A.push(Object.assign(Object.assign({},O),{id:ie.id}));else{this.unsubscribe(),this.state=nt.errored,s?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,s&&s(Xt.SUBSCRIBED);return}}).receive("error",y=>{this.state=nt.errored,s?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{s?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,a={}){return await this.send({type:"presence",event:"track",payload:s},a.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,a,o){return this._on(s,a,o)}async send(s,a={}){var o,c;if(!this._canPush()&&s.type==="broadcast"){const{event:h,payload:f}=s,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,p;const x=this._push(s.type,s,a.timeout||this.timeout);s.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),x.receive("ok",()=>h("ok")),x.receive("error",()=>h("error")),x.receive("timeout",()=>h("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=nt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Zo(this,Lt.leave,{},s),o.receive("ok",()=>{a(),c("ok")}).receive("timeout",()=>{a(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,a,o){const c=new AbortController,h=setTimeout(()=>c.abort(),o),f=await this.socket.fetch(s,Object.assign(Object.assign({},a),{signal:c.signal}));return clearTimeout(h),f}_push(s,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Zo(this,s,a,o);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(s,a,o){return a}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,a,o){var c,h;const f=s.toLocaleLowerCase(),{close:g,error:p,leave:x,join:y}=Lt;if(o&&[g,p,x,y].indexOf(f)>=0&&o!==this._joinRef())return;let k=this._onMessage(f,a,o);if(a&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var A,R,O;return((A=C.filter)===null||A===void 0?void 0:A.event)==="*"||((O=(R=C.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(C=>C.callback(k,o)):(h=this.bindings[f])===null||h===void 0||h.filter(C=>{var A,R,O,B,ne,L;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in C){const F=C.id,ie=(A=C.filter)===null||A===void 0?void 0:A.event;return F&&((R=a.ids)===null||R===void 0?void 0:R.includes(F))&&(ie==="*"||ie?.toLocaleLowerCase()===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const F=(ne=(B=C?.filter)===null||B===void 0?void 0:B.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase();return F==="*"||F===((L=a?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===f}).map(C=>{if(typeof k=="object"&&"ids"in k){const A=k.data,{schema:R,table:O,commit_timestamp:B,type:ne,errors:L}=A;k=Object.assign(Object.assign({},{schema:R,table:O,commit_timestamp:B,eventType:ne,new:{},old:{},errors:L}),this._getPayloadRecords(A))}C.callback(k,o)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,a,o){const c=s.toLocaleLowerCase(),h={type:c,filter:a,callback:o};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(s,a){const o=s.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&wl.isEqual(c.filter,a))}),this}static isEqual(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const o in s)if(s[o]!==a[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Lt.close,{},s)}_onError(s){this._on(Lt.error,{},a=>s(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const a={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(a.new=Ud(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(a.old=Ud(s.columns,s.old_record)),a}}const Vd=()=>{},Cp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ep{constructor(s,a){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vd,this.ref=0,this.logger=Vd,this.conn=null,this.sendBuffer=[],this.serializer=new wp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=h=>{let f;return h?f=h:typeof fetch>"u"?f=(...g)=>Cs(async()=>{const{default:p}=await Promise.resolve().then(()=>Sn);return{default:p}},void 0).then(({default:p})=>p(...g)):f=fetch,(...g)=>f(...g)},this.endPoint=`${s}/${ll.websocket}`,this.httpEndpoint=vh(s),a?.transport?this.transport=a.transport:this.transport=null,a?.params&&(this.params=a.params),a?.timeout&&(this.timeout=a.timeout),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const c=(o=a?.params)===null||o===void 0?void 0:o.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=a?.reconnectAfterMs?a.reconnectAfterMs:h=>[1e3,2e3,5e3,1e4][h-1]||1e4,this.encode=a?.encode?a.encode:(h,f)=>f(JSON.stringify(h)),this.decode=a?.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a?.fetch),a?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=a?.worker||!1,this.workerUrl=a?.workerUrl}this.accessToken=a?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=pp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xp}))}disconnect(s,a){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(s){const a=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const s=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,a,o){this.logger(s,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return Fr.Connecting;case vs.open:return Fr.Open;case vs.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}channel(s,a={config:{}}){const o=`realtime:${s}`,c=this.getChannels().find(h=>h.topic===o);if(c)return c;{const h=new wl(`realtime:${s}`,a,this);return this.channels.push(h),h}}push(s){const{topic:a,event:o,payload:c,ref:h}=s,f=()=>{this.encode(s,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${a} ${o} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(s=null){let a=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const c={access_token:a,version:yp};a&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Lt.access_token,{access_token:a})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(vp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let a=this.channels.find(o=>o.topic===s&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${s}"`),a.unsubscribe())}_remove(s){this.channels=this.channels.filter(a=>a.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,a=>{let{topic:o,event:c,payload:h,ref:f}=a;o==="phoenix"&&c==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${h.status||""} ${o} ${c} ${f&&"("+f+")"||""}`,h),Array.from(this.channels).filter(g=>g._isMember(o)).forEach(g=>g._trigger(c,h,f)),this.stateChangeCallbacks.message.forEach(g=>g(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(s=>s())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(s))}_onConnError(s){this.log("transport",`${s}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Lt.error))}_appendParams(s,a){if(Object.keys(a).length===0)return s;const o=s.match(/\?/)?"&":"?",c=new URLSearchParams(a);return`${s}${o}${c}`}_workerObjectUrl(s){let a;if(s)a=s;else{const o=new Blob([Cp],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}}class _l extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function Ge(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Tp extends _l{constructor(s,a){super(s),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ul extends _l{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}}var Pp=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};const wh=u=>{let s;return u?s=u:typeof fetch>"u"?s=(...a)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...a)):s=fetch,(...a)=>s(...a)},Ap=()=>Pp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),dl=u=>{if(Array.isArray(u))return u.map(a=>dl(a));if(typeof u=="function"||u!==Object(u))return u;const s={};return Object.entries(u).forEach(([a,o])=>{const c=a.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));s[c]=dl(o)}),s};var Br=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};const Xo=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Dp=(u,s,a)=>Br(void 0,void 0,void 0,function*(){const o=yield Ap();u instanceof o&&!a?.noResolveJson?u.json().then(c=>{s(new Tp(Xo(c),u.status||500))}).catch(c=>{s(new ul(Xo(c),c))}):s(new ul(Xo(u),u))}),Rp=(u,s,a,o)=>{const c={method:u,headers:s?.headers||{}};return u==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json"},s?.headers),o&&(c.body=JSON.stringify(o)),Object.assign(Object.assign({},c),a))};function Es(u,s,a,o,c,h){return Br(this,void 0,void 0,function*(){return new Promise((f,g)=>{u(a,Rp(s,o,c,h)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>Dp(p,g,o))})})}function Gi(u,s,a,o){return Br(this,void 0,void 0,function*(){return Es(u,"GET",s,a,o)})}function wr(u,s,a,o,c){return Br(this,void 0,void 0,function*(){return Es(u,"POST",s,o,c,a)})}function Op(u,s,a,o,c){return Br(this,void 0,void 0,function*(){return Es(u,"PUT",s,o,c,a)})}function Ip(u,s,a,o){return Br(this,void 0,void 0,function*(){return Es(u,"HEAD",s,Object.assign(Object.assign({},a),{noResolveJson:!0}),o)})}function _h(u,s,a,o,c){return Br(this,void 0,void 0,function*(){return Es(u,"DELETE",s,o,c,a)})}var ft=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};const Lp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mp{constructor(s,a={},o,c){this.url=s,this.headers=a,this.bucketId=o,this.fetch=wh(c)}uploadOrUpdate(s,a,o,c){return ft(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},qd),c);let g=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",this.encodeMetadata(p)),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",this.encodeMetadata(p))):(h=o,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),c?.headers&&(g=Object.assign(Object.assign({},g),c.headers));const x=this._removeEmptyFolders(a),y=this._getFinalPath(x),w=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:s,body:h,headers:g},f?.duplex?{duplex:f.duplex}:{})),k=yield w.json();return w.ok?{data:{path:x,id:k.Id,fullPath:k.Key},error:null}:{data:null,error:k}}catch(h){if(Ge(h))return{data:null,error:h};throw h}})}upload(s,a,o){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,a,o)})}uploadToSignedUrl(s,a,o,c){return ft(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(s),f=this._getFinalPath(h),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",a);try{let p;const x=Object.assign({upsert:qd.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",x.cacheControl)):(p=o,y["cache-control"]=`max-age=${x.cacheControl}`,y["content-type"]=x.contentType);const w=yield this.fetch(g.toString(),{method:"PUT",body:p,headers:y}),k=yield w.json();return w.ok?{data:{path:h,fullPath:k.Key},error:null}:{data:null,error:k}}catch(p){if(Ge(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(s,a){return ft(this,void 0,void 0,function*(){try{let o=this._getFinalPath(s);const c=Object.assign({},this.headers);a?.upsert&&(c["x-upsert"]="true");const h=yield wr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),f=new URL(this.url+h.url),g=f.searchParams.get("token");if(!g)throw new _l("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:g},error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}update(s,a,o){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,a,o)})}move(s,a,o){return ft(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}copy(s,a,o){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrl(s,a,o){return ft(this,void 0,void 0,function*(){try{let c=this._getFinalPath(s),h=yield wr(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:a},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrls(s,a,o){return ft(this,void 0,void 0,function*(){try{const c=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:s},{headers:this.headers}),h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}download(s,a){return ft(this,void 0,void 0,function*(){const c=typeof a?.transform<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString(a?.transform||{}),f=h?`?${h}`:"";try{const g=this._getFinalPath(s);return{data:yield(yield Gi(this.fetch,`${this.url}/${c}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Ge(g))return{data:null,error:g};throw g}})}info(s){return ft(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{const o=yield Gi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:dl(o),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}exists(s){return ft(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{return yield Ip(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ge(o)&&o instanceof ul){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(s,a){const o=this._getFinalPath(s),c=[],h=a?.download?`download=${a.download===!0?"":a.download}`:"";h!==""&&c.push(h);const g=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&c.push(p);let x=c.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${o}${x}`)}}}remove(s){return ft(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}list(s,a,o){return ft(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Lp),a),{prefix:s||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(Ge(c))return{data:null,error:c};throw c}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}}const $p="2.7.1",Up={"X-Client-Info":`storage-js/${$p}`};var wn=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};class zp{constructor(s,a={},o){this.url=s,this.headers=Object.assign(Object.assign({},Up),a),this.fetch=wh(o)}listBuckets(){return wn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}getBucket(s){return wn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}createBucket(s,a={public:!1}){return wn(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}updateBucket(s,a){return wn(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ge(o))return{data:null,error:o};throw o}})}emptyBucket(s){return wn(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}deleteBucket(s){return wn(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}}class Fp extends zp{constructor(s,a={},o){super(s,a,o)}from(s){return new Mp(this.url,this.headers,s,this.fetch)}}const Bp="2.50.2";let xs="";typeof Deno<"u"?xs="deno":typeof document<"u"?xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xs="react-native":xs="node";const Vp={"X-Client-Info":`supabase-js-${xs}/${Bp}`},qp={headers:Vp},Hp={schema:"public"},Wp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kp={};var Qp=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};const Gp=u=>{let s;return u?s=u:typeof fetch>"u"?s=uh:s=fetch,(...a)=>s(...a)},Jp=()=>typeof Headers>"u"?dh:Headers,Yp=(u,s,a)=>{const o=Gp(a),c=Jp();return(h,f)=>Qp(void 0,void 0,void 0,function*(){var g;const p=(g=yield s())!==null&&g!==void 0?g:u;let x=new c(f?.headers);return x.has("apikey")||x.set("apikey",u),x.has("Authorization")||x.set("Authorization",`Bearer ${p}`),o(h,Object.assign(Object.assign({},f),{headers:x}))})};var Zp=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};function Xp(u){return u.endsWith("/")?u:u+"/"}function e0(u,s){var a,o;const{db:c,auth:h,realtime:f,global:g}=u,{db:p,auth:x,realtime:y,global:w}=s,k={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},x),h),realtime:Object.assign(Object.assign({},y),f),global:Object.assign(Object.assign(Object.assign({},w),g),{headers:Object.assign(Object.assign({},(a=w?.headers)!==null&&a!==void 0?a:{}),(o=g?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Zp(this,void 0,void 0,function*(){return""})};return u.accessToken?k.accessToken=u.accessToken:delete k.accessToken,k}const jh="2.70.0",Nn=30*1e3,hl=3,el=hl*Nn,t0="http://localhost:9999",r0="supabase.auth.token",n0={"X-Client-Info":`gotrue-js/${jh}`},fl="X-Supabase-Api-Version",bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},s0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,i0=6e5;class jl extends Error{constructor(s,a,o){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function fe(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class a0 extends jl{constructor(s,a,o){super(s,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function o0(u){return fe(u)&&u.name==="AuthApiError"}class Nh extends jl{constructor(s,a){super(s),this.name="AuthUnknownError",this.originalError=a}}class kr extends jl{constructor(s,a,o,c){super(s,o,c),this.name=a,this.status=o}}class vr extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l0(u){return fe(u)&&u.name==="AuthSessionMissingError"}class zi extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fi extends kr{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Bi extends kr{constructor(s,a=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c0(u){return fe(u)&&u.name==="AuthImplicitGrantRedirectError"}class Hd extends kr{constructor(s,a=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ml extends kr{constructor(s,a){super(s,"AuthRetryableFetchError",a,void 0)}}function tl(u){return fe(u)&&u.name==="AuthRetryableFetchError"}class Wd extends kr{constructor(s,a,o){super(s,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}class _s extends kr{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kd=` 	
\r=`.split(""),u0=(()=>{const u=new Array(128);for(let s=0;s<u.length;s+=1)u[s]=-1;for(let s=0;s<Kd.length;s+=1)u[Kd[s].charCodeAt(0)]=-2;for(let s=0;s<Ji.length;s+=1)u[Ji[s].charCodeAt(0)]=s;return u})();function Qd(u,s,a){if(u!==null)for(s.queue=s.queue<<8|u,s.queuedBits+=8;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;a(Ji[o]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;a(Ji[o]),s.queuedBits-=6}}function kh(u,s,a){const o=u0[u];if(o>-1)for(s.queue=s.queue<<6|o,s.queuedBits+=6;s.queuedBits>=8;)a(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Gd(u){const s=[],a=f=>{s.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{f0(f,o,a)};for(let f=0;f<u.length;f+=1)kh(u.charCodeAt(f),c,h);return s.join("")}function d0(u,s){if(u<=127){s(u);return}else if(u<=2047){s(192|u>>6),s(128|u&63);return}else if(u<=65535){s(224|u>>12),s(128|u>>6&63),s(128|u&63);return}else if(u<=1114111){s(240|u>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function h0(u,s){for(let a=0;a<u.length;a+=1){let o=u.charCodeAt(a);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(u.charCodeAt(a+1)-56320&65535|c)+65536,a+=1}d0(o,s)}}function f0(u,s,a){if(s.utf8seq===0){if(u<=127){a(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){s.utf8seq=o;break}if(s.utf8seq===2)s.codepoint=u&31;else if(s.utf8seq===3)s.codepoint=u&15;else if(s.utf8seq===4)s.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|u&63,s.utf8seq-=1,s.utf8seq===0&&a(s.codepoint)}}function m0(u){const s=[],a={queue:0,queuedBits:0},o=c=>{s.push(c)};for(let c=0;c<u.length;c+=1)kh(u.charCodeAt(c),a,o);return new Uint8Array(s)}function p0(u){const s=[];return h0(u,a=>s.push(a)),new Uint8Array(s)}function g0(u){const s=[],a={queue:0,queuedBits:0},o=c=>{s.push(c)};return u.forEach(c=>Qd(c,a,o)),Qd(null,a,o),s.join("")}function y0(u){return Math.round(Date.now()/1e3)+u}function x0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const s=Math.random()*16|0;return(u=="x"?s:s&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},js=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function v0(u){const s={},a=new URL(u);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((c,h)=>{s[h]=c})}catch{}return a.searchParams.forEach((o,c)=>{s[c]=o}),s}const Sh=u=>{let s;return u?s=u:typeof fetch>"u"?s=(...a)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...a)):s=fetch,(...a)=>s(...a)},w0=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",Ch=async(u,s,a)=>{await u.setItem(s,JSON.stringify(a))},Vi=async(u,s)=>{const a=await u.getItem(s);if(!a)return null;try{return JSON.parse(a)}catch{return a}},qi=async(u,s)=>{await u.removeItem(s)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((s,a)=>{this.resolve=s,this.reject=a})}}Zi.promiseConstructor=Promise;function rl(u){const s=u.split(".");if(s.length!==3)throw new _s("Invalid JWT structure");for(let o=0;o<s.length;o++)if(!s0.test(s[o]))throw new _s("JWT not in base64url format");return{header:JSON.parse(Gd(s[0])),payload:JSON.parse(Gd(s[1])),signature:m0(s[2]),raw:{header:s[0],payload:s[1]}}}async function _0(u){return await new Promise(s=>{setTimeout(()=>s(null),u)})}function j0(u,s){return new Promise((o,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await u(h);if(!s(h,null,f)){o(f);return}}catch(f){if(!s(h,f)){c(f);return}}})()})}function b0(u){return("0"+u.toString(16)).substr(-2)}function N0(){const s=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let c="";for(let h=0;h<56;h++)c+=a.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(s),Array.from(s,b0).join("")}async function k0(u){const a=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",a),c=new Uint8Array(o);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function S0(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const a=await k0(u);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _n(u,s,a=!1){const o=N0();let c=o;a&&(c+="/PASSWORD_RECOVERY"),await Ch(u,`${s}-code-verifier`,c);const h=await S0(o);return[h,o===h?"plain":"s256"]}const C0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E0(u){const s=u.headers.get(fl);if(!s||!s.match(C0))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function T0(u){if(!u)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(u<=s)throw new Error("JWT has expired")}function P0(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(u){if(!A0.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var D0=function(u,s){var a={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&s.indexOf(o)<0&&(a[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(u);c<o.length;c++)s.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(u,o[c])&&(a[o[c]]=u[o[c]]);return a};const zr=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),R0=[502,503,504];async function Jd(u){var s;if(!w0(u))throw new ml(zr(u),0);if(R0.includes(u.status))throw new ml(zr(u),u.status);let a;try{a=await u.json()}catch(h){throw new Nh(zr(h),h)}let o;const c=E0(u);if(c&&c.getTime()>=bh["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new Wd(zr(a),u.status,((s=a.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(o==="session_not_found")throw new vr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Wd(zr(a),u.status,a.weak_password.reasons);throw new a0(zr(a),u.status||500,o)}const O0=(u,s,a,o)=>{const c={method:u,headers:s?.headers||{}};return u==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),a))};async function ge(u,s,a,o){var c;const h=Object.assign({},o?.headers);h[fl]||(h[fl]=bh["2024-01-01"].name),o?.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const f=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await I0(u,s,a+g,{headers:h,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function I0(u,s,a,o,c,h){const f=O0(s,o,c,h);let g;try{g=await u(a,Object.assign({},f))}catch(p){throw console.error(p),new ml(zr(p),0)}if(g.ok||await Jd(g),o?.noResolveJson)return g;try{return await g.json()}catch(p){await Jd(p)}}function Zt(u){var s;let a=null;U0(u)&&(a=Object.assign({},u),u.expires_at||(a.expires_at=y0(u.expires_in)));const o=(s=u.user)!==null&&s!==void 0?s:u;return{data:{session:a,user:o},error:null}}function Yd(u){const s=Zt(u);return!s.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(s.data.weak_password=u.weak_password),s}function _r(u){var s;return{data:{user:(s=u.user)!==null&&s!==void 0?s:u},error:null}}function L0(u){return{data:u,error:null}}function M0(u){const{action_link:s,email_otp:a,hashed_token:o,redirect_to:c,verification_type:h}=u,f=D0(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:a,hashed_token:o,redirect_to:c,verification_type:h},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function $0(u){return u}function U0(u){return u.access_token&&u.refresh_token&&u.expires_in}const nl=["global","local","others"];var z0=function(u,s){var a={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&s.indexOf(o)<0&&(a[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(u);c<o.length;c++)s.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(u,o[c])&&(a[o[c]]=u[o[c]]);return a};class F0{constructor({url:s="",headers:a={},fetch:o}){this.url=s,this.headers=a,this.fetch=Sh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,a=nl[0]){if(nl.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nl.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(s,a={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:_r})}catch(o){if(fe(o))return{data:{user:null},error:o};throw o}}async generateLink(s){try{const{options:a}=s,o=z0(s,["options"]),c=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:M0,redirectTo:a?.redirectTo})}catch(a){if(fe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(s){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:_r})}catch(a){if(fe(a))return{data:{user:null},error:a};throw a}}async listUsers(s){var a,o,c,h,f,g,p;try{const x={nextPage:null,lastPage:0,total:0},y=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=s?.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:$0});if(y.error)throw y.error;const w=await y.json(),k=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(p=(g=y.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);x[`${O}Page`]=R}),x.total=parseInt(k)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(fe(x))return{data:{users:[]},error:x};throw x}}async getUserById(s){jn(s);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:_r})}catch(a){if(fe(a))return{data:{user:null},error:a};throw a}}async updateUserById(s,a){jn(s);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:a,headers:this.headers,xform:_r})}catch(o){if(fe(o))return{data:{user:null},error:o};throw o}}async deleteUser(s,a=!1){jn(s);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:a},xform:_r})}catch(o){if(fe(o))return{data:{user:null},error:o};throw o}}async _listFactors(s){jn(s.userId);try{const{data:a,error:o}=await ge(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:a,error:o}}catch(a){if(fe(a))return{data:null,error:a};throw a}}async _deleteFactor(s){jn(s.userId),jn(s.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}}}const B0={getItem:u=>js()?globalThis.localStorage.getItem(u):null,setItem:(u,s)=>{js()&&globalThis.localStorage.setItem(u,s)},removeItem:u=>{js()&&globalThis.localStorage.removeItem(u)}};function Zd(u={}){return{getItem:s=>u[s]||null,setItem:(s,a)=>{u[s]=a},removeItem:s=>{delete u[s]}}}function V0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&js()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Eh extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class q0 extends Eh{}async function H0(u,s,a){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,s);const o=new globalThis.AbortController;return s>0&&setTimeout(()=>{o.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,c.name);try{return await a()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,c.name)}}else{if(s===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new q0(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(bn.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}V0();const W0={url:t0,storageKey:r0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:n0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xd(u,s,a){return await a()}class bs{constructor(s){var a,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},W0),s);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new F0({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Sh(c.fetch),this.lock=c.lock||Xd,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:It()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=H0:this.lock=Xd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:js()?this.storage=B0:(this.memoryStorage={},this.storage=Zd(this.memoryStorage)):(this.memoryStorage={},this.storage=Zd(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jh}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const a=v0(window.location.href);let o="none";if(this._isImplicitGrantCallback(a)?o="implicit":await this._isPKCECallback(a)&&(o="pkce"),It()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:h}=await this._getSessionFromURL(a,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),c0(h)){const p=(s=h.details)===null||s===void 0?void 0:s.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return fe(a)?{error:a}:{error:new Nh("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var a,o,c;try{const h=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=s?.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=s?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Zt}),{data:f,error:g}=h;if(g||!f)return{data:{user:null,session:null},error:g};const p=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:x,session:p},error:null}}catch(h){if(fe(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(s){var a,o,c;try{let h;if("email"in s){const{email:y,password:w,options:k}=s;let C=null,A=null;this.flowType==="pkce"&&([C,A]=await _n(this.storage,this.storageKey)),h=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:y,password:w,data:(a=k?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:C,code_challenge_method:A},xform:Zt})}else if("phone"in s){const{phone:y,password:w,options:k}=s;h=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(o=k?.data)!==null&&o!==void 0?o:{},channel:(c=k?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Zt})}else throw new Fi("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return{data:{user:null,session:null},error:g};const p=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:x,session:p},error:null}}catch(h){if(fe(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(s){try{let a;if("email"in s){const{email:h,password:f,options:g}=s;a=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Yd})}else if("phone"in s){const{phone:h,password:f,options:g}=s;a=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Yd})}else throw new Fi("You must provide either an email or phone number and a password");const{data:o,error:c}=a;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new zi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(s){var a,o,c,h;return await this._handleProviderSignIn(s.provider,{redirectTo:(a=s.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=s.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:a}=s;if(a==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(s){var a,o,c,h,f,g,p,x,y,w,k,C;let A,R;if("message"in s)A=s.message,R=s.signature;else{const{chain:O,wallet:B,statement:ne,options:L}=s;let F;if(It())if(typeof B=="object")F=B;else{const ue=window;if("solana"in ue&&typeof ue.solana=="object"&&("signIn"in ue.solana&&typeof ue.solana.signIn=="function"||"signMessage"in ue.solana&&typeof ue.solana.signMessage=="function"))F=ue.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=B}const ie=new URL((a=L?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in F&&F.signIn){const ue=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),ne?{statement:ne}:null));let ae;if(Array.isArray(ue)&&ue[0]&&typeof ue[0]=="object")ae=ue[0];else if(ue&&typeof ue=="object"&&"signedMessage"in ue&&"signature"in ue)ae=ue;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)A=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),R=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${ie.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...ne?["",ne,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(c=(o=L?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=L?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((x=L?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((w=(y=L?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...L.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const ue=await F.signMessage(new TextEncoder().encode(A),"utf8");if(!ue||!(ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=ue}}try{const{data:O,error:B}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:g0(R)},!((k=s.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(C=s.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Zt});if(B)throw B;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new zi}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:B})}catch(O){if(fe(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(s){const a=await Vi(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(a??"").split("/");try{const{data:h,error:f}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:o},xform:Zt});if(await qi(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new zi}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(fe(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(s){try{const{options:a,provider:o,token:c,access_token:h,nonce:f}=s,g=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Zt}),{data:p,error:x}=g;return x?{data:{user:null,session:null},error:x}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new zi}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:x})}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(s){var a,o,c,h,f;try{if("email"in s){const{email:g,options:p}=s;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await _n(this.storage,this.storageKey));const{error:w}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:x,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in s){const{phone:g,options:p}=s,{data:x,error:y}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(h=p?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:x?.message_id},error:y}}throw new Fi("You must provide either an email or phone number.")}catch(g){if(fe(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(s){var a,o;try{let c,h;"options"in s&&(c=(a=s.options)===null||a===void 0?void 0:a.redirectTo,h=(o=s.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:g}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Zt});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,x=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:x,session:p},error:null}}catch(c){if(fe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(s){var a,o,c;try{let h=null,f=null;return this.flowType==="pkce"&&([h,f]=await _n(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(o=(a=s.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=s?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:L0})}catch(h){if(fe(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)throw o;if(!a)throw new vr;const{error:c}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:c}})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const a=`${this.url}/resend`;if("email"in s){const{email:o,type:c,options:h}=s,{error:f}=await ge(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in s){const{phone:o,type:c,options:h}=s,{data:f,error:g}=await ge(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new Fi("You must provide either an email or phone number and a type")}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(s,a){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await s(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const a=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?s=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const o=s.expires_at?s.expires_at*1e3-Date.now()<el:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",s.expires_at),!o){if(this.storage.isServer){let f=this.suppressGetSessionWarning;s=new Proxy(s,{get:(p,x,y)=>(!f&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,x,y))})}return{data:{session:s},error:null}}const{session:c,error:h}=await this._callRefreshToken(s.refresh_token);return h?{data:{session:null},error:h}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:_r}):await this._useSession(async a=>{var o,c,h;const{data:f,error:g}=a;if(g)throw g;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:_r})})}catch(a){if(fe(a))return l0(a)&&(await this._removeSession(),await qi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(s,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,a))}async _updateUser(s,a={}){try{return await this._useSession(async o=>{const{data:c,error:h}=o;if(h)throw h;if(!c.session)throw new vr;const f=c.session;let g=null,p=null;this.flowType==="pkce"&&s.email!=null&&([g,p]=await _n(this.storage,this.storageKey));const{data:x,error:y}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:_r});if(y)throw y;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(fe(o))return{data:{user:null},error:o};throw o}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new vr;const a=Date.now()/1e3;let o=a,c=!0,h=null;const{payload:f}=rl(s.access_token);if(f.exp&&(o=f.exp,c=o<=a),c){const{session:g,error:p}=await this._callRefreshToken(s.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:p}=await this._getUser(s.access_token);if(p)throw p;h={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(a){if(fe(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async a=>{var o;if(!s){const{data:f,error:g}=a;if(g)throw g;s=(o=f.session)!==null&&o!==void 0?o:void 0}if(!s?.refresh_token)throw new vr;const{session:c,error:h}=await this._callRefreshToken(s.refresh_token);return h?{data:{user:null,session:null},error:h}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(s,a){try{if(!It())throw new Bi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Bi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Hd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Hd("No code detected.");const{data:ne,error:L}=await this._exchangeCodeForSession(s.code);if(L)throw L;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:ne.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:g,expires_at:p,token_type:x}=s;if(!h||!g||!f||!x)throw new Bi("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(g);let k=y+w;p&&(k=parseInt(p));const C=k-y;C*1e3<=Nn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const A=k-w;y-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,k,y):y-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,k,y);const{data:R,error:O}=await this._getUser(h);if(O)throw O;const B={provider_token:o,provider_refresh_token:c,access_token:h,expires_in:w,expires_at:k,refresh_token:f,token_type:x,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:s.type},error:null}}catch(o){if(fe(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const a=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&a)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:c,error:h}=a;if(h)return{error:h};const f=(o=c.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:g}=await this.admin.signOut(f,s);if(g&&!(o0(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return s!=="others"&&(await this._removeSession(),await qi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const a=x0(),o={id:a,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(s){return await this._useSession(async a=>{var o,c;try{const{data:{session:h},error:f}=a;if(f)throw f;await((o=this.stateChangeEmitters.get(s))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",s,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",h),console.error(h)}})}async resetPasswordForEmail(s,a={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await _n(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(h){if(fe(h))return{data:null,error:h};throw h}}async getUserIdentities(){var s;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(s=a.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}}async linkIdentity(s){var a;try{const{data:o,error:c}=await this._useSession(async h=>{var f,g,p,x,y;const{data:w,error:k}=h;if(k)throw k;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(f=s.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=s.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",C,{headers:this.headers,jwt:(y=(x=w.session)===null||x===void 0?void 0:x.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return It()&&!(!((a=s.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:s.provider,url:o?.url},error:null}}catch(o){if(fe(o))return{data:{provider:s.provider,url:null},error:o};throw o}}async unlinkIdentity(s){try{return await this._useSession(async a=>{var o,c;const{data:h,error:f}=a;if(f)throw f;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async _refreshAccessToken(s){const a=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await j0(async c=>(c>0&&await _0(200*Math.pow(2,c-1)),this._debug(a,"refreshing attempt",c),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Zt})),(c,h)=>{const f=200*Math.pow(2,c);return h&&tl(h)&&Date.now()+f-o<Nn})}catch(o){if(this._debug(a,"error",o),fe(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(a,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",a,"url",o),It()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:s,url:o},error:null}}async _recoverAndRefresh(){var s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Vi(this.storage,this.storageKey);if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<el;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${el}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),tl(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(s){var a,o;if(!s)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Zi;const{data:h,error:f}=await this._refreshAccessToken(s);if(f)throw f;if(!h.session)throw new vr;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={session:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),fe(h)){const f={session:null,error:h};return tl(h)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,a,o=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:s,session:a});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,a)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await Ch(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await qi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&It()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Nn);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-s)/Nn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Nn}ms, refresh threshold is ${hl} ticks`),c<=hl&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof Eh)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const a=`#_onVisibilityChanged(${s})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,a,o){const c=[`provider=${encodeURIComponent(a)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,f]=await _n(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(o?.queryParams){const h=new URLSearchParams(o.queryParams);c.push(h.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async a=>{var o;const{data:c,error:h}=a;return h?{data:null,error:h}:await ge(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async _enroll(s){try{return await this._useSession(async a=>{var o,c;const{data:h,error:f}=a;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:p,error:x}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=h?.session)===null||o===void 0?void 0:o.access_token});return x?{data:null,error:x}:(s.factorType==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:c,error:h}=a;if(h)return{data:null,error:h};const{data:f,error:g}=await ge(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(a){if(fe(a))return{data:null,error:a};throw a}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:c,error:h}=a;return h?{data:null,error:h}:await ge(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(fe(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(s){const{data:a,error:o}=await this._challenge({factorId:s.factorId});return o?{data:null,error:o}:await this._verify({factorId:s.factorId,challengeId:a.id,code:s.code})}async _listFactors(){const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o=s?.factors||[],c=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),h=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:c,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var a,o;const{data:{session:c},error:h}=s;if(h)return{data:null,error:h};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=rl(c.access_token);let g=null;f.aal&&(g=f.aal);let p=g;((o=(a=c.user.factors)===null||a===void 0?void 0:a.filter(w=>w.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const y=f.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(s,a={keys:[]}){let o=a.keys.find(f=>f.kid===s);if(o||(o=this.jwks.keys.find(f=>f.kid===s),o&&this.jwks_cached_at+i0>Date.now()))return o;const{data:c,error:h}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;if(!c.keys||c.keys.length===0)throw new _s("JWKS is empty");if(this.jwks=c,this.jwks_cached_at=Date.now(),o=c.keys.find(f=>f.kid===s),!o)throw new _s("No matching signing key found in JWKS");return o}async getClaims(s,a={keys:[]}){try{let o=s;if(!o){const{data:C,error:A}=await this.getSession();if(A||!C.session)return{data:null,error:A};o=C.session.access_token}const{header:c,payload:h,signature:f,raw:{header:g,payload:p}}=rl(o);if(T0(h.exp),!c.kid||c.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:C}=await this.getUser(o);if(C)throw C;return{data:{claims:h,header:c,signature:f},error:null}}const x=P0(c.alg),y=await this.fetchJwk(c.kid,a),w=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,f,p0(`${g}.${p}`)))throw new _s("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}}}bs.nextInstanceID=0;const K0=bs;class Q0 extends K0{constructor(s){super(s)}}var G0=function(u,s,a,o){function c(h){return h instanceof a?h:new a(function(f){f(h)})}return new(a||(a=Promise))(function(h,f){function g(y){try{x(o.next(y))}catch(w){f(w)}}function p(y){try{x(o.throw(y))}catch(w){f(w)}}function x(y){y.done?h(y.value):c(y.value).then(g,p)}x((o=o.apply(u,s||[])).next())})};class J0{constructor(s,a,o){var c,h,f;if(this.supabaseUrl=s,this.supabaseKey=a,!s)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const g=Xp(s),p=new URL(g);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const x=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:Hp,realtime:Kp,auth:Object.assign(Object.assign({},Wp),{storageKey:x}),global:qp},w=e0(o??{},y);this.storageKey=(c=w.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(h=w.global.headers)!==null&&h!==void 0?h:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(k,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,w.global.fetch),this.fetch=Yp(a,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new fp(new URL("rest/v1",p).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new tp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fp(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},o={}){return this.rest.rpc(s,a,o)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,a;return G0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:o,storage:c,storageKey:h,flowType:f,lock:g,debug:p},x,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q0({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),x),storageKey:h,autoRefreshToken:s,persistSession:a,detectSessionInUrl:o,storage:c,flowType:f,lock:g,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new Ep(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,o)=>{this._handleTokenChanged(a,"CLIENT",o?.access_token)})}_handleTokenChanged(s,a,o){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y0=(u,s,a)=>new J0(u,s,a),Th="https://pxvimagfvonwxygmtgpi.supabase.co",Ph="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB4dmltYWdmdm9ud3h5Z210Z3BpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyODg4NjcsImV4cCI6MjA2Njg2NDg2N30.U0ZAojLgRS680JpP2HXZhm1Q_vce6i8o9k5zZ3Jx6LA";console.log("Environment check:",{envUrl:"Set",envKey:"Set (hardcoded anon key)",finalUrl:"Set",finalKey:"Set (hardcoded anon key)"});const Fe=Y0(Th,Ph);async function Z0(){try{console.log("Testing Supabase connection..."),console.log("Using URL:",Th),console.log("Using Key:",Ph?"Present":"Missing");const{data:u,error:s}=await Fe.from("donation_centers").select("count").limit(1);return s?(console.error("Supabase connection failed:",s),{success:!1,error:s.message}):(console.log("Supabase connection successful!"),{success:!0,data:u})}catch(u){return console.error("Supabase connection test failed:",u),{success:!1,error:u}}}const Ah=I.createContext(void 0);function Xi(){const u=I.useContext(Ah);if(u===void 0)throw new Error("useAuth must be used within an AuthProvider");return u}function X0(){const[u,s]=I.useState(null),[a,o]=I.useState(!0);return I.useEffect(()=>{const f=localStorage.getItem("donor");if(f)try{s(JSON.parse(f))}catch{localStorage.removeItem("donor")}o(!1)},[]),{donor:u,loading:a,login:async f=>{try{o(!0);const g=`${f.firstName}${f.lastName}${f.dateOfBirth}${f.avisDonorCenter}`,p=await yl(g),{data:x,error:y}=await Fe.from("donors").select("*").eq("donor_hash_id",p).eq("is_active",!0).single();if(y)return console.error("Database error:",y),{success:!1,error:"Authentication failed. Please check your information."};if(!x)return{success:!1,error:"No active donor account found with these details."};const w={donor_hash_id:x.donor_hash_id,preferred_language:x.preferred_language||"en",preferred_communication_channel:x.preferred_communication_channel||"email",initial_vetting_status:x.initial_vetting_status||!1,total_donations_this_year:x.total_donations_this_year||0,last_donation_date:x.last_donation_date,is_active:x.is_active,avis_donor_center:x.avis_donor_center||f.avisDonorCenter};return s(w),localStorage.setItem("donor",JSON.stringify(w)),await Fe.rpc("create_audit_log",{p_user_id:w.donor_hash_id,p_user_type:"donor",p_action:"login",p_details:"Donor successfully logged in",p_status:"success"}),{success:!0}}catch(g){return console.error("Login error:",g),{success:!1,error:"An error occurred during authentication"}}finally{o(!1)}},logout:()=>{u&&(async()=>{try{await Fe.rpc("create_audit_log",{p_user_id:u.donor_hash_id,p_user_type:"donor",p_action:"logout",p_details:"Donor logged out",p_status:"success"})}catch(f){console.error("Failed to create audit log:",f)}})(),s(null),localStorage.removeItem("donor")}}}function eg({children:u}){const s=X0();return n.jsx(Ah.Provider,{value:s,children:u})}const Dh=I.createContext(void 0);function Cn(){const u=I.useContext(Dh);if(u===void 0)throw new Error("useStaffAuth must be used within a StaffAuthProvider");return u}function tg(){const[u,s]=I.useState(null),[a,o]=I.useState(!0);return I.useEffect(()=>{const f=localStorage.getItem("staff");if(f)try{s(JSON.parse(f))}catch{localStorage.removeItem("staff")}o(!1)},[]),{staff:u,loading:a,login:async(f,g)=>{try{o(!0);const{data:p,error:x}=await Fe.from("staff").select(`
          *,
          roles:role_id (
            role_id,
            role_name,
            description
          )
        `).eq("username",f).eq("is_active",!0).single();if(x)return console.error("Staff lookup error:",x),{success:!1,error:"Invalid username or password"};if(!p)return{success:!1,error:"Invalid username or password"};if(await yl(g+p.salt)!==p.password_hash)return{success:!1,error:"Invalid username or password"};const{error:w}=await Fe.from("staff").update({last_login_timestamp:new Date().toISOString()}).eq("staff_id",p.staff_id);w&&console.error("Failed to update last login timestamp:",w);const k={staff_id:p.staff_id,username:p.username,first_name:p.first_name,last_name:p.last_name,email:p.email,phone_number:p.phone_number,last_login_timestamp:new Date().toISOString(),is_active:p.is_active,mfa_enabled:p.mfa_enabled,created_at:p.created_at,updated_at:p.updated_at,role:p.roles?{role_id:p.roles.role_id,role_name:p.roles.role_name,description:p.roles.description}:void 0};return s(k),localStorage.setItem("staff",JSON.stringify(k)),await Fe.rpc("create_audit_log",{p_user_id:k.staff_id,p_user_type:"staff",p_action:"login",p_details:"Staff member successfully logged in",p_status:"success"}),{success:!0}}catch(p){return console.error("Staff login error:",p),{success:!1,error:"An error occurred during login"}}finally{o(!1)}},logout:()=>{u&&(async()=>{try{await Fe.rpc("create_audit_log",{p_user_id:u.staff_id,p_user_type:"staff",p_action:"logout",p_details:"Staff member logged out",p_status:"success"})}catch(f){console.error("Failed to create audit log:",f)}})(),s(null),localStorage.removeItem("staff")}}}function rg({children:u}){const s=tg();return n.jsx(Dh.Provider,{value:s,children:u})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(u,s)=>{const a=I.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:h=2,absoluteStrokeWidth:f,className:g="",children:p,...x},y)=>I.createElement("svg",{ref:y,...ng,width:c,height:c,stroke:o,strokeWidth:f?Number(h)*24/Number(c):h,className:["lucide",`lucide-${sg(u)}`,g].join(" "),...x},[...s.map(([w,k])=>I.createElement(w,k)),...Array.isArray(p)?p:[p]]));return a.displayName=`${u}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=re("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=re("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=re("Cross",[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z",key:"1t5g7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=re("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=re("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=re("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=re("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kg=[{value:"AVIS Casalmaggiore",label:"AVIS Casalmaggiore"},{value:"AVIS Gussola",label:"AVIS Gussola"},{value:"AVIS Viadana",label:"AVIS Viadana"},{value:"AVIS Piadena",label:"AVIS Piadena"},{value:"AVIS Rivarolo del Re",label:"AVIS Rivarolo del Re"},{value:"AVIS Scandolara-Ravara",label:"AVIS Scandolara-Ravara"},{value:"AVIS Calvatone",label:"AVIS Calvatone"}];function Sg({onShowRegistration:u,onBackToLanding:s}){const[a,o]=I.useState({firstName:"",lastName:"",dateOfBirth:"",avisDonorCenter:""}),[c,h]=I.useState(""),{login:f,loading:g}=Xi(),p=(y,w)=>{o(k=>({...k,[y]:w})),h("")},x=async y=>{if(y.preventDefault(),h(""),!a.firstName.trim()||!a.lastName.trim()||!a.dateOfBirth||!a.avisDonorCenter){h("Please fill in all fields");return}const w={firstName:a.firstName.trim(),lastName:a.lastName.trim(),donorId:"",dateOfBirth:a.dateOfBirth,avisDonorCenter:a.avisDonorCenter},k=await f(w);k.success||h(k.error||"Authentication failed")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-8 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[s&&n.jsxs("button",{onClick:s,className:"flex items-center text-white/80 hover:text-white transition-colors",children:[n.jsx(br,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:n.jsx(nh,{className:"w-8 h-8 text-white"})})}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Donor Portal"}),n.jsx("p",{className:"text-red-100 text-sm mt-1",children:"Sign in to access your AVIS account"})]}),n.jsx("div",{className:"w-16"})," "]})}),n.jsxs("div",{className:"px-8 py-8",children:[n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"firstName",value:a.firstName,onChange:y=>p("firstName",y.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your first name",disabled:g,autoComplete:"given-name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"lastName",value:a.lastName,onChange:y=>p("lastName",y.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your last name",disabled:g,autoComplete:"family-name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(bl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"date",id:"dateOfBirth",value:a.dateOfBirth,onChange:y=>p("dateOfBirth",y.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 text-gray-900",disabled:g,autoComplete:"bday"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"avisDonorCenter",className:"block text-sm font-semibold text-gray-700 mb-2",children:"AVIS Donor Center"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ea,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("select",{id:"avisDonorCenter",value:a.avisDonorCenter,onChange:y=>p("avisDonorCenter",y.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 appearance-none bg-white text-gray-900",disabled:g,children:[n.jsx("option",{value:"",children:"Select your AVIS center"}),kg.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))]})]})]}),c&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsx("p",{className:"text-sm text-red-600 font-medium",children:c})}),n.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg font-semibold hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:g?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Authenticating..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(nh,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),u&&n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Don't have an account?"}),n.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[n.jsx(zh,{className:"w-4 h-4 mr-2"}),"Register as New Donor"]})]})}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500",children:[n.jsx(at,{className:"w-3 h-3 mr-1"}),"Secure authentication using your personal information"]})})]})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Need help? Contact your AVIS center administrator"})})]})})}const Cg=[{value:"Avis Casalmaggiore",label:"AVIS Casalmaggiore"},{value:"Avis Gussola",label:"AVIS Gussola"},{value:"Avis Viadana",label:"AVIS Viadana"},{value:"Avis Piadena",label:"AVIS Piadena"},{value:"Avis Rivarolo del Re",label:"AVIS Rivarolo del Re"},{value:"Avis Scandolara-Ravara",label:"AVIS Scandolara-Ravara"},{value:"Avis Calvatone",label:"AVIS Calvatone"}];function Eg({onBack:u,onSuccess:s,onBackToLanding:a}){const[o,c]=I.useState({firstName:"",lastName:"",dateOfBirth:"",avisDonorCenter:""}),[h,f]=I.useState(!1),[g,p]=I.useState(""),[x,y]=I.useState(""),w=(A,R)=>{c(O=>({...O,[A]:R})),p("")},k=()=>{if(!o.firstName.trim())return"First name is required";if(!o.lastName.trim())return"Last name is required";if(!o.dateOfBirth)return"Date of birth is required";if(!o.avisDonorCenter)return"AVIS Donor Center is required";const A=new Date(o.dateOfBirth),R=new Date,O=R.getFullYear()-A.getFullYear(),B=R.getMonth()-A.getMonth();return O<18||O===18&&B<0||O===18&&B===0&&R.getDate()<A.getDate()?"You must be at least 18 years old to register":null},C=async A=>{A.preventDefault();const R=k();if(R){p(R);return}try{f(!0),p("");const O=`${o.firstName}${o.lastName}${o.dateOfBirth}${o.avisDonorCenter}`,B=await yl(O),{data:ne,error:L}=await Fe.from("donors").select("donor_hash_id").eq("donor_hash_id",B).single();if(L&&L.code!=="PGRST116"){console.error("Error checking existing donor:",L),p("Registration failed. Please try again.");return}if(ne){p("A donor account already exists with these details. Please contact AVIS staff for assistance.");return}const F=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),{error:ie}=await Fe.from("donors").insert({donor_hash_id:B,salt:F,preferred_language:"en",preferred_communication_channel:"email",initial_vetting_status:!1,total_donations_this_year:0,last_donation_date:null,is_active:!1,avis_donor_center:o.avisDonorCenter});if(ie){console.error("Error creating donor record:",ie),p("Registration failed. Please try again.");return}await Fe.rpc("create_audit_log",{p_user_id:B,p_user_type:"donor",p_action:"registration",p_details:"New donor registration submitted for verification",p_status:"success"}),y("Registration successful! Your information has been securely processed and submitted for verification. AVIS staff will verify you as a donor and notify you when your account is activated. You will then be able to log in using your personal details."),c({firstName:"",lastName:"",dateOfBirth:"",avisDonorCenter:""}),setTimeout(()=>{s()},5e3)}catch(O){console.error("Registration error:",O),p("Registration failed. Please try again.")}finally{f(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center p-4",children:n.jsx("div",{className:"w-full max-w-2xl",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-8 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:u,className:"flex items-center text-white/80 hover:text-white transition-colors",children:[n.jsx(br,{className:"w-5 h-5 mr-2"}),"Back"]}),a&&n.jsxs("button",{onClick:a,className:"flex items-center text-white/60 hover:text-white transition-colors text-sm",children:[n.jsx(br,{className:"w-4 h-4 mr-1"}),"Home"]})]}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:n.jsx(zh,{className:"w-8 h-8 text-white"})})}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Donor Registration"}),n.jsx("p",{className:"text-red-100 text-sm mt-1",children:"Create your secure AVIS donor account"})]}),n.jsx("div",{className:"w-16"})," "]})}),n.jsxs("div",{className:"px-8 py-8",children:[x&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Je,{className:"w-5 h-5 text-green-600 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-800 font-medium mb-2",children:"Registration Successful!"}),n.jsx("p",{className:"text-green-700 text-sm",children:x})]})]})}),g&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-red-800 font-medium",children:g})]})}),n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Yi,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3"}),n.jsxs("div",{className:"text-sm text-red-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Privacy & Security:"}),n.jsx("p",{children:"Your personal information will be securely hashed and the original data will not be stored. This ensures GDPR compliance while maintaining secure authentication."})]})]})}),n.jsxs("form",{onSubmit:C,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"firstName",value:o.firstName,onChange:A=>w("firstName",A.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200",placeholder:"Enter your first name",disabled:h,required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"lastName",value:o.lastName,onChange:A=>w("lastName",A.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200",placeholder:"Enter your last name",disabled:h,required:!0})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(bl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"date",id:"dateOfBirth",value:o.dateOfBirth,onChange:A=>w("dateOfBirth",A.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200",disabled:h,required:!0,max:new Date(new Date().setFullYear(new Date().getFullYear()-18)).toISOString().split("T")[0]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You must be at least 18 years old to donate"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"avisDonorCenter",className:"block text-sm font-semibold text-gray-700 mb-2",children:"AVIS Donor Center *"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ea,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("select",{id:"avisDonorCenter",value:o.avisDonorCenter,onChange:A=>w("avisDonorCenter",A.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 appearance-none bg-white",disabled:h,required:!0,children:[n.jsx("option",{value:"",children:"Select your AVIS center"}),Cg.map(A=>n.jsx("option",{value:A.value,children:A.label},A.value))]})]})]}),n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(vt,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-3"}),n.jsxs("div",{className:"text-sm text-amber-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Important:"}),n.jsx("p",{children:"After registration and AVIS staff verification, you will log in using these exact details (First Name, Last Name, Date of Birth, and AVIS Center). Please ensure all information is accurate as it cannot be changed later."})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Je,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Verification Process:"}),n.jsx("p",{children:"After submitting your registration, AVIS staff will verify your eligibility as a donor and activate your account. You will be notified when your account is ready for use."})]})]})}),n.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg font-semibold hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:h?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Nr,{className:"w-5 h-5 animate-spin mr-2"}),"Submitting for Verification..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx($h,{className:"w-5 h-5 mr-2"}),"Submit Registration"]})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500",children:[n.jsx(Yi,{className:"w-3 h-3 mr-1"}),"GDPR compliant • Hash-based authentication • No PII stored"]})})]})]})})})}function Tg({onBackToLanding:u}){const[s,a]=I.useState(""),[o,c]=I.useState(""),[h,f]=I.useState(!1),[g,p]=I.useState(""),{login:x,loading:y}=Cn(),w=async k=>{if(k.preventDefault(),p(""),!s.trim()||!o.trim()){p("Please enter both username and password");return}const C=await x(s.trim(),o);C.success||p(C.error||"Login failed")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-8 py-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[u&&n.jsxs("button",{onClick:u,className:"flex items-center text-white/80 hover:text-white transition-colors",children:[n.jsx(br,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"bg-white/20 p-4 rounded-full backdrop-blur-sm",children:n.jsx(Yi,{className:"w-10 h-10 text-white"})})}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Staff Portal"}),n.jsx("p",{className:"text-red-100 text-sm mt-2",children:"Secure access to administrative dashboard"})]}),n.jsx("div",{className:"w-16"})," "]})}),n.jsxs("div",{className:"px-8 py-8",children:[n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(St,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",id:"username",value:s,onChange:k=>a(k.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your username",disabled:y,autoComplete:"username"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(rh,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:h?"text":"password",id:"password",value:o,onChange:k=>c(k.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your password",disabled:y,autoComplete:"current-password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!h),disabled:y,children:h?n.jsx(ug,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):n.jsx(Nl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]})]}),g&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Ss,{className:"h-5 w-5 text-red-400"})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-600 font-medium",children:g})})]})}),n.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-4 rounded-lg font-semibold hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:y?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Authenticating..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Yi,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500",children:[n.jsx(rh,{className:"w-3 h-3 mr-1"}),"Secured with enterprise-grade encryption"]})})]})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsx("p",{className:"text-sm text-gray-300",children:"Authorized personnel only • Contact IT for support"})})]})})}function Pg({onBack:u}){const{donor:s}=Xi(),[a,o]=I.useState("type"),[c,h]=I.useState(null),[f,g]=I.useState([]),[p,x]=I.useState(null),[y,w]=I.useState(!1),[k,C]=I.useState(""),[A,R]=I.useState(!1),O=[{type:"Blood",icon:Oh,title:"Blood Donation",description:"Whole blood donation to help save lives",duration:"45-60 minutes",color:"from-red-500 to-red-600",bgColor:"bg-red-50",iconColor:"text-red-600",borderColor:"border-red-200 hover:border-red-300"},{type:"Plasma",icon:jr,title:"Plasma Donation",description:"Plasma donation for medical treatments",duration:"90-120 minutes",color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",iconColor:"text-blue-600",borderColor:"border-blue-200 hover:border-blue-300"}],B=async K=>{try{w(!0),C("");const{data:de,error:xe}=await Fe.from("availability_slots").select(`
          *,
          donation_centers!inner (
            center_id,
            name,
            address,
            city,
            country,
            contact_phone,
            email
          )
        `).eq("donation_type",K).eq("is_available",!0).gt("slot_datetime",new Date().toISOString()).order("slot_datetime",{ascending:!0});if(xe){console.error("Error fetching slots:",xe),C("Failed to load available appointments. Please try again.");return}const Re=de?.map(ye=>({slot_id:ye.slot_id,center_id:ye.center_id,slot_datetime:ye.slot_datetime,donation_type:ye.donation_type,capacity:ye.capacity,current_bookings:ye.current_bookings,center:ye.donation_centers?{center_id:ye.donation_centers.center_id,name:ye.donation_centers.name,address:ye.donation_centers.address,city:ye.donation_centers.city,country:ye.donation_centers.country,contact_phone:ye.donation_centers.contact_phone,email:ye.donation_centers.email}:void 0}))||[];g(Re)}catch(de){console.error("Error fetching slots:",de),C("Failed to load available appointments. Please try again.")}finally{w(!1)}},ne=K=>{h(K),o("slots"),B(K)},L=K=>{x(K),o("confirmation")},F=async()=>{if(!(!p||!s||!c))try{w(!0),C("");const{data:K,error:de}=await Fe.from("appointments").insert({donor_hash_id:s.donor_hash_id,donation_center_id:p.center_id,appointment_datetime:p.slot_datetime,donation_type:c,status:"scheduled",booking_channel:"online",confirmation_sent:!1,reminder_sent:!1}).select().single();if(de){console.error("Error creating appointment:",de),C("Failed to book appointment. Please try again.");return}const{error:xe}=await Fe.from("availability_slots").update({current_bookings:p.current_bookings+1}).eq("slot_id",p.slot_id);xe&&console.error("Error updating slot:",xe),await Fe.rpc("create_audit_log",{p_user_id:s.donor_hash_id,p_user_type:"donor",p_action:"appointment_booking",p_details:`Appointment booked for ${c} donation on ${new Date(p.slot_datetime).toLocaleDateString()}`,p_resource_type:"appointments",p_resource_id:K.appointment_id,p_status:"success"}),R(!0),o("success")}catch(K){console.error("Error booking appointment:",K),C("Failed to book appointment. Please try again.")}finally{w(!1)}},ie=K=>{const de=new Date(K);return{date:de.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:de.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}},ue=(K,de)=>{const xe=K/de*100;return xe<50?"text-green-600 bg-green-100":xe<80?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"},ae=()=>{const K=[{id:"type",label:"Type",completed:a!=="type"},{id:"slots",label:"Schedule",completed:a==="confirmation"||a==="success"},{id:"confirmation",label:"Confirm",completed:a==="success"}];return n.jsx("div",{className:"flex items-center justify-center mb-8",children:K.map((de,xe)=>n.jsxs(Qi.Fragment,{children:[n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-200 ${de.completed?"bg-blue-600 border-blue-600 text-white":a===de.id?"border-blue-600 text-blue-600 bg-blue-50":"border-gray-300 text-gray-400"}`,children:de.completed?n.jsx(th,{className:"w-5 h-5"}):n.jsx("span",{className:"text-sm font-semibold",children:xe+1})}),n.jsx("div",{className:"ml-3 mr-8",children:n.jsx("p",{className:`text-sm font-medium ${de.completed||a===de.id?"text-gray-900":"text-gray-400"}`,children:de.label})}),xe<K.length-1&&n.jsx("div",{className:`flex-1 h-0.5 mx-4 ${de.completed?"bg-blue-600":"bg-gray-300"}`})]},de.id))})},je=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Donation Type"}),n.jsx("p",{className:"text-gray-600",children:"Select the type of donation you'd like to make"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:O.map(K=>{const de=K.icon;return n.jsx("button",{onClick:()=>ne(K.type),className:`p-8 rounded-2xl border-2 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] ${K.borderColor} ${K.bgColor} hover:shadow-lg`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`inline-flex p-4 rounded-full ${K.bgColor} mb-4`,children:n.jsx(de,{className:`w-8 h-8 ${K.iconColor}`})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:K.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:K.description}),n.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[n.jsx(Ct,{className:"w-4 h-4 mr-2"}),K.duration]})]})},K.type)})})]}),Pe=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Appointments"}),n.jsxs("p",{className:"text-gray-600",children:["Choose a convenient time for your ",c?.toLowerCase()," donation"]})]}),y?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Nr,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading available appointments..."})]}):f.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(at,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No appointments available"}),n.jsx("p",{className:"text-gray-600",children:"Please try again later or contact us for assistance."})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-6xl mx-auto",children:f.map(K=>{const de=ie(K.slot_datetime),xe=ue(K.current_bookings,K.capacity);return n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:K.center?.name}),n.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[n.jsx(ea,{className:"w-4 h-4 mr-1"}),K.center?.address,", ",K.center?.city]})]}),n.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${xe}`,children:[K.capacity-K.current_bookings," spots left"]})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(at,{className:"w-4 h-4 mr-3 text-blue-600"}),n.jsx("span",{className:"font-medium",children:de.date})]}),n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(Ct,{className:"w-4 h-4 mr-3 text-blue-600"}),n.jsx("span",{className:"font-medium",children:de.time})]})]}),K.center?.contact_phone&&n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[n.jsx(vg,{className:"w-3 h-3 mr-2"}),K.center.contact_phone]}),n.jsx("button",{onClick:()=>L(K),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:"Select This Time"})]})},K.slot_id)})})]}),Le=()=>{if(!p||!c)return null;const K=ie(p.slot_datetime);return n.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Confirm Your Appointment"}),n.jsx("p",{className:"text-gray-600",children:"Please review your appointment details"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Appointment Summary"})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-600",children:"Donation Type"}),n.jsx("span",{className:"font-semibold text-gray-900",children:c})]}),n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-600",children:"Date"}),n.jsx("span",{className:"font-semibold text-gray-900",children:K.date})]}),n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-600",children:"Time"}),n.jsx("span",{className:"font-semibold text-gray-900",children:K.time})]}),n.jsxs("div",{className:"py-3 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-600 block mb-2",children:"Location"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:p.center?.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:p.center?.address}),n.jsxs("p",{className:"text-gray-600 text-sm",children:[p.center?.city,", ",p.center?.country]})]})]}),p.center?.contact_phone&&n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsx("span",{className:"text-gray-600",children:"Contact"}),n.jsx("span",{className:"font-semibold text-gray-900",children:p.center.contact_phone})]})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(vt,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Important Reminders:"}),n.jsxs("ul",{className:"space-y-1 text-blue-700",children:[n.jsx("li",{children:"• Please arrive 15 minutes early"}),n.jsx("li",{children:"• Bring a valid ID"}),n.jsx("li",{children:"• Eat a healthy meal before donating"}),n.jsx("li",{children:"• Stay hydrated"})]})]})]})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("button",{onClick:()=>o("slots"),className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors duration-200",children:[n.jsx(br,{className:"w-4 h-4 inline mr-2"}),"Back to Slots"]}),n.jsx("button",{onClick:F,disabled:y,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 px-4 rounded-lg font-semibold hover:from-green-700 hover:to-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:y?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Nr,{className:"w-4 h-4 animate-spin mr-2"}),"Booking..."]}):n.jsxs(n.Fragment,{children:[n.jsx(th,{className:"w-4 h-4 inline mr-2"}),"Confirm Booking"]})})]})]})},De=()=>{if(!p||!c)return null;const K=ie(p.slot_datetime);return n.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto text-center",children:[n.jsx("div",{className:"bg-green-100 p-6 rounded-full w-24 h-24 mx-auto flex items-center justify-center",children:n.jsx(Je,{className:"w-12 h-12 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Appointment Confirmed!"}),n.jsxs("p",{className:"text-gray-600 text-lg",children:["Your ",c.toLowerCase()," donation is scheduled"]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Appointment Details"}),n.jsxs("div",{className:"space-y-3 text-left",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"font-semibold",children:K.date})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Time:"}),n.jsx("span",{className:"font-semibold",children:K.time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsx("span",{className:"font-semibold",children:p.center?.name})]})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-center text-green-800",children:[n.jsx(Je,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium",children:"Confirmation sent to your preferred communication channel"})]})}),n.jsx("button",{onClick:u,className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200",children:"Return to Dashboard"})]})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex justify-between items-center h-16",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("button",{onClick:u,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200 mr-4",children:[n.jsx(br,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),n.jsx(at,{className:"w-8 h-8 text-blue-600 mr-3"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Book Appointment"})]})})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ae(),k&&n.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-red-800 font-medium",children:k})]})})}),a==="type"&&je(),a==="slots"&&Pe(),a==="confirmation"&&Le(),a==="success"&&De()]})]})}function Ag({onBackToLanding:u}){const{donor:s,logout:a}=Xi(),[o,c]=I.useState(!1),[h,f]=I.useState([]),[g,p]=I.useState(!0),[x,y]=I.useState("");I.useEffect(()=>{s&&w()},[s]);const w=async()=>{try{p(!0),y("");const{data:B,error:ne}=await Fe.from("appointments").select(`
          appointment_id,
          appointment_datetime,
          donation_type,
          status,
          donation_centers (
            name,
            address,
            city
          )
        `).eq("donor_hash_id",s?.donor_hash_id).order("appointment_datetime",{ascending:!1}).limit(5);if(ne){console.error("Error fetching appointments:",ne),y("Failed to load appointment history");return}const L=(B||[]).map(F=>({appointment_id:F.appointment_id,appointment_datetime:F.appointment_datetime,donation_type:F.donation_type,status:F.status,donation_centers:F.donation_centers?.[0]||{name:"Unknown Center",address:"Address not available",city:"City not available"}}));f(L)}catch(B){console.error("Error fetching appointments:",B),y("Failed to load appointment history")}finally{p(!1)}};if(!s)return null;if(o)return n.jsx(Pg,{onBack:()=>c(!1)});const k=B=>B?new Date(B).toLocaleDateString():"Never",C=B=>{const ne=new Date(B);return{date:ne.toLocaleDateString(),time:ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},A=B=>B?"text-green-600":"text-red-600",R=B=>B?Je:Ss,O=B=>{switch(B){case"scheduled":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(jr,{className:"w-8 h-8 text-red-600 mr-3"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Vitalita Donor Portal"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Saving lives through donation"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u&&n.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 text-sm font-medium text-red-600 border border-red-200 bg-white hover:bg-red-50 rounded-lg transition-colors duration-200",children:[n.jsx(br,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),n.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[n.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full mr-4",children:n.jsx(St,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back, Donor!"}),n.jsxs("p",{className:"text-gray-600",children:[s.avis_donor_center," • ID: ",s.donor_hash_id.substring(0,8),"..."]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Center Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-900",children:[n.jsx(ea,{className:"w-4 h-4 mr-2 text-red-600"}),n.jsx("span",{className:"font-medium",children:s.avis_donor_center})]}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Ih,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Language: ",s.preferred_language.toUpperCase()]})]}),n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Sl,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Contact: ",s.preferred_communication_channel]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Account Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[Qi.createElement(R(s.initial_vetting_status),{className:`w-4 h-4 mr-2 ${A(s.initial_vetting_status)}`}),n.jsxs("span",{className:`text-sm ${A(s.initial_vetting_status)}`,children:["Vetting: ",s.initial_vetting_status?"Completed":"Pending"]})]}),n.jsxs("div",{className:"flex items-center",children:[Qi.createElement(R(s.is_active),{className:`w-4 h-4 mr-2 ${A(s.is_active)}`}),n.jsxs("span",{className:`text-sm ${A(s.is_active)}`,children:["Status: ",s.is_active?"Active":"Inactive"]})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Privacy & Security"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Je,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"text-sm",children:"GDPR Compliant"})]}),n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Je,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"text-sm",children:"Hash Authentication"})]}),n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Je,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"text-sm",children:"No PII Stored"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>c(!0),className:"p-6 border border-gray-200 rounded-lg hover:bg-red-50 hover:border-red-300 transition-all duration-200 text-left group",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-lg group-hover:bg-red-200 transition-colors",children:n.jsx(Ki,{className:"w-5 h-5 text-red-600"})}),n.jsx(at,{className:"w-6 h-6 text-red-600 ml-2"})]}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Schedule Appointment"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Book your next donation appointment"})]}),n.jsxs("button",{className:"p-6 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-all duration-200 text-left group",children:[n.jsx("div",{className:"flex items-center mb-3",children:n.jsx("div",{className:"bg-green-100 p-2 rounded-lg group-hover:bg-green-200 transition-colors",children:n.jsx(St,{className:"w-5 h-5 text-green-600"})})}),n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"View History"}),n.jsx("p",{className:"text-sm text-gray-600",children:"See past appointments and donations"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Appointments"}),g?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ct,{className:"w-6 h-6 animate-spin text-red-600 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Loading appointments..."})]}):x?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(vt,{className:"w-6 h-6 text-red-600 mr-2"}),n.jsx("span",{className:"text-red-600",children:x})]}):h.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"No appointments found"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Schedule your first donation appointment"})]}):n.jsx("div",{className:"space-y-3",children:h.map(B=>{const ne=C(B.appointment_datetime);return n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:n.jsx(at,{className:"w-4 h-4 text-red-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[B.donation_type," Donation"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[ne.date," at ",ne.time]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[B.donation_centers.name,", ",B.donation_centers.city]})]})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(B.status)}`,children:B.status})]},B.appointment_id)})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Donation Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.is_active?"Active":"Inactive"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"This Year"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.total_donations_this_year," donations"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Last Donation"}),n.jsx("span",{className:"text-sm text-gray-900",children:k(s.last_donation_date)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Vetting Status"}),n.jsx("span",{className:`text-sm font-medium ${A(s.initial_vetting_status)}`,children:s.initial_vetting_status?"Approved":"Pending"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Center"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.avis_donor_center})]})]})]})]})]})]})}function Dg(){const{staff:u}=Cn(),[s,a]=I.useState("appointments"),[o,c]=I.useState([]),[h,f]=I.useState([]),[g,p]=I.useState([]),[x,y]=I.useState(!0),[w,k]=I.useState(""),[C,A]=I.useState(""),[R,O]=I.useState(""),[B,ne]=I.useState(""),[L,F]=I.useState(""),[ie,ue]=I.useState(!1),[ae,je]=I.useState(new Set),[Pe,Le]=I.useState(1),De=20,K=[{value:"scheduled",label:"Scheduled",color:"bg-blue-100 text-blue-800",icon:Ct},{value:"confirmed",label:"Confirmed",color:"bg-green-100 text-green-800",icon:Je},{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800",icon:Ss},{value:"completed",label:"Completed",color:"bg-purple-100 text-purple-800",icon:Je},{value:"no-show",label:"No Show",color:"bg-gray-100 text-gray-800",icon:vt}];I.useEffect(()=>{de()},[]),I.useEffect(()=>{s==="appointments"?xe():Re()},[s,R,B,L,C]);const de=async()=>{try{p([{center_id:"center1",name:"Donation Center A",city:"City A"},{center_id:"center2",name:"Donation Center B",city:"City B"},{center_id:"center3",name:"Donation Center C",city:"City A"}]),await xe()}catch(P){console.error("Error fetching initial data:",P),k("Failed to load dashboard data")}},xe=async()=>{try{y(!0),k("");let P=[{appointment_id:"apt1",donor_hash_id:"donor1",staff_id:"staff1",donation_center_id:"center1",appointment_datetime:"2023-10-26T10:00:00Z",donation_type:"Blood",status:"scheduled",booking_channel:"Online",confirmation_sent:!1,reminder_sent:!1,creation_timestamp:"2023-10-25T10:00:00Z",last_updated_timestamp:"2023-10-25T10:00:00Z",donation_centers:{center_id:"center1",name:"Donation Center A",address:"Address A",city:"City A",country:"Country A",contact_phone:"123-456-7890",email:"info@centera.com"},donors:{donor_hash_id:"donor1",preferred_language:"English",preferred_communication_channel:"Email",initial_vetting_status:!0,is_active:!0}},{appointment_id:"apt2",donor_hash_id:"donor2",staff_id:"staff1",donation_center_id:"center2",appointment_datetime:"2023-10-26T11:00:00Z",donation_type:"Plasma",status:"confirmed",booking_channel:"Phone",confirmation_sent:!0,reminder_sent:!1,creation_timestamp:"2023-10-25T11:00:00Z",last_updated_timestamp:"2023-10-25T11:00:00Z",donation_centers:{center_id:"center2",name:"Donation Center B",address:"Address B",city:"City B",country:"Country B",contact_phone:"987-654-3210",email:"info@centerb.com"},donors:{donor_hash_id:"donor2",preferred_language:"Spanish",preferred_communication_channel:"SMS",initial_vetting_status:!1,is_active:!0}},{appointment_id:"apt3",donor_hash_id:"donor1",staff_id:"staff2",donation_center_id:"center1",appointment_datetime:"2023-10-27T09:00:00Z",donation_type:"Blood",status:"cancelled",booking_channel:"Walk-in",confirmation_sent:!1,reminder_sent:!1,creation_timestamp:"2023-10-26T09:00:00Z",last_updated_timestamp:"2023-10-26T09:00:00Z",donation_centers:{center_id:"center1",name:"Donation Center A",address:"Address A",city:"City A",country:"Country A",contact_phone:"123-456-7890",email:"info@centera.com"},donors:{donor_hash_id:"donor1",preferred_language:"English",preferred_communication_channel:"Email",initial_vetting_status:!0,is_active:!0}},{appointment_id:"apt4",donor_hash_id:"donor3",staff_id:"staff1",donation_center_id:"center3",appointment_datetime:"2023-10-27T10:00:00Z",donation_type:"Plasma",status:"completed",booking_channel:"Online",confirmation_sent:!0,reminder_sent:!0,creation_timestamp:"2023-10-26T10:00:00Z",last_updated_timestamp:"2023-10-26T10:00:00Z",donation_centers:{center_id:"center3",name:"Donation Center C",address:"Address C",city:"City A",country:"Country A",contact_phone:"111-222-3333",email:"info@centerc.com"},donors:{donor_hash_id:"donor3",preferred_language:"English",preferred_communication_channel:"Email",initial_vetting_status:!0,is_active:!0}},{appointment_id:"apt5",donor_hash_id:"donor2",staff_id:"staff2",donation_center_id:"center2",appointment_datetime:"2023-10-28T11:00:00Z",donation_type:"Blood",status:"no-show",booking_channel:"Phone",confirmation_sent:!1,reminder_sent:!1,creation_timestamp:"2023-10-27T11:00:00Z",last_updated_timestamp:"2023-10-27T11:00:00Z",donation_centers:{center_id:"center2",name:"Donation Center B",address:"Address B",city:"City B",country:"Country B",contact_phone:"987-654-3210",email:"info@centerb.com"},donors:{donor_hash_id:"donor2",preferred_language:"Spanish",preferred_communication_channel:"SMS",initial_vetting_status:!1,is_active:!0}}];if(R&&(P=P.filter(W=>W.donation_center_id===R)),B&&(P=P.filter(W=>W.status===B)),L){const W=new Date(L),te=new Date(L);te.setDate(te.getDate()+1),P=P.filter(we=>{const D=new Date(we.appointment_datetime);return D>=W&&D<te})}if(C){const W=C.toLowerCase();P=P.filter(te=>te.donor_hash_id.toLowerCase().includes(W)||te.donation_centers?.name.toLowerCase().includes(W)||te.donation_type.toLowerCase().includes(W)||te.status.toLowerCase().includes(W))}c(P)}catch(P){console.error("Error fetching appointments:",P),k("Failed to load appointments")}finally{y(!1)}},Re=async()=>{try{y(!0),k("");const P=[{log_id:"log1",timestamp:"2023-10-26T10:00:00Z",user_id:"staff1",user_type:"staff",action:"create_appointment",details:"Created new appointment",resource_type:"appointment",resource_id:"apt1",status:"success"},{log_id:"log2",timestamp:"2023-10-26T10:05:00Z",user_id:"staff1",user_type:"staff",action:"update_appointment_status",details:"Changed appointment status to confirmed",resource_type:"appointment",resource_id:"apt2",status:"success"},{log_id:"log3",timestamp:"2023-10-26T10:10:00Z",user_id:"staff2",user_type:"staff",action:"cancel_appointment",details:"Cancelled appointment",resource_type:"appointment",resource_id:"apt3",status:"success"},{log_id:"log4",timestamp:"2023-10-26T10:15:00Z",user_id:"staff1",user_type:"staff",action:"send_reminder",details:"Sent reminder for appointment",resource_type:"appointment",resource_id:"apt1",status:"success"},{log_id:"log5",timestamp:"2023-10-26T10:20:00Z",user_id:"staff2",user_type:"staff",action:"send_confirmation",details:"Sent confirmation for appointment",resource_type:"appointment",resource_id:"apt2",status:"success"}],W=(Pe-1)*De,te=W+De;f(P.slice(W,te))}catch(P){console.error("Error fetching audit logs:",P),k("Failed to load audit logs")}finally{y(!1)}},ye=async(P,W)=>{try{c(te=>te.map(we=>we.appointment_id===P?{...we,status:W,last_updated_timestamp:new Date().toISOString()}:we)),console.log(`Simulating update for appointment ${P} to status ${W}`)}catch(te){console.error("Error updating appointment status:",te),k("Failed to update appointment status")}},be=()=>{const P={};return o.forEach(W=>{const te=new Date(W.appointment_datetime).toDateString();P[te]||(P[te]=[]),P[te].push(W)}),P},V=P=>{const W=new Set(ae);W.has(P)?W.delete(P):W.add(P),je(W)},se=P=>{const W=new Date(P);return{date:W.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:W.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),shortDate:W.toLocaleDateString("en-US",{month:"short",day:"numeric"})}},H=P=>K.find(W=>W.value===P)||K[0],N=()=>n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 transition-all duration-200 ${ie?"p-6":"p-4"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search appointments...",value:C,onChange:P=>A(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("button",{onClick:()=>ue(!ie),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(kl,{className:"w-4 h-4 mr-2"}),"Filters",ie?n.jsx(Ns,{className:"w-4 h-4 ml-1"}):n.jsx(ks,{className:"w-4 h-4 ml-1"})]})]}),n.jsxs("button",{onClick:xe,className:"flex items-center px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),ie&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Center"}),n.jsxs("select",{value:R,onChange:P=>O(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All Centers"}),g.map(P=>n.jsxs("option",{value:P.center_id,children:[P.name," - ",P.city]},P.center_id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:B,onChange:P=>ne(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All Statuses"}),K.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("input",{type:"date",value:L,onChange:P=>F(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),b=P=>{const W=se(P.appointment_datetime),te=H(P.status),we=te.icon;return n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te.color}`,children:[n.jsx(we,{className:"w-3 h-3 mr-1"}),te.label]}),n.jsx("span",{className:"text-sm text-gray-500",children:P.donation_type})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Donor: ",P.donor_hash_id.substring(0,8),"..."]}),n.jsx("p",{className:"text-sm text-gray-600",children:P.donation_centers?.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:W.time}),n.jsx("p",{className:"text-xs text-gray-500",children:P.booking_channel})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[P.confirmation_sent&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(Je,{className:"w-3 h-3 mr-1 text-green-500"}),"Confirmed"]}),P.reminder_sent&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ct,{className:"w-3 h-3 mr-1 text-blue-500"}),"Reminded"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("select",{value:P.status,onChange:D=>ye(P.appointment_id,D.target.value),className:"text-xs px-2 py-1 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:K.map(D=>n.jsx("option",{value:D.value,children:D.label},D.value))}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:n.jsx(Nl,{className:"w-4 h-4"})})]})]})]})},P.appointment_id)},q=()=>{const P=be(),W=Object.keys(P).sort((te,we)=>new Date(te).getTime()-new Date(we).getTime());return x?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Nr,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading appointments..."})]}):W.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(at,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No appointments found"}),n.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search criteria."})]}):n.jsx("div",{className:"space-y-6",children:W.map(te=>{const we=P[te],D=ae.has(te),me=se(we[0].appointment_datetime);return n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>V(te),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:me.date}),n.jsxs("p",{className:"text-sm text-gray-600",children:[we.length," appointments"]})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex items-center space-x-2",children:K.map(ke=>{const qe=we.filter(Mt=>Mt.status===ke.value).length;return qe===0?null:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ke.color}`,children:qe},ke.value)})}),D?n.jsx(Ns,{className:"w-5 h-5"}):n.jsx(ks,{className:"w-5 h-5"})]})]}),D&&n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:we.map(ke=>b(ke))})})]},te)})})},ee=()=>x?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Nr,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading audit logs..."})]}):n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Audit Trail"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Complete log of all system activities"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(P=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(P.timestamp).toLocaleString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:P.user_id?P.user_id.substring(0,8)+"...":"System"}),n.jsx("div",{className:"text-xs text-gray-500",children:P.user_type})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.action}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:P.resource_type||"-"}),P.resource_id&&n.jsxs("div",{className:"text-xs text-gray-500",children:[P.resource_id.substring(0,8),"..."]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="success"?"bg-green-100 text-green-800":P.status==="error"?"bg-red-100 text-red-800":P.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:P.details||"-"})]},P.log_id))})]})}),h.length===De&&n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-center",children:n.jsx("button",{onClick:()=>Le(P=>P+1),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Load More"})})]}),oe=(()=>{const P=o.length,W=new Date().toDateString(),te=o.filter(D=>new Date(D.appointment_datetime).toDateString()===W),we=K.reduce((D,me)=>(D[me.value]=o.filter(ke=>ke.status===me.value).length,D),{});return{total:P,todayCount:te.length,statusCounts:we}})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointment Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage appointments and view system activity"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsxs("button",{onClick:()=>a("appointments"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="appointments"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(at,{className:"w-4 h-4 mr-2 inline"}),"Appointments"]}),n.jsxs("button",{onClick:()=>a("audit"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s==="audit"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(Lh,{className:"w-4 h-4 mr-2 inline"}),"Audit Trail"]})]})})]}),s==="appointments"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(at,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:oe.total})]})]})}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:n.jsx(Ct,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:oe.todayCount})]})]})}),K.slice(0,3).map(P=>n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-2 rounded-lg ${P.color.replace("text-","text-").replace("bg-","bg-").replace("800","100")}`,children:n.jsx(P.icon,{className:`w-5 h-5 ${P.color.replace("bg-","text-").replace("100","600")}`})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:P.label}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:oe.statusCounts[P.value]||0})]})]})},P.value))]}),w&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-red-800 font-medium",children:w})]})}),s==="appointments"&&N(),s==="appointments"?q():ee()]})}function Rg(){const{staff:u}=Cn(),[s,a]=I.useState([]),[o,c]=I.useState([]),[h,f]=I.useState(!0),[g,p]=I.useState(""),[x,y]=I.useState(""),[w,k]=I.useState(!1),[C,A]=I.useState(null),[R,O]=I.useState({center_id:"",slot_datetime:"",donation_type:"Blood",capacity:10,is_available:!0}),[B,ne]=I.useState("calendar"),[L,F]=I.useState(""),[ie,ue]=I.useState(""),[ae,je]=I.useState(""),[Pe,Le]=I.useState(!1),[De,K]=I.useState(new Set),de=[{value:"Blood",label:"Blood Donation",icon:Oh,color:"text-red-600 bg-red-100"},{value:"Plasma",label:"Plasma Donation",icon:jr,color:"text-blue-600 bg-blue-100"}];I.useEffect(()=>{xe()},[]),I.useEffect(()=>{Re()},[L,ie,ae]);const xe=async()=>{try{c([{center_id:"dc1",name:"Central Hospital",address:"123 Main St",city:"New York",country:"USA",is_active:!0},{center_id:"dc2",name:"Downtown Clinic",address:"456 Oak Ave",city:"Los Angeles",country:"USA",is_active:!0}]),await Re()}catch(D){console.error("Error fetching initial data:",D),p("Failed to load data")}},Re=async()=>{try{f(!0),p(""),a([{slot_id:"s1",center_id:"dc1",slot_datetime:"2023-10-27T10:00:00",donation_type:"Blood",capacity:10,current_bookings:5,is_available:!0,created_at:"2023-10-26T10:00:00",updated_at:"2023-10-26T10:00:00"},{slot_id:"s2",center_id:"dc1",slot_datetime:"2023-10-27T11:00:00",donation_type:"Blood",capacity:10,current_bookings:0,is_available:!0,created_at:"2023-10-26T10:00:00",updated_at:"2023-10-26T10:00:00"},{slot_id:"s3",center_id:"dc2",slot_datetime:"2023-10-27T10:00:00",donation_type:"Plasma",capacity:8,current_bookings:2,is_available:!0,created_at:"2023-10-26T10:00:00",updated_at:"2023-10-26T10:00:00"},{slot_id:"s4",center_id:"dc2",slot_datetime:"2023-10-27T11:00:00",donation_type:"Plasma",capacity:8,current_bookings:0,is_available:!0,created_at:"2023-10-26T10:00:00",updated_at:"2023-10-26T10:00:00"}])}catch(D){console.error("Error fetching slots:",D),p("Failed to load availability slots")}finally{f(!1)}},ye=async D=>{if(D.preventDefault(),!R.center_id||!R.slot_datetime||!R.donation_type||R.capacity<=0){p("Please fill in all required fields");return}try{f(!0),p(""),y("");const me={slot_id:`s${s.length+1}`,center_id:R.center_id,slot_datetime:R.slot_datetime,donation_type:R.donation_type,capacity:R.capacity,current_bookings:0,is_available:R.is_available,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(C){const ke={...C,center_id:R.center_id,slot_datetime:R.slot_datetime,donation_type:R.donation_type,capacity:R.capacity,is_available:R.is_available,updated_at:new Date().toISOString()};a(s.map(qe=>qe.slot_id===C.slot_id?ke:qe)),A(null),y("Availability slot updated successfully")}else a([...s,me]),y("Availability slot created successfully");u?.staff_id&&console.log(`Mock audit log: ${C?"Updated":"Created"} ${R.donation_type} slot for ${R.capacity} people`),H(),await Re()}catch(me){console.error("Error saving slot:",me),p("Failed to save availability slot")}finally{f(!1)}},be=async D=>{if(confirm(`Are you sure you want to delete this ${D.donation_type} slot? This action cannot be undone.`)){if(D.current_bookings>0){p("Cannot delete slot with existing bookings. Please cancel appointments first.");return}try{f(!0),p(""),a(s.filter(me=>me.slot_id!==D.slot_id)),u?.staff_id&&console.log(`Mock audit log: Deleted ${D.donation_type} slot for ${D.capacity} people`),y("Availability slot deleted successfully"),await Re()}catch(me){console.error("Error deleting slot:",me),p("Failed to delete availability slot")}finally{f(!1)}}},V=D=>{A(D),O({center_id:D.center_id,slot_datetime:D.slot_datetime.slice(0,16),donation_type:D.donation_type,capacity:D.capacity,is_available:D.is_available}),k(!0)},se=D=>{A(null),O({center_id:D.center_id,slot_datetime:"",donation_type:D.donation_type,capacity:D.capacity,is_available:D.is_available}),k(!0)},H=()=>{O({center_id:"",slot_datetime:"",donation_type:"Blood",capacity:10,is_available:!0}),A(null),k(!1)},N=D=>{const me=new Date(D);return{date:me.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:me.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),shortDate:me.toLocaleDateString("en-US",{month:"short",day:"numeric"})}},b=D=>de.find(me=>me.value===D)||de[0],q=D=>{if(!D.is_available)return{label:"Disabled",color:"bg-gray-100 text-gray-800"};const me=D.current_bookings/D.capacity*100;return me===0?{label:"Available",color:"bg-green-100 text-green-800"}:me<80?{label:"Filling Up",color:"bg-yellow-100 text-yellow-800"}:me<100?{label:"Almost Full",color:"bg-orange-100 text-orange-800"}:{label:"Full",color:"bg-red-100 text-red-800"}},ee=()=>{const D={};return s.forEach(me=>{const ke=new Date(me.slot_datetime).toDateString();D[ke]||(D[ke]=[]),D[ke].push(me)}),D},X=D=>{const me=new Set(De);me.has(D)?me.delete(D):me.add(D),K(me)},oe=()=>n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 transition-all duration-200 ${Pe?"p-6":"p-4"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsxs("button",{onClick:()=>Le(!Pe),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(kl,{className:"w-4 h-4 mr-2"}),"Filters",Pe?n.jsx(Ns,{className:"w-4 h-4 ml-1"}):n.jsx(ks,{className:"w-4 h-4 ml-1"})]}),n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsxs("button",{onClick:()=>ne("calendar"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${B==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(at,{className:"w-4 h-4 mr-1 inline"}),"Calendar"]}),n.jsxs("button",{onClick:()=>ne("list"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${B==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(Ct,{className:"w-4 h-4 mr-1 inline"}),"List"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:Re,className:"flex items-center px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>k(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:[n.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})]}),Pe&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Center"}),n.jsxs("select",{value:L,onChange:D=>F(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All Centers"}),o.map(D=>n.jsxs("option",{value:D.center_id,children:[D.name," - ",D.city]},D.center_id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Type"}),n.jsxs("select",{value:ie,onChange:D=>ue(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All Types"}),de.map(D=>n.jsx("option",{value:D.value,children:D.label},D.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("input",{type:"date",value:ae,onChange:D=>je(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),P=D=>{const me=N(D.slot_datetime),ke=b(D.donation_type),qe=ke.icon,Mt=q(D);return n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:`p-2 rounded-lg ${ke.color}`,children:n.jsx(qe,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:D.donation_type}),n.jsx("p",{className:"text-sm text-gray-600",children:D.donation_centers?.name})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ct,{className:"w-4 h-4 mr-1"}),me.time]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(pl,{className:"w-4 h-4 mr-1"}),D.current_bookings,"/",D.capacity]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Mt.color}`,children:Mt.label}),n.jsx("div",{className:"relative",children:n.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:n.jsx(yg,{className:"w-4 h-4"})})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",new Date(D.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>se(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Duplicate slot",children:n.jsx(og,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>V(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit slot",children:n.jsx(xg,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>be(D),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete slot",disabled:D.current_bookings>0,children:n.jsx(bg,{className:"w-4 h-4"})})]})]})]})},D.slot_id)},W=()=>{const D=ee(),me=Object.keys(D).sort((ke,qe)=>new Date(ke).getTime()-new Date(qe).getTime());return me.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(at,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No availability slots found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first availability slot to get started."}),n.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:[n.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Add Availability Slot"]})]}):n.jsx("div",{className:"space-y-6",children:me.map(ke=>{const qe=D[ke],Mt=De.has(ke),Ts=N(qe[0].slot_datetime);return n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>X(ke),className:"w-full px-6 py-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Ts.date}),n.jsxs("p",{className:"text-sm text-gray-600",children:[qe.length," slots available"]})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex items-center space-x-2",children:de.map($t=>{const En=qe.filter(Tn=>Tn.donation_type===$t.value).length;return En===0?null:n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$t.color}`,children:[En," ",$t.value]},$t.value)})}),Mt?n.jsx(Ns,{className:"w-5 h-5"}):n.jsx(ks,{className:"w-5 h-5"})]})]}),Mt&&n.jsx("div",{className:"p-6 border-t border-gray-200",children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:qe.map($t=>P($t))})})]},ke)})})},te=()=>s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ct,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No availability slots found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first availability slot to get started."}),n.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:[n.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Add Availability Slot"]})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(D=>P(D))}),we=()=>w?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:C?"Edit Availability Slot":"Add New Availability Slot"}),n.jsx("button",{onClick:H,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:n.jsx(El,{className:"w-5 h-5"})})]})}),n.jsxs("form",{onSubmit:ye,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Center *"}),n.jsxs("select",{value:R.center_id,onChange:D=>O({...R,center_id:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select a center"}),o.map(D=>n.jsxs("option",{value:D.center_id,children:[D.name," - ",D.city]},D.center_id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time *"}),n.jsx("input",{type:"datetime-local",value:R.slot_datetime,onChange:D=>O({...R,slot_datetime:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Type *"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:de.map(D=>{const me=D.icon;return n.jsx("button",{type:"button",onClick:()=>O({...R,donation_type:D.value}),className:`p-4 border-2 rounded-lg transition-all duration-200 ${R.donation_type===D.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx("div",{className:`p-2 rounded-lg ${D.color}`,children:n.jsx(me,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium",children:D.value})]})},D.value)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity *"}),n.jsx("input",{type:"number",min:"1",max:"100",value:R.capacity,onChange:D=>O({...R,capacity:parseInt(D.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of appointments for this slot"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"is_available",checked:R.is_available,onChange:D=>O({...R,is_available:D.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"is_available",className:"ml-2 block text-sm text-gray-700",children:"Available for booking"})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:H,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:h?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Nr,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx($h,{className:"w-4 h-4 mr-2"}),C?"Update Slot":"Create Slot"]})})]})]})]})}):null;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Availability Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage appointment slots for donation centers"})]}),x&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Je,{className:"w-5 h-5 text-green-600 mr-3"}),n.jsx("p",{className:"text-green-800 font-medium",children:x})]})}),g&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-red-800 font-medium",children:g})]})}),oe(),h&&!w?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Nr,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading availability slots..."})]}):n.jsx(n.Fragment,{children:B==="calendar"?W():te()}),we()]})}function Og(){const{staff:u}=Cn(),[s,a]=I.useState([]),[o,c]=I.useState(!0),[h,f]=I.useState(""),[g,p]=I.useState(0),[x,y]=I.useState(1),[w]=I.useState(50),[k,C]=I.useState("timestamp"),[A,R]=I.useState("desc"),[O,B]=I.useState(!1),[ne,L]=I.useState({startDate:"",endDate:"",userType:"",action:"",status:"",searchTerm:""}),[F,ie]=I.useState(null),[ue,ae]=I.useState(!1),je=[{value:"staff",label:"Staff",icon:St,color:"bg-blue-100 text-blue-800"},{value:"donor",label:"Donor",icon:St,color:"bg-green-100 text-green-800"},{value:"system",label:"System",icon:sh,color:"bg-purple-100 text-purple-800"},{value:"admin",label:"Admin",icon:St,color:"bg-red-100 text-red-800"},{value:"anonymous",label:"Anonymous",icon:St,color:"bg-gray-100 text-gray-800"}],Pe=[{value:"success",label:"Success",icon:Je,color:"bg-green-100 text-green-800"},{value:"failure",label:"Failure",icon:Ss,color:"bg-red-100 text-red-800"},{value:"error",label:"Error",icon:vt,color:"bg-red-100 text-red-800"},{value:"warning",label:"Warning",icon:vt,color:"bg-yellow-100 text-yellow-800"}];I.useEffect(()=>{const b=[];for(let q=0;q<100;q++)b.push({log_id:`log-${q}`,timestamp:new Date(Date.now()-Math.random()*1e9).toISOString(),user_id:`user-${q%5}`,user_type:je[q%5].value,action:`action-${q%10}`,details:`details for log ${q}`,ip_address:`192.168.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}`,user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",resource_type:`resource-type-${q%3}`,resource_id:`resource-id-${q}`,status:Pe[q%4].value});a(b),p(b.length)},[x,k,A,ne]);const Le=b=>{k===b?R(A==="asc"?"desc":"asc"):(C(b),R("desc"))},De=(b,q)=>{L(ee=>({...ee,[b]:q})),y(1)},K=()=>{L({startDate:"",endDate:"",userType:"",action:"",status:"",searchTerm:""}),y(1)},de=async()=>{try{const b=[["Timestamp","User ID","User Type","Action","Status","Resource Type","Resource ID","IP Address","Details"].join(","),...s.map(oe=>[new Date(oe.timestamp).toLocaleString(),oe.user_id||"",oe.user_type,oe.action,oe.status,oe.resource_type||"",oe.resource_id||"",oe.ip_address||"",`"${(oe.details||"").replace(/"/g,'""')}"`].join(","))].join(`
`),q=new Blob([b],{type:"text/csv"}),ee=window.URL.createObjectURL(q),X=document.createElement("a");X.href=ee,X.download=`system-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(X),X.click(),document.body.removeChild(X),window.URL.revokeObjectURL(ee)}catch(b){console.error("Error exporting logs:",b),f("Failed to export logs")}},xe=b=>{const q=new Date(b);return{date:q.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),time:q.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),full:q.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}},Re=b=>je.find(q=>q.value===b)||je[0],ye=b=>Pe.find(q=>q.value===b)||Pe[0],be=b=>{if(!b)return{device:"Unknown",browser:"Unknown"};const q=/Mobile|Android|iPhone|iPad/.test(b),ee=/iPad|Tablet/.test(b);let X="Unknown";return b.includes("Chrome")?X="Chrome":b.includes("Firefox")?X="Firefox":b.includes("Safari")?X="Safari":b.includes("Edge")&&(X="Edge"),{device:ee?"Tablet":q?"Mobile":"Desktop",browser:X}},V=()=>n.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 transition-all duration-200 ${O?"p-6":"p-4"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Uh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search logs...",value:ne.searchTerm,onChange:b=>De("searchTerm",b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("button",{onClick:()=>B(!O),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(kl,{className:"w-4 h-4 mr-2"}),"Filters",O?n.jsx(Ns,{className:"w-4 h-4 ml-1"}):n.jsx(ks,{className:"w-4 h-4 ml-1"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>y(1),className:"flex items-center px-4 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:de,className:"flex items-center px-4 py-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",children:[n.jsx(cg,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),O&&n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:ne.startDate,onChange:b=>De("startDate",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),n.jsx("input",{type:"date",value:ne.endDate,onChange:b=>De("endDate",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),n.jsxs("select",{value:ne.userType,onChange:b=>De("userType",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All User Types"}),je.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),n.jsx("input",{type:"text",placeholder:"Filter by action...",value:ne.action,onChange:b=>De("action",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:ne.status,onChange:b=>De("status",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All Statuses"}),Pe.map(b=>n.jsx("option",{value:b.value,children:b.label},b.value))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:K,className:"w-full px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Clear Filters"})})]})})]}),se=b=>{const q=xe(b.timestamp),ee=Re(b.user_type),X=ye(b.status),oe=ee.icon,P=X.icon,W=be(b.user_agent);return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:q.date}),n.jsx("div",{className:"text-xs text-gray-500",children:q.time})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-1 rounded-full ${ee.color} mr-2`,children:n.jsx(oe,{className:"w-3 h-3"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:b.user_id?`${b.user_id.substring(0,8)}...`:"System"}),n.jsx("div",{className:"text-xs text-gray-500",children:ee.label})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900 font-medium",children:b.action}),b.resource_type&&n.jsxs("div",{className:"text-xs text-gray-500",children:[b.resource_type,": ",b.resource_id?.substring(0,8),"..."]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ih,{className:"w-3 h-3 text-gray-400 mr-1"}),n.jsx("span",{className:"text-sm text-gray-900",children:b.ip_address||"Unknown"})]}),b.user_agent&&n.jsxs("div",{className:"flex items-center mt-1",children:[W.device==="Mobile"?n.jsx(jg,{className:"w-3 h-3 text-gray-400 mr-1"}):n.jsx(sh,{className:"w-3 h-3 text-gray-400 mr-1"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[W.device," • ",W.browser]})]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X.color}`,children:[n.jsx(P,{className:"w-3 h-3 mr-1"}),X.label]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:b.details||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("button",{onClick:()=>{ie(b),ae(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors",children:n.jsx(Nl,{className:"w-4 h-4"})})})]},b.log_id)},H=()=>{if(!F||!ue)return null;const b=xe(F.timestamp),q=Re(F.user_type),ee=ye(F.status),X=be(F.user_agent);return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Log Entry Details"}),n.jsx("button",{onClick:()=>ae(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:n.jsx(Ss,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timestamp"}),n.jsx("p",{className:"text-sm text-gray-900",children:b.full})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Log ID"}),n.jsx("p",{className:"text-sm text-gray-900 font-mono",children:F.log_id})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID"}),n.jsx("p",{className:"text-sm text-gray-900 font-mono",children:F.user_id||"System"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type"}),n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q.color}`,children:[n.jsx(q.icon,{className:"w-3 h-3 mr-1"}),q.label]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),n.jsx("p",{className:"text-sm text-gray-900 font-medium",children:F.action})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.color}`,children:[n.jsx(ee.icon,{className:"w-3 h-3 mr-1"}),ee.label]})]})]}),(F.resource_type||F.resource_id)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resource Type"}),n.jsx("p",{className:"text-sm text-gray-900",children:F.resource_type||"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resource ID"}),n.jsx("p",{className:"text-sm text-gray-900 font-mono",children:F.resource_id||"-"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Address"}),n.jsx("p",{className:"text-sm text-gray-900",children:F.ip_address||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Info"}),n.jsxs("p",{className:"text-sm text-gray-900",children:[X.device," • ",X.browser]})]})]}),F.details&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Details"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:F.details})})]}),F.user_agent&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Agent"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsx("p",{className:"text-xs text-gray-600 font-mono break-all",children:F.user_agent})})]})]})]})})},N=()=>{const b=Math.ceil(g/w),q=(x-1)*w+1,ee=Math.min(x*w,g);return n.jsxs("div",{className:"bg-white px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",q," to ",ee," of ",g," entries"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>y(X=>Math.max(X-1,1)),disabled:x===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,b)},(X,oe)=>{const P=Math.max(1,x-2)+oe;return P>b?null:n.jsx("button",{onClick:()=>y(P),className:`px-3 py-1 text-sm border rounded-md ${x===P?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:P},P)}),n.jsx("button",{onClick:()=>y(X=>Math.min(X+1,b)),disabled:x===b,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Logs"}),n.jsx("p",{className:"text-gray-600",children:"Complete audit trail of all system activities"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",g.toLocaleString()," entries"]})})]}),h&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"w-5 h-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-red-800 font-medium",children:h})]})}),V(),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:o?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Nr,{className:"w-8 h-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading system logs..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(dg,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No logs found"}),n.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search criteria."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Le("timestamp"),children:n.jsxs("div",{className:"flex items-center",children:["Timestamp",n.jsx(Hi,{className:"w-3 h-3 ml-1"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Le("user_type"),children:n.jsxs("div",{className:"flex items-center",children:["User",n.jsx(Hi,{className:"w-3 h-3 ml-1"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Le("action"),children:n.jsxs("div",{className:"flex items-center",children:["Action",n.jsx(Hi,{className:"w-3 h-3 ml-1"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Network Info"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Le("status"),children:n.jsxs("div",{className:"flex items-center",children:["Status",n.jsx(Hi,{className:"w-3 h-3 ml-1"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(b=>se(b))})]})}),N()]})}),H()]})}function ah({onBackToLanding:u}){const{staff:s,logout:a}=Cn(),[o,c]=I.useState("overview"),[h,f]=I.useState({todayAppointments:0,activeDonors:0,activeCenters:0,pendingReviews:0}),[g,p]=I.useState(!0);I.useEffect(()=>{s&&x()},[s]);const x=async()=>{try{p(!0);const C=new Date,A=new Date(C.getFullYear(),C.getMonth(),C.getDate()).toISOString(),R=new Date(C.getFullYear(),C.getMonth(),C.getDate(),23,59,59).toISOString(),{count:O}=await Fe.from("appointments").select("*",{count:"exact",head:!0}).gte("appointment_datetime",A).lte("appointment_datetime",R),{count:B}=await Fe.from("donors").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:ne}=await Fe.from("donation_centers").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:L}=await Fe.from("donors").select("*",{count:"exact",head:!0}).eq("initial_vetting_status",!1);f({todayAppointments:O||0,activeDonors:B||0,activeCenters:ne||0,pendingReviews:L||0})}catch(C){console.error("Error fetching dashboard stats:",C)}finally{p(!1)}};if(!s)return null;const y=C=>C?new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",w=C=>{const A={admin:"bg-red-100 text-red-800",manager:"bg-red-100 text-red-800",coordinator:"bg-red-100 text-red-800",staff:"bg-red-100 text-red-800",default:"bg-gray-100 text-gray-800"};return A[C.toLowerCase()]||A.default},k=[{id:"overview",label:"Overview",icon:Rh},{id:"appointments",label:"Appointments",icon:ag},{id:"availability",label:"Availability",icon:bl},{id:"logs",label:"System Logs",icon:Lh},{id:"donors",label:"Donors",icon:pl},{id:"centers",label:"Centers",icon:eh},{id:"settings",label:"Settings",icon:ih}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(jr,{className:"w-8 h-8 text-red-600 mr-3"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Vitalita Staff Portal"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Administrative dashboard and management"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u&&n.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 text-sm font-medium text-red-600 border border-red-200 bg-white hover:bg-red-50 rounded-lg transition-colors duration-200",children:[n.jsx(br,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),n.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[n.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsxs("div",{className:"lg:w-64 flex-shrink-0",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:n.jsx("nav",{className:"space-y-2",children:k.map(C=>{const A=C.icon;return n.jsxs("button",{onClick:()=>c(C.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${o===C.id?"bg-red-100 text-red-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(A,{className:"w-4 h-4 mr-3"}),C.label]},C.id)})})}),n.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Staff Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Role"}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(s.role?.role_name||"staff")}`,children:s.role?.role_name||"Staff"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 truncate",children:s.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Last Login"}),n.jsx("p",{className:"text-sm text-gray-900",children:y(s.last_login_timestamp)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Je,{className:"w-3 h-3 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"Active"})]})]})]})]})]}),n.jsxs("div",{className:"flex-1",children:[o==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 text-white",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",s.first_name,"!"]}),n.jsx("p",{className:"text-red-100",children:"Here's what's happening with your donation centers today."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(at,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Appointments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g?"...":h.todayAppointments})]})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx(Ng,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-green-600",children:"Scheduled for today"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(pl,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Donors"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g?"...":h.activeDonors})]})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx(Je,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-green-600",children:"Verified and active"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(eh,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Centers"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g?"...":h.activeCenters})]})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx(Je,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-green-600",children:"All operational"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(Ct,{className:"w-6 h-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reviews"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g?"...":h.pendingReviews})]})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsx(vt,{className:"w-4 h-4 text-orange-500 mr-1"}),n.jsx("span",{className:"text-orange-600",children:"Requires attention"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:[{action:"New appointment scheduled",time:"2 minutes ago",type:"appointment"},{action:"Donor profile updated",time:"15 minutes ago",type:"donor"},{action:"Center capacity increased",time:"1 hour ago",type:"center"},{action:"Staff member logged in",time:"2 hours ago",type:"staff"}].map((C,A)=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${C.type==="appointment"||C.type==="donor"||C.type==="center"?"bg-red-500":"bg-gray-500"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900",children:C.action}),n.jsx("p",{className:"text-xs text-gray-500",children:C.time})]})]},A))})})]})]}),o==="appointments"&&n.jsx(Dg,{}),o==="availability"&&n.jsx(Rg,{}),o==="logs"&&n.jsx(Og,{}),o!=="overview"&&o!=="appointments"&&o!=="availability"&&o!=="logs"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[n.jsx("div",{className:"bg-gray-100 p-4 rounded-full w-16 h-16 mx-auto mb-4",children:n.jsx(ih,{className:"w-8 h-8 text-gray-400 mx-auto mt-1"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:[k.find(C=>C.id===o)?.label," Section"]}),n.jsx("p",{className:"text-gray-600",children:"This section is under development. Full functionality will be available soon."})]})]})]})})]})}const Ig=[{icon:n.jsx(at,{className:"w-8 h-8 text-red-600"}),title:"Easy Booking",desc:"Book your donation in just a few clicks with our virtual assistant."},{icon:n.jsx(Cl,{className:"w-8 h-8 text-red-600"}),title:"Guaranteed Safety",desc:"All AWS centers meet the highest safety standards."},{icon:n.jsx(hg,{className:"w-8 h-8 text-red-600"}),title:"AWS Community",desc:"Join thousands of donors across the country."},{icon:n.jsx(Ct,{className:"w-8 h-8 text-red-600"}),title:"Flexible Hours",desc:"Many available times to fit your schedule."}],Lg=["Start the Conversation - Use our advanced booking wizard or chat with the virtual assistant","Identity Verification - Secure identification with your name, AWS center, and donor ID with birth generation","Eligibility & Scheduling - Advanced eligibility checking and smart scheduling with real-time availability","Instant Confirmation - Multiple delivery options, QR codes, calendar integration and automated reminders"],Mg=[{icon:n.jsx(Rh,{className:"w-6 h-6 text-red-600"}),title:"Smart Scheduling",desc:"Real-time availability, Live slot checking, Capacity management, Conflict detection"},{icon:n.jsx(Cl,{className:"w-6 h-6 text-red-600"}),title:"Eligibility Checking",desc:"Medical history review, Annual holds, Health screening"},{icon:n.jsx(fg,{className:"w-6 h-6 text-red-600"}),title:"Multi-Channel Delivery",desc:"Email, SMS, Calendar, Automated reminders"},{icon:n.jsx(wg,{className:"w-6 h-6 text-red-600"}),title:"Advanced Features",desc:"Draft saving, Rescheduling, QR codes"}],$g=[{icon:n.jsx(at,{className:"w-8 h-8 text-red-600"}),title:"Easy Booking",desc:"Reserve in a few clicks."},{icon:n.jsx(Cl,{className:"w-8 h-8 text-red-600"}),title:"Maximum Safety",desc:"All centers certified."},{icon:n.jsx(jr,{className:"w-8 h-8 text-red-600"}),title:"Save Lives",desc:"One donation saves up to 3 people."},{icon:n.jsx(Ct,{className:"w-8 h-8 text-red-600"}),title:"Flexible Hours",desc:"Times that fit your schedule."}];function Wi(u,s=1200){const[a,o]=I.useState(0);return I.useEffect(()=>{let c=0;const h=u/(s/16);let f;function g(){c+=h,c<u?(o(Math.floor(c)),f=requestAnimationFrame(g)):o(u)}return g(),()=>cancelAnimationFrame(f)},[u,s]),a}const Ug=({onDonorPortal:u,onStaffPortal:s})=>{const[a,o]=I.useState(!1),[c,h]=I.useState(!1),f={hero:I.useRef(null),statistics:I.useRef(null),features:I.useRef(null),registration:I.useRef(null),process:I.useRef(null),footer:I.useRef(null)};I.useEffect(()=>{const w=k=>{k.target.closest(".secondary-menu")||h(!1)};return c&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[c]);const g=w=>{o(!1),f[w].current?.scrollIntoView({behavior:"smooth"})},p=[Wi(5e5),Wi(150),Wi(1e6),Wi(24)],x=[{label:"Home",to:"hero",onClick:void 0},{label:"Book Donation",to:"process",onClick:void 0},{label:"Donor Portal",to:"registration",onClick:u},{label:"FAQ",to:"footer",onClick:void 0}],y=[{label:"Analytics",to:"statistics",onClick:void 0},{label:"Staff Area",to:"features",onClick:s}];return n.jsxs("div",{className:"font-sans bg-gray-50 text-gray-900",children:[n.jsxs("header",{className:"sticky top-0 z-30 bg-white/90 shadow-sm backdrop-blur-md",children:[n.jsxs("nav",{className:"max-w-7xl mx-auto flex items-center justify-between px-4 py-3 md:py-4",children:[n.jsx("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>g("hero"),children:n.jsxs("span",{className:"inline-flex items-center text-2xl font-bold text-red-600",children:[n.jsx(jr,{className:"w-7 h-7 mr-1",fill:"#DC2626"})," Vitalita"]})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-8 text-base font-medium",children:[x.map(w=>n.jsx("button",{onClick:w.onClick?w.onClick:()=>g(w.to),className:`transition-all focus:outline-none ${w.label==="Book Donation"?"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 shadow-md hover:shadow-lg transform hover:scale-105":"hover:text-red-600"}`,children:w.label},w.label)),n.jsxs("div",{className:"relative secondary-menu",children:[n.jsxs("button",{onClick:()=>h(!c),className:"flex items-center space-x-1 hover:text-red-600 transition-colors focus:outline-none",children:[n.jsx("span",{children:"More"}),n.jsx(ig,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`})]}),c&&n.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:y.map(w=>n.jsx("button",{onClick:()=>{h(!1),w.onClick?w.onClick():g(w.to)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 hover:text-red-600 transition-colors",children:w.label},w.label))})]})]}),n.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>o(w=>!w),"aria-label":"Open menu",children:a?n.jsx(El,{className:"w-7 h-7"}):n.jsx(pg,{className:"w-7 h-7"})})]}),a&&n.jsx("div",{className:"md:hidden bg-white shadow-lg border-t border-gray-100 animate-fade-in-down",children:n.jsxs("div",{className:"flex flex-col px-6 py-4 space-y-2",children:[x.map(w=>n.jsx("button",{onClick:w.onClick?w.onClick:()=>g(w.to),className:`text-lg text-left py-2 px-2 rounded focus:outline-none ${w.label==="Book Donation"?"bg-red-600 text-white font-semibold hover:bg-red-700 shadow-md":"hover:bg-gray-100"}`,children:w.label},w.label)),n.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2 px-2",children:"More Options"}),y.map(w=>n.jsx("button",{onClick:()=>{o(!1),w.onClick?w.onClick():g(w.to)},className:"text-lg text-left py-2 px-2 rounded hover:bg-gray-100 focus:outline-none text-gray-600",children:w.label},w.label))]})]})})]}),n.jsxs("section",{ref:f.hero,className:"relative flex flex-col items-center justify-center min-h-[40vh] px-4 py-6 bg-gradient-to-b from-white to-gray-50 text-center",children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 leading-tight",children:["Schedule Your Donation, ",n.jsx("span",{className:"text-red-600",children:"Save Lives"})]}),n.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-700 mb-8",children:"Book your blood or plasma donation online in minutes."}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold shadow-md hover:bg-red-700 transition-all focus:outline-none focus:ring-2 focus:ring-red-400",children:"Book Donation"})})]}),n.jsx("section",{ref:f.statistics,className:"max-w-7xl mx-auto px-4 py-4",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:n.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 text-center",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jr,{className:"w-6 h-6 text-red-600"}),n.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:[p[0].toLocaleString(),"+"]}),n.jsx("span",{className:"text-gray-600 font-medium",children:"Donations"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lg,{className:"w-6 h-6 text-red-600"}),n.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:[p[1],"+"]}),n.jsx("span",{className:"text-gray-600 font-medium",children:"Centers"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Je,{className:"w-6 h-6 text-red-600"}),n.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:[p[2].toLocaleString(),"+"]}),n.jsx("span",{className:"text-gray-600 font-medium",children:"Lives Saved"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sl,{className:"w-6 h-6 text-red-600"}),n.jsxs("span",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:[p[3],"/7"]}),n.jsx("span",{className:"text-gray-600 font-medium",children:"Support"})]})]})})}),n.jsxs("section",{ref:f.features,className:"max-w-7xl mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-8",children:"Why Choose Vitalita?"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:Ig.map(w=>n.jsxs("div",{className:"flex items-start bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"mr-4",children:w.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-1",children:w.title}),n.jsx("p",{className:"text-gray-600 text-base",children:w.desc})]})]},w.title))})]}),n.jsxs("section",{ref:f.registration,className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:"Donor Registration & Login"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"New to Vitalita? Register as a donor or login to your existing account to manage appointments."}),n.jsx("button",{className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold shadow-md hover:bg-red-700 transition-all focus:outline-none focus:ring-2 focus:ring-red-400",onClick:u,children:"Access Donor Portal"})]}),n.jsx("section",{ref:f.process,className:"max-w-5xl mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 flex flex-col md:flex-row items-center gap-8",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:"Book Your Donation"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Our advanced booking system will guide you step by step through the process. Complete eligibility checking, smart scheduling, and instant confirmation."}),n.jsx("button",{className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold shadow-md hover:bg-red-700 transition-all focus:outline-none focus:ring-2 focus:ring-red-400",children:"Start Advanced Booking"})]}),n.jsx("div",{className:"flex-1",children:n.jsx("ol",{className:"space-y-4",children:Lg.map((w,k)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center font-bold mr-4 shadow",children:k+1}),n.jsx("span",{className:"text-gray-800 text-base font-medium",children:w})]},k))})})]})}),n.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-8",children:"Feature Highlights"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8",children:Mg.map(w=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"mb-2",children:w.icon}),n.jsx("h3",{className:"text-lg font-semibold mb-1 text-center",children:w.title}),n.jsx("p",{className:"text-gray-600 text-center text-base",children:w.desc})]},w.title))})]}),n.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-8",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-8",children:"Why Choose Vitalita?"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:$g.map(w=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center hover:shadow-md transition-shadow border border-gray-100",children:[n.jsx("div",{className:"mb-3",children:w.icon}),n.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:w.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:w.desc})]},w.title))})]}),n.jsxs("footer",{ref:f.footer,className:"bg-white border-t border-gray-200 mt-4",children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jr,{className:"w-6 h-6 text-red-600",fill:"#DC2626"}),n.jsx("span",{className:"font-bold text-lg text-red-600",children:"Vitalita"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600 text-sm",children:[n.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Company Info"}),n.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Support"}),n.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Privacy Policy"}),n.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Terms of Service"})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#","aria-label":"Twitter",className:"hover:text-red-600 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53A4.48 4.48 0 0022.4.36a9.09 9.09 0 01-2.88 1.1A4.52 4.52 0 0016.11 0c-2.5 0-4.52 2.02-4.52 4.52 0 .35.04.7.11 1.03C7.69 5.4 4.07 3.67 1.64.9c-.38.65-.6 1.4-.6 2.2 0 1.52.77 2.86 1.94 3.65A4.48 4.48 0 01.96 6v.06c0 2.13 1.52 3.9 3.54 4.3-.37.1-.76.16-1.16.16-.28 0-.55-.03-.81-.08.55 1.7 2.16 2.94 4.07 2.97A9.05 9.05 0 010 21.54a12.8 12.8 0 006.95 2.04c8.34 0 12.9-6.91 12.9-12.9 0-.2 0-.39-.01-.58A9.22 9.22 0 0023 3z"})})}),n.jsx("a",{href:"#","aria-label":"Facebook",className:"hover:text-red-600 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})})}),n.jsx("a",{href:"#","aria-label":"Instagram",className:"hover:text-red-600 transition-colors",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[n.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),n.jsx("path",{d:"M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"}),n.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.5",y2:"6.5"})]})})]})]}),n.jsxs("div",{className:"text-center text-gray-400 text-xs pb-2",children:["© ",new Date().getFullYear()," Vitalita. All rights reserved."]})]})]})},oh=({className:u=""})=>{const[s,a]=I.useState("testing"),[o,c]=I.useState(""),[h,f]=I.useState(""),g=async()=>{a("testing"),c(""),f("Testing connection...");try{const y=await Z0();y.success?(a("connected"),f("Database connection successful")):(a("failed"),c(y.error?.toString()||"Unknown error"),f("Connection failed"))}catch(y){a("failed"),c(y?.toString()||"Unknown error"),f("Connection test failed")}};I.useEffect(()=>{g()},[]);const p=()=>{switch(s){case"testing":return n.jsx(ta,{className:"w-4 h-4 animate-spin"});case"connected":return n.jsx(Je,{className:"w-4 h-4 text-green-600"});case"failed":return n.jsx(vt,{className:"w-4 h-4 text-red-600"})}},x=()=>{switch(s){case"testing":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"connected":return"bg-green-100 text-green-800 border-green-200";case"failed":return"bg-red-100 text-red-800 border-red-200"}};return n.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm ${u}`,children:n.jsxs("div",{className:`border rounded-lg p-3 shadow-lg ${x()}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[p(),n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold text-sm",children:[s==="testing"&&"Testing Connection...",s==="connected"&&"Connected",s==="failed"&&"Connection Failed"]}),n.jsx("div",{className:"text-xs opacity-75",children:h})]})]}),n.jsx("button",{onClick:g,className:"text-xs px-2 py-1 rounded hover:bg-black hover:bg-opacity-10 transition-colors",title:"Retest connection",children:"Retest"})]}),s==="failed"&&o&&n.jsx("div",{className:"mt-2 text-xs",children:n.jsxs("details",{children:[n.jsx("summary",{className:"cursor-pointer font-medium",children:"Error Details"}),n.jsx("div",{className:"mt-1 p-2 bg-black bg-opacity-10 rounded text-xs font-mono break-all",children:o})]})})]})})},mt={n8nWebhookUrl:"https://n8n.nashero.aero/webhook/71d0f3a7-040d-465e-b365-c0c8f3cd586f",title:"Vitalita Assistant",welcomeMessage:"Hello! I'm here to help you with your blood donation questions. How can I assist you today?",fallbackResponses:[`I'm here to help! You can ask me about:
• Booking appointments
• Donation requirements
• Center locations
• General questions`,`I can help you with:
• Scheduling blood donations
• Finding nearby centers
• Understanding eligibility
• Answering FAQs`,`Need assistance? I can help with:
• Appointment booking
• Donation guidelines
• Center information
• Health requirements`]},lh=()=>{const u=Math.floor(Math.random()*mt.fallbackResponses.length);return mt.fallbackResponses[u]},il=({n8nWebhookUrl:u=mt.n8nWebhookUrl,title:s=mt.title,welcomeMessage:a=mt.welcomeMessage})=>{const[o,c]=I.useState(!1),[h,f]=I.useState(!1),[g,p]=I.useState([{id:"1",text:a,sender:"bot",timestamp:new Date}]),[x,y]=I.useState(""),[w,k]=I.useState(!1),C=I.useRef(null),A=I.useRef(null),R=()=>{C.current?.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{R()},[g]),I.useEffect(()=>{o&&A.current&&A.current.focus()},[o]);const O=async L=>{if(!L.trim())return;const F={id:Date.now().toString(),text:L.trim(),sender:"user",timestamp:new Date};p(ie=>[...ie,F]),y(""),k(!0);try{const ie={message:L.trim(),timestamp:new Date().toISOString(),sessionId:"vitalita-chat-"+Date.now(),userAgent:navigator.userAgent,source:"vitalita-chat-widget"},ue=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ie)});if(ue.ok){const ae=await ue.json();let je="Thank you for your message. I'll get back to you soon!";Array.isArray(ae)&&ae.length>0&&ae[0]&&typeof ae[0].output=="string"?je=ae[0].output:typeof ae=="object"&&ae!==null&&typeof ae.output=="string"?je=ae.output:typeof ae=="string"&&(je=ae);const Pe={id:(Date.now()+1).toString(),text:je,sender:"bot",timestamp:new Date};p(Le=>[...Le,Pe])}else{const ae={id:(Date.now()+1).toString(),text:lh(),sender:"bot",timestamp:new Date};p(je=>[...je,ae])}}catch{const ue={id:(Date.now()+1).toString(),text:lh(),sender:"bot",timestamp:new Date};p(ae=>[...ae,ue])}finally{k(!1)}},B=L=>{L.preventDefault(),O(x)},ne=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),O(x))};return n.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!o&&n.jsx("button",{onClick:()=>c(!0),className:"bg-red-600 hover:bg-red-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 transform hover:scale-110","aria-label":"Open chat",children:n.jsx(Sl,{className:"w-6 h-6"})}),o&&n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-200 w-80 h-96 flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-4 rounded-t-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(sl,{className:"w-5 h-5 mr-2"}),n.jsx("h3",{className:"font-semibold",children:s})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f(!h),className:"text-white/80 hover:text-white transition-colors","aria-label":h?"Maximize":"Minimize",children:h?n.jsx(mg,{className:"w-4 h-4"}):n.jsx(gg,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>c(!1),className:"text-white/80 hover:text-white transition-colors","aria-label":"Close chat",children:n.jsx(El,{className:"w-4 h-4"})})]})]}),!h&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[g.map(L=>n.jsx("div",{className:`flex ${L.sender==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${L.sender==="user"?"bg-red-600 text-white":"bg-gray-100 text-gray-800"}`,children:n.jsxs("div",{className:"flex items-start space-x-2",children:[L.sender==="bot"&&n.jsx(sl,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm whitespace-pre-line",children:L.text}),n.jsx("p",{className:"text-xs opacity-70 mt-1",children:L.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),L.sender==="user"&&n.jsx(St,{className:"w-4 h-4 mt-0.5 flex-shrink-0"})]})})},L.id)),w&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sl,{className:"w-4 h-4"}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),n.jsx("div",{ref:C})]}),n.jsx("form",{onSubmit:B,className:"p-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{ref:A,type:"text",value:x,onChange:L=>y(L.target.value),onKeyPress:ne,placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",disabled:w}),n.jsx("button",{type:"submit",disabled:w||!x.trim(),className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white p-2 rounded-lg transition-colors disabled:cursor-not-allowed","aria-label":"Send message",children:n.jsx(_g,{className:"w-4 h-4"})})]})})]})]})]})};class al extends Qi.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("App Error:",s,a)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md",children:[n.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The application encountered an error. Please refresh the page."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Refresh Page"}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-sm text-gray-500",children:"Error Details"}),n.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:this.state.error?.toString()})]})]})}):this.props.children}}function zg({onBackToLanding:u}){const{donor:s,loading:a}=Xi(),[o,c]=I.useState("login");return console.log("DonorAppContent render:",{donor:s,loading:a,donorMode:o}),a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?n.jsx(Ag,{onBackToLanding:u}):o==="register"?n.jsx(Eg,{onBack:()=>c("login"),onSuccess:()=>c("login"),onBackToLanding:u}):n.jsx(Sg,{onShowRegistration:()=>c("register"),onBackToLanding:u})}function Fg({onBackToLanding:u}){const{staff:s,loading:a}=Cn();return console.log("StaffAppContent render:",{staff:s,loading:a}),a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-600"})}):s?n.jsx(ah,{onBackToLanding:u}):s?n.jsx(ah,{}):n.jsx(Tg,{onBackToLanding:u})}function Bg(){const[u,s]=I.useState("landing");return console.log("App render:",{route:u}),typeof window>"u"?n.jsx("div",{children:"Loading..."}):u==="donor"?n.jsxs(al,{children:[n.jsx(oh,{}),n.jsx(eg,{children:n.jsx(zg,{onBackToLanding:()=>s("landing")})}),n.jsx(il,{n8nWebhookUrl:mt.n8nWebhookUrl,title:mt.title,welcomeMessage:mt.welcomeMessage})]}):u==="staff"?n.jsxs(al,{children:[n.jsx(oh,{}),n.jsx(rg,{children:n.jsx(Fg,{onBackToLanding:()=>s("landing")})}),n.jsx(il,{n8nWebhookUrl:mt.n8nWebhookUrl,title:mt.title,welcomeMessage:mt.welcomeMessage})]}):n.jsxs(al,{children:[n.jsx(Ug,{onDonorPortal:()=>s("donor"),onStaffPortal:()=>s("staff")}),n.jsx(il,{n8nWebhookUrl:mt.n8nWebhookUrl,title:mt.title,welcomeMessage:mt.welcomeMessage})]})}console.log("main.tsx: Starting application...");console.log("main.tsx: Environment variables check:",{VITE_SUPABASE_URL:"Set",VITE_SUPABASE_ANON_KEY:"Set"});const Tl=document.getElementById("root");console.log("main.tsx: Root element found:",!!Tl);if(!Tl)throw console.error("main.tsx: Root element not found!"),new Error("Root element not found");const Vg=Km.createRoot(Tl);console.log("main.tsx: React root created");Vg.render(n.jsx(I.StrictMode,{children:n.jsx(Bg,{})}));console.log("main.tsx: App rendered");
